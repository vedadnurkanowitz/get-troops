(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Sv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nd={exports:{}},yo={};var O0;function RT(){if(O0)return yo;O0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return yo.Fragment=e,yo.jsx=i,yo.jsxs=i,yo}var M0;function CT(){return M0||(M0=1,Nd.exports=RT()),Nd.exports}var p=CT(),Rd={exports:{}},we={};var k0;function IT(){if(k0)return we;k0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function ue(D,Q,ne){this.props=D,this.context=Q,this.refs=J,this.updater=ne||ee}ue.prototype.isReactComponent={},ue.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},ue.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ye(){}ye.prototype=ue.prototype;function ce(D,Q,ne){this.props=D,this.context=Q,this.refs=J,this.updater=ne||ee}var Be=ce.prototype=new ye;Be.constructor=ce,W(Be,ue.prototype),Be.isPureReactComponent=!0;var Ee=Array.isArray;function he(){}var w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(D,Q,ne){var te=ne.ref;return{$$typeof:r,type:D,key:Q,ref:te!==void 0?te:null,props:ne}}function M(D,Q){return R(D.type,Q,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return Q[ne]})}var N=/\/+/g;function Ze(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):Q.toString(36)}function dt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(he,he):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,Q,ne,te,_e){var Te=typeof D;(Te==="undefined"||Te==="boolean")&&(D=null);var De=!1;if(D===null)De=!0;else switch(Te){case"bigint":case"string":case"number":De=!0;break;case"object":switch(D.$$typeof){case r:case e:De=!0;break;case x:return De=D._init,F(De(D._payload),Q,ne,te,_e)}}if(De)return _e=_e(D),De=te===""?"."+Ze(D,0):te,Ee(_e)?(ne="",De!=null&&(ne=De.replace(N,"$&/")+"/"),F(_e,Q,ne,"",function(Ui){return Ui})):_e!=null&&(I(_e)&&(_e=M(_e,ne+(_e.key==null||D&&D.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+De)),Q.push(_e)),1;De=0;var vt=te===""?".":te+":";if(Ee(D))for(var lt=0;lt<D.length;lt++)te=D[lt],Te=vt+Ze(te,lt),De+=F(te,Q,ne,Te,_e);else if(lt=H(D),typeof lt=="function")for(D=lt.call(D),lt=0;!(te=D.next()).done;)te=te.value,Te=vt+Ze(te,lt++),De+=F(te,Q,ne,Te,_e);else if(Te==="object"){if(typeof D.then=="function")return F(dt(D),Q,ne,te,_e);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return De}function se(D,Q,ne){if(D==null)return D;var te=[],_e=0;return F(D,te,"","",function(Te){return Q.call(ne,Te,_e++)}),te}function fe(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var He=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},$e={map:se,forEach:function(D,Q,ne){se(D,function(){Q.apply(this,arguments)},ne)},count:function(D){var Q=0;return se(D,function(){Q++}),Q},toArray:function(D){return se(D,function(Q){return Q})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return we.Activity=A,we.Children=$e,we.Component=ue,we.Fragment=i,we.Profiler=o,we.PureComponent=ce,we.StrictMode=a,we.Suspense=v,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,we.__COMPILER_RUNTIME={__proto__:null,c:function(D){return w.H.useMemoCache(D)}},we.cache=function(D){return function(){return D.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(D,Q,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=W({},D.props),_e=D.key;if(Q!=null)for(Te in Q.key!==void 0&&(_e=""+Q.key),Q)!S.call(Q,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Q.ref===void 0||(te[Te]=Q[Te]);var Te=arguments.length-2;if(Te===1)te.children=ne;else if(1<Te){for(var De=Array(Te),vt=0;vt<Te;vt++)De[vt]=arguments[vt+2];te.children=De}return R(D.type,_e,te)},we.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},we.createElement=function(D,Q,ne){var te,_e={},Te=null;if(Q!=null)for(te in Q.key!==void 0&&(Te=""+Q.key),Q)S.call(Q,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(_e[te]=Q[te]);var De=arguments.length-2;if(De===1)_e.children=ne;else if(1<De){for(var vt=Array(De),lt=0;lt<De;lt++)vt[lt]=arguments[lt+2];_e.children=vt}if(D&&D.defaultProps)for(te in De=D.defaultProps,De)_e[te]===void 0&&(_e[te]=De[te]);return R(D,Te,_e)},we.createRef=function(){return{current:null}},we.forwardRef=function(D){return{$$typeof:g,render:D}},we.isValidElement=I,we.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:fe}},we.memo=function(D,Q){return{$$typeof:_,type:D,compare:Q===void 0?null:Q}},we.startTransition=function(D){var Q=w.T,ne={};w.T=ne;try{var te=D(),_e=w.S;_e!==null&&_e(ne,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(he,He)}catch(Te){He(Te)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),w.T=Q}},we.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},we.use=function(D){return w.H.use(D)},we.useActionState=function(D,Q,ne){return w.H.useActionState(D,Q,ne)},we.useCallback=function(D,Q){return w.H.useCallback(D,Q)},we.useContext=function(D){return w.H.useContext(D)},we.useDebugValue=function(){},we.useDeferredValue=function(D,Q){return w.H.useDeferredValue(D,Q)},we.useEffect=function(D,Q){return w.H.useEffect(D,Q)},we.useEffectEvent=function(D){return w.H.useEffectEvent(D)},we.useId=function(){return w.H.useId()},we.useImperativeHandle=function(D,Q,ne){return w.H.useImperativeHandle(D,Q,ne)},we.useInsertionEffect=function(D,Q){return w.H.useInsertionEffect(D,Q)},we.useLayoutEffect=function(D,Q){return w.H.useLayoutEffect(D,Q)},we.useMemo=function(D,Q){return w.H.useMemo(D,Q)},we.useOptimistic=function(D,Q){return w.H.useOptimistic(D,Q)},we.useReducer=function(D,Q,ne){return w.H.useReducer(D,Q,ne)},we.useRef=function(D){return w.H.useRef(D)},we.useState=function(D){return w.H.useState(D)},we.useSyncExternalStore=function(D,Q,ne){return w.H.useSyncExternalStore(D,Q,ne)},we.useTransition=function(){return w.H.useTransition()},we.version="19.2.3",we}var V0;function Em(){return V0||(V0=1,Rd.exports=IT()),Rd.exports}var Se=Em();const DT=Sv(Se);var Cd={exports:{}},_o={},Id={exports:{}},Dd={};var z0;function jT(){return z0||(z0=1,(function(r){function e(F,se){var fe=F.length;F.push(se);e:for(;0<fe;){var He=fe-1>>>1,$e=F[He];if(0<o($e,se))F[He]=se,F[fe]=$e,fe=He;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var se=F[0],fe=F.pop();if(fe!==se){F[0]=fe;e:for(var He=0,$e=F.length,D=$e>>>1;He<D;){var Q=2*(He+1)-1,ne=F[Q],te=Q+1,_e=F[te];if(0>o(ne,fe))te<$e&&0>o(_e,ne)?(F[He]=_e,F[te]=fe,He=te):(F[He]=ne,F[Q]=fe,He=Q);else if(te<$e&&0>o(_e,fe))F[He]=_e,F[te]=fe,He=te;else break e}}return se}function o(F,se){var fe=F.sortIndex-se.sortIndex;return fe!==0?fe:F.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],x=1,A=null,O=3,H=!1,ee=!1,W=!1,J=!1,ue=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Be(F){for(var se=i(_);se!==null;){if(se.callback===null)a(_);else if(se.startTime<=F)a(_),se.sortIndex=se.expirationTime,e(v,se);else break;se=i(_)}}function Ee(F){if(W=!1,Be(F),!ee)if(i(v)!==null)ee=!0,he||(he=!0,V());else{var se=i(_);se!==null&&dt(Ee,se.startTime-F)}}var he=!1,w=-1,S=5,R=-1;function M(){return J?!0:!(r.unstable_now()-R<S)}function I(){if(J=!1,he){var F=r.unstable_now();R=F;var se=!0;try{e:{ee=!1,W&&(W=!1,ye(w),w=-1),H=!0;var fe=O;try{t:{for(Be(F),A=i(v);A!==null&&!(A.expirationTime>F&&M());){var He=A.callback;if(typeof He=="function"){A.callback=null,O=A.priorityLevel;var $e=He(A.expirationTime<=F);if(F=r.unstable_now(),typeof $e=="function"){A.callback=$e,Be(F),se=!0;break t}A===i(v)&&a(v),Be(F)}else a(v);A=i(v)}if(A!==null)se=!0;else{var D=i(_);D!==null&&dt(Ee,D.startTime-F),se=!1}}break e}finally{A=null,O=fe,H=!1}se=void 0}}finally{se?V():he=!1}}}var V;if(typeof ce=="function")V=function(){ce(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ze=N.port2;N.port1.onmessage=I,V=function(){Ze.postMessage(null)}}else V=function(){ue(I,0)};function dt(F,se){w=ue(function(){F(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(F){switch(O){case 1:case 2:case 3:var se=3;break;default:se=O}var fe=O;O=se;try{return F()}finally{O=fe}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=O;O=F;try{return se()}finally{O=fe}},r.unstable_scheduleCallback=function(F,se,fe){var He=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?He+fe:He):fe=He,F){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=fe+$e,F={id:x++,callback:se,priorityLevel:F,startTime:fe,expirationTime:$e,sortIndex:-1},fe>He?(F.sortIndex=fe,e(_,F),i(v)===null&&F===i(_)&&(W?(ye(w),w=-1):W=!0,dt(Ee,fe-He))):(F.sortIndex=$e,e(v,F),ee||H||(ee=!0,he||(he=!0,V()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var se=O;return function(){var fe=O;O=se;try{return F.apply(this,arguments)}finally{O=fe}}}})(Dd)),Dd}var U0;function OT(){return U0||(U0=1,Id.exports=jT()),Id.exports}var jd={exports:{}},en={};var L0;function MT(){if(L0)return en;L0=1;var r=Em();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:_,implementation:x}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(v,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,x)},en.flushSync=function(v){var _=d.T,x=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=x,a.d.f()}},en.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},en.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},en.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var x=_.as,A=g(x,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:H}):x==="script"&&a.d.X(v,{crossOrigin:A,integrity:O,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},en.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},en.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,A=g(x,_.crossOrigin);a.d.L(v,x,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},en.preloadModule=function(v,_){if(typeof v=="string")if(_){var x=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},en.requestFormReset=function(v){a.d.r(v)},en.unstable_batchedUpdates=function(v,_){return v(_)},en.useFormState=function(v,_,x){return d.H.useFormState(v,_,x)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var P0;function kT(){if(P0)return jd.exports;P0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jd.exports=MT(),jd.exports}var B0;function VT(){if(B0)return _o;B0=1;var r=OT(),e=Em(),i=kT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,l=f;break}if(E===l){y=!0,l=h,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,l=h;break}if(E===l){y=!0,l=f,s=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ue:return"Profiler";case J:return"StrictMode";case Ee:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case ce:return t.displayName||"Context";case ye:return(t._context.displayName||"Context")+".Consumer";case Be:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:Ze(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ze(t(n))}catch{}}return null}var dt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},He=[],$e=-1;function D(t){return{current:t}}function Q(t){0>$e||(t.current=He[$e],He[$e]=null,$e--)}function ne(t,n){$e++,He[$e]=t.current,t.current=n}var te=D(null),_e=D(null),Te=D(null),De=D(null);function vt(t,n){switch(ne(Te,n),ne(_e,t),ne(te,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?n0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=n0(n),t=i0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(te),ne(te,t)}function lt(){Q(te),Q(_e),Q(Te)}function Ui(t){t.memoizedState!==null&&ne(De,t);var n=te.current,s=i0(n,t.type);n!==s&&(ne(_e,t),ne(te,s))}function ps(t){_e.current===t&&(Q(te),Q(_e)),De.current===t&&(Q(De),fo._currentValue=fe)}var gs,ys;function Dn(t){if(gs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);gs=n&&n[1]||"",ys=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+t+ys}var li=!1;function Li(t,n){if(!t||li)return"";li=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var P=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){P=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){P=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),L=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{li=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Dn(s):""}function pr(t,n){switch(t.tag){case 26:case 27:case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return t.child!==n&&n!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Li(t.type,!1);case 11:return Li(t.type.render,!1);case 1:return Li(t.type,!0);case 31:return Dn("Activity");default:return""}}function gr(t){try{var n="",s=null;do n+=pr(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ot=Object.prototype.hasOwnProperty,Y=r.unstable_scheduleCallback,me=r.unstable_cancelCallback,je=r.unstable_shouldYield,Ge=r.unstable_requestPaint,ge=r.unstable_now,Ht=r.unstable_getCurrentPriorityLevel,Ft=r.unstable_ImmediatePriority,ln=r.unstable_UserBlockingPriority,cn=r.unstable_NormalPriority,bn=r.unstable_LowPriority,sa=r.unstable_IdlePriority,Zo=r.log,Wo=r.unstable_setDisableYieldValue,Qn=null,Gt=null;function jn(t){if(typeof Zo=="function"&&Wo(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Qn,t)}catch{}}var bt=Math.clz32?Math.clz32:tu,eu=Math.log,ra=Math.LN2;function tu(t){return t>>>=0,t===0?32:31-(eu(t)/ra|0)|0}var oi=256,yr=262144,At=4194304;function ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ui(l):(y&=E,y!==0?h=ui(y):s||(s=E&~t,s!==0&&(h=ui(s))))):(E=l&~f,E!==0?h=ui(E):y!==0?h=ui(y):s||(s=l&~t,s!==0&&(h=ui(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ih(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function hi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function _r(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dh(t,n,s,l,h,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(s=y&~s;0<s;){var G=31-bt(s),X=1<<G;E[G]=0,C[G]=-1;var P=L[G];if(P!==null)for(L[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&vr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function vr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-bt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function yl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-bt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function _l(t,n){var s=n&-n;return s=(s&42)!==0?1:br(s),(s&(t.suspendedLanes|n))!==0?0:s}function br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function iu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:w0(t.type))}function Xn(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var $n=Math.random().toString(36).slice(2),wt="__reactFiber$"+$n,Lt="__reactProps$"+$n,fi="__reactContainer$"+$n,aa="__reactEvents$"+$n,jh="__reactListeners$"+$n,su="__reactHandles$"+$n,ru="__reactResources$"+$n,di="__reactMarker$"+$n;function la(t){delete t[wt],delete t[Lt],delete t[aa],delete t[jh],delete t[su]}function mi(t){var n=t[wt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[fi]||s[wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=c0(t);t!==null;){if(s=t[wt])return s;t=c0(t)}return n}t=s,s=t.parentNode}return null}function On(t){if(t=t[wt]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function En(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function pi(t){var n=t[ru];return n||(n=t[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[di]=!0}var vl=new Set,bl={};function gi(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(bl[t]=n,t=0;t<n.length;t++)vl.add(n[t])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},xl={};function au(t){return ot.call(xl,t)?!0:ot.call(Tl,t)?!1:El.test(t)?xl[t]=!0:(Tl[t]=!0,!1)}function oa(t,n,s){if(au(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Tn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Rt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _s(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=_s(t)?"checked":"value";t._valueTracker=Sl(t,n,""+t[n])}}function Er(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=_s(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tr=/[\n"\\]/g;function hn(t){return t.replace(Tr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(t,n,s,l,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pt(n)):t.value!==""+Pt(n)&&(t.value=""+Pt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Al(t,y,Pt(n)):s!=null?Al(t,y,Pt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Pt(E):t.removeAttribute("name")}function lu(t,n,s,l,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}s=s!=null?""+Pt(s):"",n=n!=null?""+Pt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),We(t)}function Al(t,n,s){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function vs(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Pt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ou(t,n,s){if(n!=null&&(n=""+Pt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Pt(s):""}function bs(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(dt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Pt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),We(t)}function fn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||uu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Nl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&wl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&wl(t,f,n[f])}function ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return Es.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Rl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ts=null,vi=null;function xr(t){var n=On(t);if(n&&(t=n.stateNode)){var s=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ua(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(a(90));ua(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Er(l)}break e;case"textarea":ou(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&vs(t,!!s.multiple,n,!1)}}}var fa=!1;function xs(t,n,s){if(fa)return t(n,s);fa=!0;try{var l=t(n);return l}finally{if(fa=!1,(Ts!==null||vi!==null)&&(ic(),Ts&&(n=Ts,t=vi,vi=Ts=null,xr(n),t)))for(n=0;n<t.length;n++)xr(t[n])}}function Zn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Lt]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(kn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Sr=!1}var bi=null,Cl=null,Ar=null;function Il(){if(Ar)return Ar;var t,n=Cl,s=n.length,l,h="value"in bi?bi.value:bi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===h[f-l];l++);return Ar=h.slice(t,1<l?1-l:void 0)}function wr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Wn(){return!1}function Kt(t){function n(s,l,h,f,y){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:Wn,this.isPropagationStopped=Wn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Kt(qi),Ss=A({},qi,{view:0,detail:0}),Dl=Kt(Ss),As,da,Ti,ma=A({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(As=t.screenX-Ti.screenX,da=t.screenY-Ti.screenY):da=As=0,Ti=t),As)},movementY:function(t){return"movementY"in t?t.movementY:da}}),jl=Kt(ma),Nr=A({},ma,{dataTransfer:0}),hu=Kt(Nr),fu=A({},Ss,{relatedTarget:0}),Rr=Kt(fu),Ol=A({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Kt(Ol),pa=A({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mu=Kt(pa),pu=A({},qi,{data:0}),xi=Kt(pu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_u[t])?!!n[t]:!1}function ws(){return vu}var on=A({},Ss,{key:function(t){if(t.key){var n=gu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=Kt(on),Eu=A({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Kt(Eu),u=A({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=Kt(u),b=A({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Kt(b),z=A({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Kt(z),ie=A({},qi,{newState:0,oldState:0}),Re=Kt(ie),Et=[9,13,27,32],Ye=kn&&"CompositionEvent"in window,mt=null;kn&&"documentMode"in document&&(mt=document.documentMode);var Vn=kn&&"TextEvent"in window&&!mt,Si=kn&&(!Ye||mt&&8<mt&&11>=mt),ei=" ",ti=!1;function Cr(t,n){switch(t){case"keyup":return Et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ya=!1;function Z1(t,n){switch(t){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ti=!0,ei);case"textInput":return t=n.data,t===ei&&ti?null:t;default:return null}}function W1(t,n){if(ya)return t==="compositionend"||!Ye&&Cr(t,n)?(t=Il(),Ar=Cl=bi=null,ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var eE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eE[t.type]:n==="textarea"}function mp(t,n,s,l){Ts?vi?vi.push(l):vi=[l]:Ts=l,n=cc(n,"onChange"),0<n.length&&(s=new Ei("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ml=null,kl=null;function tE(t){$y(t,0)}function Tu(t){var n=En(t);if(Er(n))return t}function pp(t,n){if(t==="change")return n}var gp=!1;if(kn){var Oh;if(kn){var Mh="oninput"in document;if(!Mh){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),Mh=typeof yp.oninput=="function"}Oh=Mh}else Oh=!1;gp=Oh&&(!document.documentMode||9<document.documentMode)}function _p(){Ml&&(Ml.detachEvent("onpropertychange",vp),kl=Ml=null)}function vp(t){if(t.propertyName==="value"&&Tu(kl)){var n=[];mp(n,kl,t,Mn(t)),xs(tE,n)}}function nE(t,n,s){t==="focusin"?(_p(),Ml=n,kl=s,Ml.attachEvent("onpropertychange",vp)):t==="focusout"&&_p()}function iE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(kl)}function sE(t,n){if(t==="click")return Tu(n)}function rE(t,n){if(t==="input"||t==="change")return Tu(n)}function aE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var xn=typeof Object.is=="function"?Object.is:aE;function Vl(t,n){if(xn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ot.call(n,h)||!xn(t[h],n[h]))return!1}return!0}function bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ep(t,n){var s=bp(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=bp(s)}}function Tp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Tp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=_i(t.document)}return n}function kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lE=kn&&"documentMode"in document&&11>=document.documentMode,_a=null,Vh=null,zl=null,zh=!1;function Sp(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||_a==null||_a!==_i(l)||(l=_a,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zl&&Vl(zl,l)||(zl=l,l=cc(Vh,"onSelect"),0<l.length&&(n=new Ei("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=_a)))}function Ir(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var va={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Uh={},Ap={};kn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Dr(t){if(Uh[t])return Uh[t];if(!va[t])return t;var n=va[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ap)return Uh[t]=n[s];return t}var wp=Dr("animationend"),Np=Dr("animationiteration"),Rp=Dr("animationstart"),oE=Dr("transitionrun"),uE=Dr("transitionstart"),cE=Dr("transitioncancel"),Cp=Dr("transitionend"),Ip=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function ni(t,n){Ip.set(t,n),gi(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],ba=0,Ph=0;function Su(){for(var t=ba,n=Ph=ba=0;n<t;){var s=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&Dp(s,h,f)}}function Au(t,n,s,l){zn[ba++]=t,zn[ba++]=n,zn[ba++]=s,zn[ba++]=l,Ph|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bh(t,n,s,l){return Au(t,n,s,l),wu(t)}function jr(t,n){return Au(t,null,null,n),wu(t)}function Dp(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-bt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function wu(t){if(50<ro)throw ro=0,Jf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={};function hE(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,s,l){return new hE(t,n,s,l)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,n){var s=t.alternate;return s===null?(s=Sn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function jp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,s,l,h,f){var y=0;if(l=t,typeof t=="function")qh(t)&&(y=1);else if(typeof t=="string")y=gT(t,s,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Sn(31,s,n,h),t.elementType=R,t.lanes=f,t;case W:return Or(s.children,h,f,n);case J:y=8,h|=24;break;case ue:return t=Sn(12,s,n,h|2),t.elementType=ue,t.lanes=f,t;case Ee:return t=Sn(13,s,n,h),t.elementType=Ee,t.lanes=f,t;case he:return t=Sn(19,s,n,h),t.elementType=he,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:y=10;break e;case ye:y=9;break e;case Be:y=11;break e;case w:y=14;break e;case S:y=16,l=null;break e}y=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Sn(y,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Or(t,n,s,l){return t=Sn(7,t,l,n),t.lanes=s,t}function Hh(t,n,s){return t=Sn(6,t,null,n),t.lanes=s,t}function Op(t){var n=Sn(18,null,null,0);return n.stateNode=t,n}function Fh(t,n,s){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Mp=new WeakMap;function Un(t,n){if(typeof t=="object"&&t!==null){var s=Mp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:gr(n)},Mp.set(t,n),n)}return{value:t,source:n,stack:gr(n)}}var Ta=[],xa=0,Ru=null,Ul=0,Ln=[],Pn=0,Ns=null,Ai=1,wi="";function Gi(t,n){Ta[xa++]=Ul,Ta[xa++]=Ru,Ru=t,Ul=n}function kp(t,n,s){Ln[Pn++]=Ai,Ln[Pn++]=wi,Ln[Pn++]=Ns,Ns=t;var l=Ai;t=wi;var h=32-bt(l)-1;l&=~(1<<h),s+=1;var f=32-bt(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Ai=1<<32-bt(n)+h|s<<h|l,wi=f+t}else Ai=1<<f|s<<h|l,wi=t}function Gh(t){t.return!==null&&(Gi(t,1),kp(t,1,0))}function Kh(t){for(;t===Ru;)Ru=Ta[--xa],Ta[xa]=null,Ul=Ta[--xa],Ta[xa]=null;for(;t===Ns;)Ns=Ln[--Pn],Ln[Pn]=null,wi=Ln[--Pn],Ln[Pn]=null,Ai=Ln[--Pn],Ln[Pn]=null}function Vp(t,n){Ln[Pn++]=Ai,Ln[Pn++]=wi,Ln[Pn++]=Ns,Ai=n.id,wi=n.overflow,Ns=t}var Qt=null,ut=null,qe=!1,Rs=null,Bn=!1,Qh=Error(a(519));function Cs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Un(n,t)),Qh}function zp(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[wt]=t,n[Lt]=l,s){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<lo.length;s++)Me(lo[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),lu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),bs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||e0(n.textContent,s)?(l.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),l.onScroll!=null&&Me("scroll",n),l.onScrollEnd!=null&&Me("scrollend",n),l.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Cs(t,!0)}function Up(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Qt=Qt.return}}function Sa(t){if(t!==Qt)return!1;if(!qe)return Up(t),qe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||fd(t.type,t.memoizedProps)),s=!s),s&&ut&&Cs(t),Up(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=u0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=u0(t)}else n===27?(n=ut,Hs(t.type)?(t=yd,yd=null,ut=t):ut=n):ut=Qt?Hn(t.stateNode.nextSibling):null;return!0}function Mr(){ut=Qt=null,qe=!1}function Yh(){var t=Rs;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Rs=null),t}function Ll(t){Rs===null?Rs=[t]:Rs.push(t)}var Xh=D(null),kr=null,Ki=null;function Is(t,n,s){ne(Xh,n._currentValue),n._currentValue=s}function Qi(t){t._currentValue=Xh.current,Q(Xh)}function $h(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Jh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,t),l||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),$h(y,s,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Aa(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;xn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===De.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fo):t=[fo])}h=h.return}t!==null&&Jh(n,t,s,l),n.flags|=262144}function Cu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vr(t){kr=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Lp(kr,t)}function Iu(t,n){return kr===null&&Vr(t),Lp(t,n)}function Lp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ki===null){if(t===null)throw Error(a(308));Ki=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ki=Ki.next=n;return s}var fE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},dE=r.unstable_scheduleCallback,mE=r.unstable_NormalPriority,Ct={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new fE,data:new Map,refCount:0}}function Pl(t){t.refCount--,t.refCount===0&&dE(mE,function(){t.controller.abort()})}var Bl=null,Wh=0,wa=0,Na=null;function pE(t,n){if(Bl===null){var s=Bl=[];Wh=0,wa=id(),Na={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wh++,n.then(Pp,Pp),n}function Pp(){if(--Wh===0&&Bl!==null){Na!==null&&(Na.status="fulfilled");var t=Bl;Bl=null,wa=0,Na=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function gE(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Bp=F.S;F.S=function(t,n){Sy=ge(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pE(t,n),Bp!==null&&Bp(t,n)};var zr=D(null);function ef(){var t=zr.current;return t!==null?t:at.pooledCache}function Du(t,n){n===null?ne(zr,zr.current):ne(zr,n.pool)}function qp(){var t=ef();return t===null?null:{parent:Ct._currentValue,pool:t}}var Ra=Error(a(460)),tf=Error(a(474)),ju=Error(a(542)),Ou={then:function(){}};function Hp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t}throw Lr=n,Ra}}function Ur(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Lr=s,Ra):s}}var Lr=null;function Gp(){if(Lr===null)throw Error(a(459));var t=Lr;return Lr=null,t}function Kp(t){if(t===Ra||t===ju)throw Error(a(483))}var Ca=null,ql=0;function Mu(t){var n=ql;return ql+=1,Ca===null&&(Ca=[]),Fp(Ca,t,n)}function Hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Qp(t){function n(k,j){if(t){var U=k.deletions;U===null?(k.deletions=[j],k.flags|=16):U.push(j)}}function s(k,j){if(!t)return null;for(;j!==null;)n(k,j),j=j.sibling;return null}function l(k){for(var j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function h(k,j){return k=Fi(k,j),k.index=0,k.sibling=null,k}function f(k,j,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<j?(k.flags|=67108866,j):U):(k.flags|=67108866,j)):(k.flags|=1048576,j)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,j,U,K){return j===null||j.tag!==6?(j=Hh(U,k.mode,K),j.return=k,j):(j=h(j,U),j.return=k,j)}function C(k,j,U,K){var de=U.type;return de===W?G(k,j,U.props.children,K,U.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Ur(de)===j.type)?(j=h(j,U.props),Hl(j,U),j.return=k,j):(j=Nu(U.type,U.key,U.props,null,k.mode,K),Hl(j,U),j.return=k,j)}function L(k,j,U,K){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=Fh(U,k.mode,K),j.return=k,j):(j=h(j,U.children||[]),j.return=k,j)}function G(k,j,U,K,de){return j===null||j.tag!==7?(j=Or(U,k.mode,K,de),j.return=k,j):(j=h(j,U),j.return=k,j)}function X(k,j,U){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Hh(""+j,k.mode,U),j.return=k,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return U=Nu(j.type,j.key,j.props,null,k.mode,U),Hl(U,j),U.return=k,U;case ee:return j=Fh(j,k.mode,U),j.return=k,j;case S:return j=Ur(j),X(k,j,U)}if(dt(j)||V(j))return j=Or(j,k.mode,U,null),j.return=k,j;if(typeof j.then=="function")return X(k,Mu(j),U);if(j.$$typeof===ce)return X(k,Iu(k,j),U);ku(k,j)}return null}function P(k,j,U,K){var de=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:E(k,j,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===de?C(k,j,U,K):null;case ee:return U.key===de?L(k,j,U,K):null;case S:return U=Ur(U),P(k,j,U,K)}if(dt(U)||V(U))return de!==null?null:G(k,j,U,K,null);if(typeof U.then=="function")return P(k,j,Mu(U),K);if(U.$$typeof===ce)return P(k,j,Iu(k,U),K);ku(k,U)}return null}function q(k,j,U,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,E(j,k,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return k=k.get(K.key===null?U:K.key)||null,C(j,k,K,de);case ee:return k=k.get(K.key===null?U:K.key)||null,L(j,k,K,de);case S:return K=Ur(K),q(k,j,U,K,de)}if(dt(K)||V(K))return k=k.get(U)||null,G(j,k,K,de,null);if(typeof K.then=="function")return q(k,j,U,Mu(K),de);if(K.$$typeof===ce)return q(k,j,U,Iu(j,K),de);ku(j,K)}return null}function ae(k,j,U,K){for(var de=null,Ke=null,le=j,Ie=j=0,Ve=null;le!==null&&Ie<U.length;Ie++){le.index>Ie?(Ve=le,le=null):Ve=le.sibling;var Qe=P(k,le,U[Ie],K);if(Qe===null){le===null&&(le=Ve);break}t&&le&&Qe.alternate===null&&n(k,le),j=f(Qe,j,Ie),Ke===null?de=Qe:Ke.sibling=Qe,Ke=Qe,le=Ve}if(Ie===U.length)return s(k,le),qe&&Gi(k,Ie),de;if(le===null){for(;Ie<U.length;Ie++)le=X(k,U[Ie],K),le!==null&&(j=f(le,j,Ie),Ke===null?de=le:Ke.sibling=le,Ke=le);return qe&&Gi(k,Ie),de}for(le=l(le);Ie<U.length;Ie++)Ve=q(le,k,Ie,U[Ie],K),Ve!==null&&(t&&Ve.alternate!==null&&le.delete(Ve.key===null?Ie:Ve.key),j=f(Ve,j,Ie),Ke===null?de=Ve:Ke.sibling=Ve,Ke=Ve);return t&&le.forEach(function(Ys){return n(k,Ys)}),qe&&Gi(k,Ie),de}function ve(k,j,U,K){if(U==null)throw Error(a(151));for(var de=null,Ke=null,le=j,Ie=j=0,Ve=null,Qe=U.next();le!==null&&!Qe.done;Ie++,Qe=U.next()){le.index>Ie?(Ve=le,le=null):Ve=le.sibling;var Ys=P(k,le,Qe.value,K);if(Ys===null){le===null&&(le=Ve);break}t&&le&&Ys.alternate===null&&n(k,le),j=f(Ys,j,Ie),Ke===null?de=Ys:Ke.sibling=Ys,Ke=Ys,le=Ve}if(Qe.done)return s(k,le),qe&&Gi(k,Ie),de;if(le===null){for(;!Qe.done;Ie++,Qe=U.next())Qe=X(k,Qe.value,K),Qe!==null&&(j=f(Qe,j,Ie),Ke===null?de=Qe:Ke.sibling=Qe,Ke=Qe);return qe&&Gi(k,Ie),de}for(le=l(le);!Qe.done;Ie++,Qe=U.next())Qe=q(le,k,Ie,Qe.value,K),Qe!==null&&(t&&Qe.alternate!==null&&le.delete(Qe.key===null?Ie:Qe.key),j=f(Qe,j,Ie),Ke===null?de=Qe:Ke.sibling=Qe,Ke=Qe);return t&&le.forEach(function(NT){return n(k,NT)}),qe&&Gi(k,Ie),de}function rt(k,j,U,K){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:e:{for(var de=U.key;j!==null;){if(j.key===de){if(de=U.type,de===W){if(j.tag===7){s(k,j.sibling),K=h(j,U.props.children),K.return=k,k=K;break e}}else if(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Ur(de)===j.type){s(k,j.sibling),K=h(j,U.props),Hl(K,U),K.return=k,k=K;break e}s(k,j);break}else n(k,j);j=j.sibling}U.type===W?(K=Or(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=Nu(U.type,U.key,U.props,null,k.mode,K),Hl(K,U),K.return=k,k=K)}return y(k);case ee:e:{for(de=U.key;j!==null;){if(j.key===de)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){s(k,j.sibling),K=h(j,U.children||[]),K.return=k,k=K;break e}else{s(k,j);break}else n(k,j);j=j.sibling}K=Fh(U,k.mode,K),K.return=k,k=K}return y(k);case S:return U=Ur(U),rt(k,j,U,K)}if(dt(U))return ae(k,j,U,K);if(V(U)){if(de=V(U),typeof de!="function")throw Error(a(150));return U=de.call(U),ve(k,j,U,K)}if(typeof U.then=="function")return rt(k,j,Mu(U),K);if(U.$$typeof===ce)return rt(k,j,Iu(k,U),K);ku(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,j!==null&&j.tag===6?(s(k,j.sibling),K=h(j,U),K.return=k,k=K):(s(k,j),K=Hh(U,k.mode,K),K.return=k,k=K),y(k)):s(k,j)}return function(k,j,U,K){try{ql=0;var de=rt(k,j,U,K);return Ca=null,de}catch(le){if(le===Ra||le===ju)throw le;var Ke=Sn(29,le,null,k.mode);return Ke.lanes=K,Ke.return=k,Ke}}}var Pr=Qp(!0),Yp=Qp(!1),Ds=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=wu(t),Dp(t,null,s),n}return Au(t,l,n,s),wu(t)}function Fl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,yl(t,s)}}function rf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var af=!1;function Gl(){if(af){var t=Na;if(t!==null)throw t}}function Kl(t,n,s,l){af=!1;var h=t.updateQueue;Ds=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,L=C.next;C.next=null,y===null?f=L:y.next=L,y=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;y=0,G=L=C=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(ke&P)===P:(l&P)===P){P!==0&&P===wa&&(af=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ae=t,ve=E;P=n;var rt=s;switch(ve.tag){case 1:if(ae=ve.payload,typeof ae=="function"){X=ae.call(rt,X,P);break e}X=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ve.payload,P=typeof ae=="function"?ae.call(rt,X,P):ae,P==null)break e;X=A({},X,P);break e;case 2:Ds=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=q,C=X):G=G.next=q,y|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Us|=y,t.lanes=y,t.memoizedState=X}}function Xp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $p(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Xp(s[t],n)}var Ia=D(null),Vu=D(0);function Jp(t,n){t=ns,ne(Vu,t),ne(Ia,n),ns=t|n.baseLanes}function lf(){ne(Vu,ns),ne(Ia,Ia.current)}function of(){ns=Vu.current,Q(Ia),Q(Vu)}var An=D(null),qn=null;function Ms(t){var n=t.alternate;ne(Tt,Tt.current&1),ne(An,t),qn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(qn=t)}function uf(t){ne(Tt,Tt.current),ne(An,t),qn===null&&(qn=t)}function Zp(t){t.tag===22?(ne(Tt,Tt.current),ne(An,t),qn===null&&(qn=t)):ks()}function ks(){ne(Tt,Tt.current),ne(An,An.current)}function wn(t){Q(An),qn===t&&(qn=null),Q(Tt)}var Tt=D(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Ce=null,it=null,It=null,Uu=!1,Da=!1,Br=!1,Lu=0,Ql=0,ja=null,yE=0;function yt(){throw Error(a(321))}function cf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!xn(t[s],n[s]))return!1;return!0}function hf(t,n,s,l,h,f){return Yi=f,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?kg:wf,Br=!1,f=s(l,h),Br=!1,Da&&(f=eg(n,s,l,h)),Wp(t),f}function Wp(t){F.H=$l;var n=it!==null&&it.next!==null;if(Yi=0,It=it=Ce=null,Uu=!1,Ql=0,ja=null,n)throw Error(a(300));t===null||Dt||(t=t.dependencies,t!==null&&Cu(t)&&(Dt=!0))}function eg(t,n,s,l){Ce=t;var h=0;do{if(Da&&(ja=null),Ql=0,Da=!1,25<=h)throw Error(a(301));if(h+=1,It=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Vg,f=n(s,l)}while(Da);return f}function _E(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Yl(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ce.flags|=1024),n}function ff(){var t=Lu!==0;return Lu=0,t}function df(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function mf(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}Yi=0,It=it=Ce=null,Da=!1,Ql=Lu=0,ja=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ce.memoizedState=It=t:It=It.next=t,It}function xt(){if(it===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=It===null?Ce.memoizedState:It.next;if(n!==null)It=n,it=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},It===null?Ce.memoizedState=It=t:It=It.next=t}return It}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(t){var n=Ql;return Ql+=1,ja===null&&(ja=[]),t=Fp(ja,t,n),n=Ce,(It===null?n.memoizedState:It.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?kg:wf),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yl(t);if(t.$$typeof===ce)return Yt(t)}throw Error(a(438,String(t)))}function pf(t){var n=null,s=Ce.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),Ce.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function Xi(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=xt();return gf(n,it,t)}function gf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,C=null,L=n,G=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(ke&X)===X:(Yi&X)===X){var P=L.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===wa&&(G=!0);else if((Yi&P)===P){L=L.next,P===wa&&(G=!0);continue}else X={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=X,y=f):C=C.next=X,Ce.lanes|=P,Us|=P;X=L.action,Br&&s(f,X),f=L.hasEagerState?L.eagerState:s(f,X)}else P={lane:X,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=P,y=f):C=C.next=P,Ce.lanes|=X,Us|=X;L=L.next}while(L!==null&&L!==n);if(C===null?y=f:C.next=E,!xn(f,t.memoizedState)&&(Dt=!0,G&&(s=Na,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yf(t){var n=xt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);xn(f,n.memoizedState)||(Dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function tg(t,n,s){var l=Ce,h=xt(),f=qe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!xn((it||h).memoizedState,s);if(y&&(h.memoizedState=s,Dt=!0),h=h.queue,bf(sg.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Oa(9,{destroy:void 0},ig.bind(null,l,h,s,n),null),at===null)throw Error(a(349));f||(Yi&127)!==0||ng(l,n,s)}return s}function ng(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ce.updateQueue,n===null?(n=Pu(),Ce.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ig(t,n,s,l){n.value=s,n.getSnapshot=l,rg(n)&&ag(t)}function sg(t,n,s){return s(function(){rg(n)&&ag(t)})}function rg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!xn(t,s)}catch{return!0}}function ag(t){var n=jr(t,2);n!==null&&yn(n,t,2)}function _f(t){var n=un();if(typeof t=="function"){var s=t;if(t=s(),Br){jn(!0);try{s()}finally{jn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},n}function lg(t,n,s,l){return t.baseState=s,gf(t,it,typeof l=="function"?l:Xi)}function vE(t,n,s,l,h){if(Gu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,og(n,f)):(f.next=s.next,n.pending=s.next=f)}}function og(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=s(h,l),C=F.S;C!==null&&C(y,E),ug(t,n,E)}catch(L){vf(t,n,L)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=s(h,l),ug(t,n,f)}catch(L){vf(t,n,L)}}function ug(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){cg(t,n,l)},function(l){return vf(t,n,l)}):cg(t,n,s)}function cg(t,n,s){n.status="fulfilled",n.value=s,hg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,og(t,s)))}function vf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,hg(n),n=n.next;while(n!==l)}t.action=null}function hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fg(t,n){return n}function dg(t,n){if(qe){var s=at.formState;if(s!==null){e:{var l=Ce;if(qe){if(ut){t:{for(var h=ut,f=Bn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Hn(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(n=s[0])}}return s=un(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},s.queue=l,s=jg.bind(null,Ce,l),l.dispatch=s,l=_f(!1),f=Af.bind(null,Ce,!1,l.queue),l=un(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=vE.bind(null,Ce,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function mg(t){var n=xt();return pg(n,it,t)}function pg(t,n,s){if(n=gf(t,n,fg)[0],t=qu(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Yl(n)}catch(y){throw y===Ra?ju:y}else l=n;n=xt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ce.flags|=2048,Oa(9,{destroy:void 0},bE.bind(null,h,s),null)),[l,f,t]}function bE(t,n){t.action=n}function gg(t){var n=xt(),s=it;if(s!==null)return pg(n,s,t);xt(),n=n.memoizedState,s=xt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Oa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=Pu(),Ce.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function yg(){return xt().memoizedState}function Hu(t,n,s,l){var h=un();Ce.flags|=t,h.memoizedState=Oa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Fu(t,n,s,l){var h=xt();l=l===void 0?null:l;var f=h.memoizedState.inst;it!==null&&l!==null&&cf(l,it.memoizedState.deps)?h.memoizedState=Oa(n,f,s,l):(Ce.flags|=t,h.memoizedState=Oa(1|n,f,s,l))}function _g(t,n){Hu(8390656,8,t,n)}function bf(t,n){Fu(2048,8,t,n)}function EE(t){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=Pu(),Ce.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function vg(t){var n=xt().memoizedState;return EE({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function bg(t,n){return Fu(4,2,t,n)}function Eg(t,n){return Fu(4,4,t,n)}function Tg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,s){s=s!=null?s.concat([t]):null,Fu(4,4,Tg.bind(null,n,t),s)}function Ef(){}function Sg(t,n){var s=xt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Ag(t,n){var s=xt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=t(),Br){jn(!0);try{t()}finally{jn(!1)}}return s.memoizedState=[l,n],l}function Tf(t,n,s){return s===void 0||(Yi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=wy(),Ce.lanes|=t,Us|=t,s)}function wg(t,n,s,l){return xn(s,n)?s:Ia.current!==null?(t=Tf(t,s,l),xn(t,n)||(Dt=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(ke&261930)===0?(Dt=!0,t.memoizedState=s):(t=wy(),Ce.lanes|=t,Us|=t,n)}function Ng(t,n,s,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,Af(t,!1,n,s);try{var C=h(),L=F.S;if(L!==null&&L(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=gE(C,l);Xl(t,n,G,Cn(t))}else Xl(t,n,l,Cn(t))}catch(X){Xl(t,n,{then:function(){},status:"rejected",reason:X},Cn())}finally{se.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function TE(){}function xf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=Rg(t).queue;Ng(t,h,n,fe,s===null?TE:function(){return Cg(t),s(l)})}function Rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:fe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Cg(t){var n=Rg(t);n.next===null&&(n=t.alternate.memoizedState),Xl(t,n.next.queue,{},Cn())}function Sf(){return Yt(fo)}function Ig(){return xt().memoizedState}function Dg(){return xt().memoizedState}function xE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Cn();t=js(s);var l=Os(n,t,s);l!==null&&(yn(l,n,s),Fl(l,n,s)),n={cache:Zh()},t.payload=n;return}n=n.return}}function SE(t,n,s){var l=Cn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Og(n,s):(s=Bh(t,n,s,l),s!==null&&(yn(s,t,l),Mg(s,n,l)))}function jg(t,n,s){var l=Cn();Xl(t,n,s,l)}function Xl(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Og(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(h.hasEagerState=!0,h.eagerState=E,xn(E,y))return Au(t,n,h,0),at===null&&Su(),!1}catch{}if(s=Bh(t,n,h,l),s!==null)return yn(s,t,l),Mg(s,n,l),!0}return!1}function Af(t,n,s,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(a(479))}else n=Bh(t,s,l,2),n!==null&&yn(n,t,2)}function Gu(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function Og(t,n){Da=Uu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Mg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,yl(t,s)}}var $l={readContext:Yt,use:Bu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};$l.useEffectEvent=yt;var kg={readContext:Yt,use:Bu,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:_g,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Hu(4194308,4,Tg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var s=un();n=n===void 0?null:n;var l=t();if(Br){jn(!0);try{t()}finally{jn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=un();if(s!==void 0){var h=s(n);if(Br){jn(!0);try{s(n)}finally{jn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=SE.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=_f(t);var n=t.queue,s=jg.bind(null,Ce,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Ef,useDeferredValue:function(t,n){var s=un();return Tf(s,t,n)},useTransition:function(){var t=_f(!1);return t=Ng.bind(null,Ce,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ce,h=un();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),at===null)throw Error(a(349));(ke&127)!==0||ng(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_g(sg.bind(null,l,f,t),[t]),l.flags|=2048,Oa(9,{destroy:void 0},ig.bind(null,l,f,s,n),null),s},useId:function(){var t=un(),n=at.identifierPrefix;if(qe){var s=wi,l=Ai;s=(l&~(1<<32-bt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=yE++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Sf,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Af.bind(null,Ce,!0,s),s.dispatch=n,[t,n]},useMemoCache:pf,useCacheRefresh:function(){return un().memoizedState=xE.bind(null,Ce)},useEffectEvent:function(t){var n=un(),s={impl:t};return n.memoizedState=s,function(){if((Xe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},wf={readContext:Yt,use:Bu,useCallback:Sg,useContext:Yt,useEffect:bf,useImperativeHandle:xg,useInsertionEffect:bg,useLayoutEffect:Eg,useMemo:Ag,useReducer:qu,useRef:yg,useState:function(){return qu(Xi)},useDebugValue:Ef,useDeferredValue:function(t,n){var s=xt();return wg(s,it.memoizedState,t,n)},useTransition:function(){var t=qu(Xi)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Sf,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var s=xt();return lg(s,it,t,n)},useMemoCache:pf,useCacheRefresh:Dg};wf.useEffectEvent=vg;var Vg={readContext:Yt,use:Bu,useCallback:Sg,useContext:Yt,useEffect:bf,useImperativeHandle:xg,useInsertionEffect:bg,useLayoutEffect:Eg,useMemo:Ag,useReducer:yf,useRef:yg,useState:function(){return yf(Xi)},useDebugValue:Ef,useDeferredValue:function(t,n){var s=xt();return it===null?Tf(s,t,n):wg(s,it.memoizedState,t,n)},useTransition:function(){var t=yf(Xi)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:tg,useId:Ig,useHostTransitionStatus:Sf,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var s=xt();return it!==null?lg(s,it,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Dg};Vg.useEffectEvent=vg;function Nf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Rf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Cn(),h=js(l);h.payload=n,s!=null&&(h.callback=s),n=Os(t,h,l),n!==null&&(yn(n,t,l),Fl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Cn(),h=js(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Os(t,h,l),n!==null&&(yn(n,t,l),Fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Cn(),l=js(s);l.tag=2,n!=null&&(l.callback=n),n=Os(t,l,s),n!==null&&(yn(n,t,s),Fl(n,t,s))}};function zg(t,n,s,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Vl(s,l)||!Vl(h,f):!0}function Ug(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Rf.enqueueReplaceState(n,n.state,null)}function qr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Lg(t){xu(t)}function Pg(t){console.error(t)}function Bg(t){xu(t)}function Ku(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(t,n,s){return s=js(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(t,n)},s}function Hg(t){return t=js(t),t.tag=3,t}function Fg(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){qg(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){qg(n,s,l),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function AE(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Aa(n,s,h,!0),s=An.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?sc():s.alternate===null&&_t===0&&(_t=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),ed(t,l,h)),!1;case 22:return s.flags|=65536,l===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),ed(t,l,h)),!1}throw Error(a(435,s.tag))}return ed(t,l,h),sc(),!1}if(qe)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Qh&&(t=Error(a(422),{cause:l}),Ll(Un(t,s)))):(l!==Qh&&(n=Error(a(423),{cause:l}),Ll(Un(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,s),h=Cf(t.stateNode,l,h),rf(t,h),_t!==4&&(_t=2)),!1;var f=Error(a(520),{cause:l});if(f=Un(f,s),so===null?so=[f]:so.push(f),_t!==4&&(_t=2),n===null)return!0;l=Un(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Cf(s.stateNode,l,t),rf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ls===null||!Ls.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hg(h),Fg(h,t,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var If=Error(a(461)),Dt=!1;function Xt(t,n,s,l){n.child=t===null?Yp(n,null,s,l):Pr(n,t.child,s,l)}function Gg(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Vr(n),l=hf(t,n,s,y,f,h),E=ff(),t!==null&&!Dt?(df(t,n,h),$i(t,n,h)):(qe&&E&&Gh(n),n.flags|=1,Xt(t,n,l,h),n.child)}function Kg(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qg(t,n,f,l,h)):(t=Nu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uf(t,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(y,l)&&t.ref===n.ref)return $i(t,n,h)}return n.flags|=1,t=Fi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Qg(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Vl(f,l)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=l=f,Uf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return n.lanes=t.lanes,$i(t,n,h)}return Df(t,n,s,l,h)}function Yg(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Xg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Jp(n,f):lf(),Zp(n);else return l=n.lanes=536870912,Xg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Du(n,f.cachePool),Jp(n,f),ks(),n.memoizedState=null):(t!==null&&Du(n,null),lf(),ks());return Xt(t,n,h,s),n.child}function Jl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xg(t,n,s,l,h){var f=ef();return f=f===null?null:{parent:Ct._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Du(n,null),lf(),Zp(n),t!==null&&Aa(t,n,l,!0),n.childLanes=h,null}function Qu(t,n){return n=Xu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $g(t,n,s){return Pr(n,t.child,null,s),t=Qu(n,n.pendingProps),t.flags|=2,wn(n),n.memoizedState=null,t}function wE(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=Qu(n,l),n.lanes=536870912,Jl(null,t);if(uf(n),(t=ut)?(t=o0(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Op(t),s.return=n,n.child=s,Qt=n,ut=null)):t=null,t===null)throw Cs(n);return n.lanes=536870912,null}return Qu(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=$g(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Dt||Aa(t,n,s,!1),h=(s&t.childLanes)!==0,Dt||h){if(l=at,l!==null&&(y=_l(l,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,jr(t,y),yn(l,t,y),If;sc(),n=$g(t,n,s)}else t=f.treeContext,ut=Hn(y.nextSibling),Qt=n,qe=!0,Rs=null,Bn=!1,t!==null&&Vp(n,t),n=Qu(n,l),n.flags|=4096;return n}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Yu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Df(t,n,s,l,h){return Vr(n),s=hf(t,n,s,l,void 0,h),l=ff(),t!==null&&!Dt?(df(t,n,h),$i(t,n,h)):(qe&&l&&Gh(n),n.flags|=1,Xt(t,n,s,h),n.child)}function Jg(t,n,s,l,h,f){return Vr(n),n.updateQueue=null,s=eg(n,l,s,h),Wp(t),l=ff(),t!==null&&!Dt?(df(t,n,f),$i(t,n,f)):(qe&&l&&Gh(n),n.flags|=1,Xt(t,n,s,f),n.child)}function Zg(t,n,s,l,h){if(Vr(n),n.stateNode===null){var f=Ea,y=s.contextType;typeof y=="object"&&y!==null&&(f=Yt(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?Yt(y):Ea,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Nf(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Kl(n,l,f,h),Gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=qr(s,E);f.props=C;var L=f.context,G=s.contextType;y=Ea,typeof G=="object"&&G!==null&&(y=Yt(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==y)&&Ug(n,f,l,y),Ds=!1;var P=n.memoizedState;f.state=P,Kl(n,l,f,h),Gl(),L=n.memoizedState,E||P!==L||Ds?(typeof X=="function"&&(Nf(n,s,X,l),L=n.memoizedState),(C=Ds||zg(n,s,C,l,P,L,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),f.props=l,f.state=L,f.context=y,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(t,n),y=n.memoizedProps,G=qr(s,y),f.props=G,X=n.pendingProps,P=f.context,L=s.contextType,C=Ea,typeof L=="object"&&L!==null&&(C=Yt(L)),E=s.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||P!==C)&&Ug(n,f,l,C),Ds=!1,P=n.memoizedState,f.state=P,Kl(n,l,f,h),Gl();var q=n.memoizedState;y!==X||P!==q||Ds||t!==null&&t.dependencies!==null&&Cu(t.dependencies)?(typeof E=="function"&&(Nf(n,s,E,l),q=n.memoizedState),(G=Ds||zg(n,s,G,l,P,q,C)||t!==null&&t.dependencies!==null&&Cu(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Yu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Pr(n,t.child,null,h),n.child=Pr(n,null,s,h)):Xt(t,n,s,h),n.memoizedState=f.state,t=n.child):t=$i(t,n,h),t}function Wg(t,n,s,l){return Mr(),n.flags|=256,Xt(t,n,s,l),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(t){return{baseLanes:t,cachePool:qp()}}function Mf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Rn),t}function ey(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?Ms(n):ks(),(t=ut)?(t=o0(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Op(t),s.return=n,n.child=s,Qt=n,ut=null)):t=null,t===null)throw Cs(n);return gd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(ks(),h=n.mode,E=Xu({mode:"hidden",children:E},h),l=Or(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Of(s),l.childLanes=Mf(t,y,s),n.memoizedState=jf,Jl(null,l)):(Ms(n),kf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ms(n),n.flags&=-257,n=Vf(t,n,s)):n.memoizedState!==null?(ks(),n.child=t.child,n.flags|=128,n=null):(ks(),E=l.fallback,h=n.mode,l=Xu({mode:"visible",children:l.children},h),E=Or(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Pr(n,t.child,null,s),l=n.child,l.memoizedState=Of(s),l.childLanes=Mf(t,y,s),n.memoizedState=jf,n=Jl(null,l));else if(Ms(n),gd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,l=Error(a(419)),l.stack="",l.digest=y,Ll({value:l,source:null,stack:null}),n=Vf(t,n,s)}else if(Dt||Aa(t,n,s,!1),y=(s&t.childLanes)!==0,Dt||y){if(y=at,y!==null&&(l=_l(y,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,jr(t,l),yn(y,t,l),If;pd(E)||sc(),n=Vf(t,n,s)}else pd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ut=Hn(E.nextSibling),Qt=n,qe=!0,Rs=null,Bn=!1,t!==null&&Vp(n,t),n=kf(n,l.children),n.flags|=4096);return n}return h?(ks(),E=l.fallback,h=n.mode,C=t.child,L=C.sibling,l=Fi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,L!==null?E=Fi(L,E):(E=Or(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Jl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Of(s):(h=E.cachePool,h!==null?(C=Ct._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=qp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Mf(t,y,s),n.memoizedState=jf,Jl(t.child,l)):(Ms(n),s=t.child,t=s.sibling,s=Fi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function kf(t,n){return n=Xu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Xu(t,n){return t=Sn(22,t,null,n),t.lanes=0,t}function Vf(t,n,s){return Pr(n,t.child,null,s),t=kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ty(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$h(t.return,n,s)}function zf(t,n,s,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function ny(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=Tt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,ne(Tt,y),Xt(t,n,l,s),l=qe?Ul:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,s,n);else if(t.tag===19)ty(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&zu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}zf(n,!0,s,null,f,l);break;case"together":zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function $i(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Us|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Aa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Fi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Fi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Uf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Cu(t)))}function NE(t,n,s){switch(n.tag){case 3:vt(n,n.stateNode.containerInfo),Is(n,Ct,t.memoizedState.cache),Mr();break;case 27:case 5:Ui(n);break;case 4:vt(n,n.stateNode.containerInfo);break;case 10:Is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ms(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(t,n,s):(Ms(n),t=$i(t,n,s),t!==null?t.sibling:null);Ms(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Aa(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ny(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Tt,Tt.current),l)break;return null;case 22:return n.lanes=0,Yg(t,n,s,n.pendingProps);case 24:Is(n,Ct,t.memoizedState.cache)}return $i(t,n,s)}function iy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Dt=!0;else{if(!Uf(t,s)&&(n.flags&128)===0)return Dt=!1,NE(t,n,s);Dt=(t.flags&131072)!==0}else Dt=!1,qe&&(n.flags&1048576)!==0&&kp(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ur(n.elementType),n.type=t,typeof t=="function")qh(t)?(l=qr(t,l),n.tag=1,n=Zg(null,n,t,l,s)):(n.tag=0,n=Df(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===Be){n.tag=11,n=Gg(null,n,t,l,s);break e}else if(h===w){n.tag=14,n=Kg(null,n,t,l,s);break e}}throw n=Ze(t)||t,Error(a(306,n,""))}}return n;case 0:return Df(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=qr(l,n.pendingProps),Zg(t,n,l,h,s);case 3:e:{if(vt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(t,n),Kl(n,l,null,s);var y=n.memoizedState;if(l=y.cache,Is(n,Ct,l),l!==f.cache&&Jh(n,[Ct],s,!0),Gl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wg(t,n,l,s);break e}else if(l!==h){h=Un(Error(a(424)),n),Ll(h),n=Wg(t,n,l,s);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=Hn(t.firstChild),Qt=n,qe=!0,Rs=null,Bn=!0,s=Yp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Mr(),l===h){n=$i(t,n,s);break e}Xt(t,n,l,s)}n=n.child}return n;case 26:return Yu(t,n),t===null?(s=m0(n.type,null,n.pendingProps,null))?n.memoizedState=s:qe||(s=n.type,t=n.pendingProps,l=hc(Te.current).createElement(s),l[wt]=n,l[Lt]=t,$t(l,s,t),Nt(l),n.stateNode=l):n.memoizedState=m0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&qe&&(l=n.stateNode=h0(n.type,n.pendingProps,Te.current),Qt=n,Bn=!0,h=ut,Hs(n.type)?(yd=h,ut=Hn(l.firstChild)):ut=h),Xt(t,n,n.pendingProps.children,s),Yu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=iT(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,Qt=n,ut=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||Cs(n)),Ui(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,fd(h,f)?l=null:y!==null&&fd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(t,n,_E,null,null,s),fo._currentValue=h),Yu(t,n),Xt(t,n,l,s),n.child;case 6:return t===null&&qe&&((t=s=ut)&&(s=sT(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Qt=n,ut=null,t=!0):t=!1),t||Cs(n)),null;case 13:return ey(t,n,s);case 4:return vt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Pr(n,null,l,s):Xt(t,n,l,s),n.child;case 11:return Gg(t,n,n.type,n.pendingProps,s);case 7:return Xt(t,n,n.pendingProps,s),n.child;case 8:return Xt(t,n,n.pendingProps.children,s),n.child;case 12:return Xt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Is(n,n.type,l.value),Xt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Vr(n),h=Yt(h),l=l(h),n.flags|=1,Xt(t,n,l,s),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,s);case 15:return Qg(t,n,n.type,n.pendingProps,s);case 19:return ny(t,n,s);case 31:return wE(t,n,s);case 22:return Yg(t,n,s,n.pendingProps);case 24:return Vr(n),l=Yt(Ct),t===null?(h=ef(),h===null&&(h=at,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},nf(n),Is(n,Ct,h)):((t.lanes&s)!==0&&(sf(t,n),Kl(n,null,null,s),Gl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Is(n,Ct,l)):(l=f.cache,Is(n,Ct,l),l!==h.cache&&Jh(n,[Ct],s,!0))),Xt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ji(t){t.flags|=4}function Lf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Iy())t.flags|=8192;else throw Lr=Ou,tf}else t.flags&=-16777217}function sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v0(n))if(Iy())t.flags|=8192;else throw Lr=Ou,tf}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?nu():536870912,t.lanes|=n,za|=n)}function Zl(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function RE(t,n,s){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qi(Ct),lt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Sa(n)?Ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ji(n),f!==null?(ct(n),sy(n,f)):(ct(n),Lf(n,h,null,l,s))):f?f!==t.memoizedState?(Ji(n),ct(n),sy(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(n),ct(n),Lf(n,h,t,l,s)),null;case 27:if(ps(n),s=Te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}t=te.current,Sa(n)?zp(n):(t=h0(h,l,s),n.stateNode=t,Ji(n))}return ct(n),null;case 5:if(ps(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}if(f=te.current,Sa(n))zp(n);else{var y=hc(Te.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[wt]=n,f[Lt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch($t(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(n)}}return ct(n),Lf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Te.current,Sa(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||e0(t.nodeValue,s)),t||Cs(n,!0)}else t=hc(t).createTextNode(l),t[wt]=n,n.stateNode=t}return ct(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=Sa(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[wt]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else s=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ct(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Sa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[wt]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=Yh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),ct(n),null);case 4:return lt(),t===null&&ld(n.stateNode.containerInfo),ct(n),null;case 10:return Qi(n.type),ct(n),null;case 19:if(Q(Tt),l=n.memoizedState,l===null)return ct(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,Zl(l,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)jp(s,t),s=s.sibling;return ne(Tt,Tt.current&1|2),qe&&Gi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&ge()>tc&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return ct(n),null}else 2*ge()-l.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ge(),t.sibling=null,s=Tt.current,ne(Tt,h?s&1|2:s&1),qe&&Gi(n,l.treeForkCount),t):(ct(n),null);case 22:case 23:return wn(n),of(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&Q(zr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qi(Ct),ct(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function CE(t,n){switch(Kh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qi(Ct),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ps(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(wn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Tt),null;case 4:return lt(),null;case 10:return Qi(n.type),null;case 22:case 23:return wn(n),of(),t!==null&&Q(zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Qi(Ct),null;case 25:return null;default:return null}}function ry(t,n){switch(Kh(n),n.tag){case 3:Qi(Ct),lt();break;case 26:case 27:case 5:ps(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:Q(Tt);break;case 10:Qi(n.type);break;case 22:case 23:wn(n),of(),t!==null&&Q(zr);break;case 24:Qi(Ct)}}function Wl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==h)}}catch(E){tt(n,n.return,E)}}function Vs(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=s,L=E;try{L()}catch(G){tt(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){tt(n,n.return,G)}}function ay(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{$p(n,s)}catch(l){tt(t,t.return,l)}}}function ly(t,n,s){s.props=qr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){tt(t,n,l)}}function eo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){tt(t,n,h)}}function Ni(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){tt(t,n,h)}else s.current=null}function oy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){tt(t,t.return,h)}}function Pf(t,n,s){try{var l=t.stateNode;JE(l,t.type,s,n),l[Lt]=n}catch(h){tt(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hs(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(l!==4&&(l===27&&Hs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(qf(t,n,s),t=t.sibling;t!==null;)qf(t,n,s),t=t.sibling}function Ju(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Hs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ju(t,n,s),t=t.sibling;t!==null;)Ju(t,n,s),t=t.sibling}function cy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$t(n,l,s),n[wt]=t,n[Lt]=s}catch(f){tt(t,t.return,f)}}var Zi=!1,jt=!1,Hf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function IE(t,n){if(t=t.containerInfo,cd=_c,t=xp(t),kh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,E=-1,C=-1,L=0,G=0,X=t,P=null;t:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=y+h),X!==f||l!==0&&X.nodeType!==3||(C=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(q=X.firstChild)!==null;)P=X,X=q;for(;;){if(X===t)break t;if(P===s&&++L===h&&(E=y),P===f&&++G===l&&(C=y),(q=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:t,selectionRange:s},_c=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ae=qr(s.type,h);t=l.getSnapshotBeforeUpdate(ae,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){tt(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)md(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function fy(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:es(t,s),l&4&&Wl(5,s);break;case 1:if(es(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){tt(s,s.return,y)}else{var h=qr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){tt(s,s.return,y)}}l&64&&ay(s),l&512&&eo(s,s.return);break;case 3:if(es(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$p(t,n)}catch(y){tt(s,s.return,y)}}break;case 27:n===null&&l&4&&cy(s);case 26:case 5:es(t,s),n===null&&l&4&&oy(s),l&512&&eo(s,s.return);break;case 12:es(t,s);break;case 31:es(t,s),l&4&&py(t,s);break;case 13:es(t,s),l&4&&gy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=LE.bind(null,s),rT(t,s))));break;case 22:if(l=s.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||jt,h=Zi;var f=jt;Zi=l,(jt=n)&&!f?ts(t,s,(s.subtreeFlags&8772)!==0):es(t,s),Zi=h,jt=f}break;case 30:break;default:es(t,s)}}function dy(t){var n=t.alternate;n!==null&&(t.alternate=null,dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&la(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,dn=!1;function Wi(t,n,s){for(s=s.child;s!==null;)my(t,n,s),s=s.sibling}function my(t,n,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:jt||Ni(s,n),Wi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:jt||Ni(s,n);var l=pt,h=dn;Hs(s.type)&&(pt=s.stateNode,dn=!1),Wi(t,n,s),uo(s.stateNode),pt=l,dn=h;break;case 5:jt||Ni(s,n);case 6:if(l=pt,h=dn,pt=null,Wi(t,n,s),pt=l,dn=h,pt!==null)if(dn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(f){tt(s,n,f)}else try{pt.removeChild(s.stateNode)}catch(f){tt(s,n,f)}break;case 18:pt!==null&&(dn?(t=pt,a0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ga(t)):a0(pt,s.stateNode));break;case 4:l=pt,h=dn,pt=s.stateNode.containerInfo,dn=!0,Wi(t,n,s),pt=l,dn=h;break;case 0:case 11:case 14:case 15:Vs(2,s,n),jt||Vs(4,s,n),Wi(t,n,s);break;case 1:jt||(Ni(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ly(s,n,l)),Wi(t,n,s);break;case 21:Wi(t,n,s);break;case 22:jt=(l=jt)||s.memoizedState!==null,Wi(t,n,s),jt=l;break;default:Wi(t,n,s)}}function py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ga(t)}catch(s){tt(n,n.return,s)}}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(s){tt(n,n.return,s)}}function DE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hy),n;default:throw Error(a(435,t.tag))}}function Zu(t,n){var s=DE(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=PE.bind(null,t,l);l.then(h,h)}})}function mn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Hs(E.type)){pt=E.stateNode,dn=!1;break e}break;case 5:pt=E.stateNode,dn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,dn=!0;break e}E=E.return}if(pt===null)throw Error(a(160));my(f,y,h),pt=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,t),n=n.sibling}var ii=null;function yy(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),pn(t),l&4&&(Vs(3,t,t.return),Wl(3,t),Vs(5,t,t.return));break;case 1:mn(n,t),pn(t),l&512&&(jt||s===null||Ni(s,s.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ii;if(mn(n,t),pn(t),l&512&&(jt||s===null||Ni(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$t(f,l,s),f[wt]=t,Nt(f),l=f;break e;case"link":var y=y0("link","href",h).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(l),$t(f,l,s),h.head.appendChild(f);break;case"meta":if(y=y0("meta","content",h).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break t}}f=h.createElement(l),$t(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[wt]=t,Nt(f),l=f}t.stateNode=l}else _0(h,t.type,t.stateNode);else t.stateNode=g0(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?_0(h,t.type,t.stateNode):g0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,s.memoizedProps)}break;case 27:mn(n,t),pn(t),l&512&&(jt||s===null||Ni(s,s.return)),s!==null&&l&4&&Pf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,t),pn(t),l&512&&(jt||s===null||Ni(s,s.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(ae){tt(t,t.return,ae)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Pf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(mn(n,t),pn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ae){tt(t,t.return,ae)}}break;case 3:if(mc=null,h=ii,ii=fc(n.containerInfo),mn(n,t),ii=h,pn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(ae){tt(t,t.return,ae)}Hf&&(Hf=!1,_y(t));break;case 4:l=ii,ii=fc(t.stateNode.containerInfo),mn(n,t),pn(t),ii=l;break;case 12:mn(n,t),pn(t);break;case 31:mn(n,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 13:mn(n,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ec=ge()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,L=Zi,G=jt;if(Zi=L||h,jt=G||C,mn(n,t),jt=G,Zi=L,pn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Zi||jt||Hr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ae){tt(C,C.return,ae)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ae){tt(C,C.return,ae)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?l0(q,!0):l0(C.stateNode,!1)}catch(ae){tt(C,C.return,ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Zu(t,s))));break;case 19:mn(n,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zu(t,l)));break;case 30:break;case 21:break;default:mn(n,t),pn(t)}}function pn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(uy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(t);Ju(t,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(fn(y,""),s.flags&=-33);var E=Bf(t);Ju(t,E,y);break;case 3:case 4:var C=s.stateNode.containerInfo,L=Bf(t);qf(t,L,C);break;default:throw Error(a(161))}}catch(G){tt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(t,n.alternate,n),n=n.sibling}function Hr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Vs(4,n,n.return),Hr(n);break;case 1:Ni(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),Hr(n);break;case 27:uo(n.stateNode);case 26:case 5:Ni(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}t=t.sibling}}function ts(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,s),Wl(4,f);break;case 1:if(ts(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){tt(l,l.return,L)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Xp(C[h],E)}catch(L){tt(l,l.return,L)}}s&&y&64&&ay(f),eo(f,f.return);break;case 27:cy(f);case 26:case 5:ts(h,f,s),s&&l===null&&y&4&&oy(f),eo(f,f.return);break;case 12:ts(h,f,s);break;case 31:ts(h,f,s),s&&y&4&&py(h,f);break;case 13:ts(h,f,s),s&&y&4&&gy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,s),eo(f,f.return);break;case 30:break;default:ts(h,f,s)}n=n.sibling}}function Ff(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Pl(s))}function Gf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pl(t))}function si(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(t,n,s,l),n=n.sibling}function vy(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(t,n,s,l),h&2048&&Wl(9,n);break;case 1:si(t,n,s,l);break;case 3:si(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pl(t)));break;case 12:if(h&2048){si(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){tt(n,n.return,C)}}else si(t,n,s,l);break;case 31:si(t,n,s,l);break;case 13:si(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?si(t,n,s,l):to(t,n):f._visibility&2?si(t,n,s,l):(f._visibility|=2,Ma(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(y,n);break;case 24:si(t,n,s,l),h&2048&&Gf(n.alternate,n);break;default:si(t,n,s,l)}}function Ma(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=s,C=l,L=y.flags;switch(y.tag){case 0:case 11:case 15:Ma(f,y,E,C,h),Wl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ma(f,y,E,C,h):to(f,y):(G._visibility|=2,Ma(f,y,E,C,h)),h&&L&2048&&Ff(y.alternate,y);break;case 24:Ma(f,y,E,C,h),h&&L&2048&&Gf(y.alternate,y);break;default:Ma(f,y,E,C,h)}n=n.sibling}}function to(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:to(s,l),h&2048&&Ff(l.alternate,l);break;case 24:to(s,l),h&2048&&Gf(l.alternate,l);break;default:to(s,l)}n=n.sibling}}var no=8192;function ka(t,n,s){if(t.subtreeFlags&no)for(t=t.child;t!==null;)by(t,n,s),t=t.sibling}function by(t,n,s){switch(t.tag){case 26:ka(t,n,s),t.flags&no&&t.memoizedState!==null&&yT(s,ii,t.memoizedState,t.memoizedProps);break;case 5:ka(t,n,s);break;case 3:case 4:var l=ii;ii=fc(t.stateNode.containerInfo),ka(t,n,s),ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=no,no=16777216,ka(t,n,s),no=l):ka(t,n,s));break;default:ka(t,n,s)}}function Ey(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Bt=l,xy(l,t)}Ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ty(t),t=t.sibling}function Ty(t){switch(t.tag){case 0:case 11:case 15:io(t),t.flags&2048&&Vs(9,t,t.return);break;case 3:io(t);break;case 12:io(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):io(t);break;default:io(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Bt=l,xy(l,t)}Ey(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Vs(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function xy(t,n){for(;Bt!==null;){var s=Bt;switch(s.tag){case 0:case 11:case 15:Vs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Bt=l;else e:for(s=t;Bt!==null;){l=Bt;var h=l.sibling,f=l.return;if(dy(l),l===s){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var jE={getCacheForType:function(t){var n=Yt(Ct),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Yt(Ct).controller.signal}},OE=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Oe=null,ke=0,et=0,Nn=null,zs=!1,Va=!1,Kf=!1,ns=0,_t=0,Us=0,Fr=0,Qf=0,Rn=0,za=0,so=null,gn=null,Yf=!1,ec=0,Sy=0,tc=1/0,nc=null,Ls=null,kt=0,Ps=null,Ua=null,is=0,Xf=0,$f=null,Ay=null,ro=0,Jf=null;function Cn(){return(Xe&2)!==0&&ke!==0?ke&-ke:F.T!==null?id():iu()}function wy(){if(Rn===0)if((ke&536870912)===0||qe){var t=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),Rn=t}else Rn=536870912;return t=An.current,t!==null&&(t.flags|=32),Rn}function yn(t,n,s){(t===at&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(La(t,0),Bs(t,ke,Rn,!1)),_r(t,s),((Xe&2)===0||t!==at)&&(t===at&&((Xe&2)===0&&(Fr|=s),_t===4&&Bs(t,ke,Rn,!1)),Ri(t))}function Ny(t,n,s){if((Xe&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Yn(t,n),h=l?VE(t,n):Wf(t,n,!0),f=l;do{if(h===0){Va&&!l&&Bs(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!ME(s)){h=Wf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=so;var C=E.current.memoizedState.isDehydrated;if(C&&(La(E,y).flags|=256),y=Wf(E,y,!1),y!==2){if(Kf&&!C){E.errorRecoveryDisabledLanes|=f,Fr|=f,h=4;break e}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){La(t,0),Bs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bs(l,n,Rn,!zs);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-ge(),10<h)){if(Bs(l,n,Rn,!zs),ci(l,0,!0)!==0)break e;is=n,l.timeoutHandle=s0(Ry.bind(null,l,s,gn,nc,Yf,n,Rn,Fr,za,zs,f,"Throttled",-0,0),h);break e}Ry(l,s,gn,nc,Yf,n,Rn,Fr,za,zs,f,null,-0,0)}}break}while(!0);Ri(t)}function Ry(t,n,s,l,h,f,y,E,C,L,G,X,P,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},by(n,f,X);var ae=(f&62914560)===f?ec-ge():(f&4194048)===f?Sy-ge():0;if(ae=_T(X,ae),ae!==null){is=f,t.cancelPendingCommit=ae(Vy.bind(null,t,n,f,s,l,h,y,E,C,G,X,null,P,q)),Bs(t,f,y,!L);return}}Vy(t,n,f,s,l,h,y,E,C)}function ME(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!xn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(t,n,s,l){n&=~Qf,n&=~Fr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-bt(h),y=1<<f;l[f]=-1,h&=~y}s!==0&&vr(t,s,n)}function ic(){return(Xe&6)===0?(ao(0),!1):!0}function Zf(){if(Oe!==null){if(et===0)var t=Oe.return;else t=Oe,Ki=kr=null,mf(t),Ca=null,ql=0,t=Oe;for(;t!==null;)ry(t.alternate,t),t=t.return;Oe=null}}function La(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,eT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),is=0,Zf(),at=t,Oe=s=Fi(t.current,null),ke=n,et=0,Nn=null,zs=!1,Va=Yn(t,n),Kf=!1,za=Rn=Qf=Fr=Us=_t=0,gn=so=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-bt(l),f=1<<h;n|=t[h],l&=~f}return ns=n,Su(),s}function Cy(t,n){Ce=null,F.H=$l,n===Ra||n===ju?(n=Gp(),et=3):n===tf?(n=Gp(),et=4):et=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Oe===null&&(_t=1,Ku(t,Un(n,t.current)))}function Iy(){var t=An.current;return t===null?!0:(ke&4194048)===ke?qn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===qn:!1}function Dy(){var t=F.H;return F.H=$l,t===null?$l:t}function jy(){var t=F.A;return F.A=jE,t}function sc(){_t=4,zs||(ke&4194048)!==ke&&An.current!==null||(Va=!0),(Us&134217727)===0&&(Fr&134217727)===0||at===null||Bs(at,ke,Rn,!1)}function Wf(t,n,s){var l=Xe;Xe|=2;var h=Dy(),f=jy();(at!==t||ke!==n)&&(nc=null,La(t,n)),n=!1;var y=_t;e:do try{if(et!==0&&Oe!==null){var E=Oe,C=Nn;switch(et){case 8:Zf(),y=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var L=et;if(et=0,Nn=null,Pa(t,E,C,L),s&&Va){y=0;break e}break;default:L=et,et=0,Nn=null,Pa(t,E,C,L)}}kE(),y=_t;break}catch(G){Cy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ki=kr=null,Xe=l,F.H=h,F.A=f,Oe===null&&(at=null,ke=0,Su()),y}function kE(){for(;Oe!==null;)Oy(Oe)}function VE(t,n){var s=Xe;Xe|=2;var l=Dy(),h=jy();at!==t||ke!==n?(nc=null,tc=ge()+500,La(t,n)):Va=Yn(t,n);e:do try{if(et!==0&&Oe!==null){n=Oe;var f=Nn;t:switch(et){case 1:et=0,Nn=null,Pa(t,n,f,1);break;case 2:case 9:if(Hp(f)){et=0,Nn=null,My(n);break}n=function(){et!==2&&et!==9||at!==t||(et=7),Ri(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Hp(f)?(et=0,Nn=null,My(n)):(et=0,Nn=null,Pa(t,n,f,7));break;case 5:var y=null;switch(Oe.tag){case 26:y=Oe.memoizedState;case 5:case 27:var E=Oe;if(y?v0(y):E.stateNode.complete){et=0,Nn=null;var C=E.sibling;if(C!==null)Oe=C;else{var L=E.return;L!==null?(Oe=L,rc(L)):Oe=null}break t}}et=0,Nn=null,Pa(t,n,f,5);break;case 6:et=0,Nn=null,Pa(t,n,f,6);break;case 8:Zf(),_t=6;break e;default:throw Error(a(462))}}zE();break}catch(G){Cy(t,G)}while(!0);return Ki=kr=null,F.H=l,F.A=h,Xe=s,Oe!==null?0:(at=null,ke=0,Su(),_t)}function zE(){for(;Oe!==null&&!je();)Oy(Oe)}function Oy(t){var n=iy(t.alternate,t,ns);t.memoizedProps=t.pendingProps,n===null?rc(t):Oe=n}function My(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Jg(s,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=Jg(s,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:mf(n);default:ry(s,n),n=Oe=jp(n,ns),n=iy(s,n,ns)}t.memoizedProps=t.pendingProps,n===null?rc(t):Oe=n}function Pa(t,n,s,l){Ki=kr=null,mf(n),Ca=null,ql=0;var h=n.return;try{if(AE(t,h,n,s,ke)){_t=1,Ku(t,Un(s,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;_t=1,Ku(t,Un(s,t.current)),Oe=null;return}n.flags&32768?(qe||l===1?t=!0:Va||(ke&536870912)!==0?t=!1:(zs=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(n,t)):rc(n)}function rc(t){var n=t;do{if((n.flags&32768)!==0){ky(n,zs);return}t=n.return;var s=RE(n.alternate,n,ns);if(s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);_t===0&&(_t=5)}function ky(t,n){do{var s=CE(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);_t=6,Oe=null}function Vy(t,n,s,l,h,f,y,E,C){t.cancelPendingCommit=null;do ac();while(kt!==0);if((Xe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,Dh(t,s,f,y,E,C),t===at&&(Oe=at=null,ke=0),Ua=n,Ps=t,is=s,Xf=f,$f=h,Ay=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,BE(cn,function(){return By(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=se.p,se.p=2,y=Xe,Xe|=4;try{IE(t,n,s)}finally{Xe=y,se.p=h,F.T=l}}kt=1,zy(),Uy(),Ly()}}function zy(){if(kt===1){kt=0;var t=Ps,n=Ua,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=se.p;se.p=2;var h=Xe;Xe|=4;try{yy(n,t);var f=hd,y=xp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Tp(E.ownerDocument.documentElement,E)){if(C!==null&&kh(E)){var L=C.start,G=C.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var q=P.getSelection(),ae=E.textContent.length,ve=Math.min(C.start,ae),rt=C.end===void 0?ve:Math.min(C.end,ae);!q.extend&&ve>rt&&(y=rt,rt=ve,ve=y);var k=Ep(E,ve),j=Ep(E,rt);if(k&&j&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==j.node||q.focusOffset!==j.offset)){var U=X.createRange();U.setStart(k.node,k.offset),q.removeAllRanges(),ve>rt?(q.addRange(U),q.extend(j.node,j.offset)):(U.setEnd(j.node,j.offset),q.addRange(U))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}_c=!!cd,hd=cd=null}finally{Xe=h,se.p=l,F.T=s}}t.current=n,kt=2}}function Uy(){if(kt===2){kt=0;var t=Ps,n=Ua,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=se.p;se.p=2;var h=Xe;Xe|=4;try{fy(t,n.alternate,n)}finally{Xe=h,se.p=l,F.T=s}}kt=3}}function Ly(){if(kt===4||kt===3){kt=0,Ge();var t=Ps,n=Ua,s=is,l=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,Ua=Ps=null,Py(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),Pi(s),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=se.p,se.p=2,F.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,se.p=h}}(is&3)!==0&&ac(),Ri(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Jf?ro++:(ro=0,Jf=t):ro=0,ao(0)}}function Py(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Pl(n)))}function ac(){return zy(),Uy(),Ly(),By()}function By(){if(kt!==5)return!1;var t=Ps,n=Xf;Xf=0;var s=Pi(is),l=F.T,h=se.p;try{se.p=32>s?32:s,F.T=null,s=$f,$f=null;var f=Ps,y=is;if(kt=0,Ua=Ps=null,is=0,(Xe&6)!==0)throw Error(a(331));var E=Xe;if(Xe|=4,Ty(f.current),vy(f,f.current,y,s),Xe=E,ao(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{se.p=h,F.T=l,Py(t,n)}}function qy(t,n,s){n=Un(s,n),n=Cf(t.stateNode,n,2),t=Os(t,n,2),t!==null&&(_r(t,2),Ri(t))}function tt(t,n,s){if(t.tag===3)qy(t,t,s);else for(;n!==null;){if(n.tag===3){qy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ls===null||!Ls.has(l))){t=Un(s,t),s=Hg(2),l=Os(n,s,2),l!==null&&(Fg(s,l,n,t),_r(l,2),Ri(l));break}}n=n.return}}function ed(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new OE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Kf=!0,h.add(s),t=UE.bind(null,t,n,s),n.then(t,t))}function UE(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,at===t&&(ke&s)===s&&(_t===4||_t===3&&(ke&62914560)===ke&&300>ge()-ec?(Xe&2)===0&&La(t,0):Qf|=s,za===ke&&(za=0)),Ri(t)}function Hy(t,n){n===0&&(n=nu()),t=jr(t,n),t!==null&&(_r(t,n),Ri(t))}function LE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(t,s)}function PE(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Hy(t,s)}function BE(t,n){return Y(t,n)}var lc=null,Ba=null,td=!1,oc=!1,nd=!1,qs=0;function Ri(t){t!==Ba&&t.next===null&&(Ba===null?lc=Ba=t:Ba=Ba.next=t),oc=!0,td||(td=!0,HE())}function ao(t,n){if(!nd&&oc){nd=!0;do for(var s=!1,l=lc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qy(l,f))}else f=ke,f=ci(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Yn(l,f)||(s=!0,Qy(l,f));l=l.next}while(s);nd=!1}}function qE(){Fy()}function Fy(){oc=td=!1;var t=0;qs!==0&&WE()&&(t=qs);for(var n=ge(),s=null,l=lc;l!==null;){var h=l.next,f=Gy(l,n);f===0?(l.next=null,s===null?lc=h:s.next=h,h===null&&(Ba=s)):(s=l,(t!==0||(f&3)!==0)&&(oc=!0)),l=h}kt!==0&&kt!==5||ao(t),qs!==0&&(qs=0)}function Gy(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-bt(f),E=1<<y,C=h[y];C===-1?((E&s)===0||(E&l)!==0)&&(h[y]=Ih(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=at,s=ke,s=ci(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&me(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Yn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&me(l),Pi(s)){case 2:case 8:s=ln;break;case 32:s=cn;break;case 268435456:s=sa;break;default:s=cn}return l=Ky.bind(null,t),s=Y(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&me(l),t.callbackPriority=2,t.callbackNode=null,2}function Ky(t,n){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ac()&&t.callbackNode!==s)return null;var l=ke;return l=ci(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ny(t,l,n),Gy(t,ge()),t.callbackNode!=null&&t.callbackNode===s?Ky.bind(null,t):null)}function Qy(t,n){if(ac())return null;Ny(t,n,!0)}function HE(){tT(function(){(Xe&6)!==0?Y(Ft,qE):Fy()})}function id(){if(qs===0){var t=wa;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),qs=t}return qs}function Yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function Xy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function FE(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Yy((h[Lt]||null).action),y=l.submitter;y&&(n=(n=y[Lt]||null)?Yy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ei("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var C=y?Xy(h,y):new FormData(h);xf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?Xy(h,y):new FormData(h),xf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var sd=0;sd<Lh.length;sd++){var rd=Lh[sd],GE=rd.toLowerCase(),KE=rd[0].toUpperCase()+rd.slice(1);ni(GE,"on"+KE)}ni(wp,"onAnimationEnd"),ni(Np,"onAnimationIteration"),ni(Rp,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(oE,"onTransitionRun"),ni(uE,"onTransitionStart"),ni(cE,"onTransitionCancel"),ni(Cp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function $y(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=L;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=C}else for(y=0;y<l.length;y++){if(E=l[y],C=E.instance,L=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=L;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=C}}}}function Me(t,n){var s=n[aa];s===void 0&&(s=n[aa]=new Set);var l=t+"__bubble";s.has(l)||(Jy(n,t,2,!1),s.add(l))}function ad(t,n,s){var l=0;n&&(l|=4),Jy(s,t,l,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[uc]){t[uc]=!0,vl.forEach(function(s){s!=="selectionchange"&&(QE.has(s)||ad(s,!1,t),ad(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uc]||(n[uc]=!0,ad("selectionchange",!1,n))}}function Jy(t,n,s,l){switch(w0(n)){case 2:var h=ET;break;case 8:h=TT;break;default:h=Td}s=h.bind(null,n,s,t),h=void 0,!Sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function od(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=mi(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=f=y;continue e}E=E.parentNode}}l=l.return}xs(function(){var L=f,G=Mn(s),X=[];e:{var P=Ip.get(t);if(P!==void 0){var q=Ei,ae=t;switch(t){case"keypress":if(wr(s)===0)break e;case"keydown":case"keyup":q=bu;break;case"focusin":ae="focus",q=Rr;break;case"focusout":ae="blur",q=Rr;break;case"beforeblur":case"afterblur":q=Rr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case wp:case Np:case Rp:q=du;break;case Cp:q=T;break;case"scroll":case"scrollend":q=Dl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Hi;break;case"toggle":case"beforetoggle":q=Re}var ve=(n&4)!==0,rt=!ve&&(t==="scroll"||t==="scrollend"),k=ve?P!==null?P+"Capture":null:P;ve=[];for(var j=L,U;j!==null;){var K=j;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=Zn(j,k),K!=null&&ve.push(oo(j,K,U))),rt)break;j=j.return}0<ve.length&&(P=new q(P,ae,null,s,G),X.push({event:P,listeners:ve}))}}if((n&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&s!==Rl&&(ae=s.relatedTarget||s.fromElement)&&(mi(ae)||ae[fi]))break e;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(ae=s.relatedTarget||s.toElement,q=L,ae=ae?mi(ae):null,ae!==null&&(rt=c(ae),ve=ae.tag,ae!==rt||ve!==5&&ve!==27&&ve!==6)&&(ae=null)):(q=null,ae=L),q!==ae)){if(ve=jl,K="onMouseLeave",k="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Hi,K="onPointerLeave",k="onPointerEnter",j="pointer"),rt=q==null?P:En(q),U=ae==null?P:En(ae),P=new ve(K,j+"leave",q,s,G),P.target=rt,P.relatedTarget=U,K=null,mi(G)===L&&(ve=new ve(k,j+"enter",ae,s,G),ve.target=U,ve.relatedTarget=rt,K=ve),rt=K,q&&ae)t:{for(ve=YE,k=q,j=ae,U=0,K=k;K;K=ve(K))U++;K=0;for(var de=j;de;de=ve(de))K++;for(;0<U-K;)k=ve(k),U--;for(;0<K-U;)j=ve(j),K--;for(;U--;){if(k===j||j!==null&&k===j.alternate){ve=k;break t}k=ve(k),j=ve(j)}ve=null}else ve=null;q!==null&&Zy(X,P,q,ve,!1),ae!==null&&rt!==null&&Zy(X,rt,ae,ve,!0)}}e:{if(P=L?En(L):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var Ke=pp;else if(dp(P))if(gp)Ke=rE;else{Ke=iE;var le=nE}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&ca(L.elementType)&&(Ke=pp):Ke=sE;if(Ke&&(Ke=Ke(t,L))){mp(X,Ke,s,G);break e}le&&le(t,P,L),t==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&Al(P,"number",P.value)}switch(le=L?En(L):window,t){case"focusin":(dp(le)||le.contentEditable==="true")&&(_a=le,Vh=L,zl=null);break;case"focusout":zl=Vh=_a=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Sp(X,s,G);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":Sp(X,s,G)}var Ie;if(Ye)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ya?Cr(t,s)&&(Ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ve="onCompositionStart");Ve&&(Si&&s.locale!=="ko"&&(ya||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ya&&(Ie=Il()):(bi=G,Cl="value"in bi?bi.value:bi.textContent,ya=!0)),le=cc(L,Ve),0<le.length&&(Ve=new xi(Ve,t,null,s,G),X.push({event:Ve,listeners:le}),Ie?Ve.data=Ie:(Ie=ga(s),Ie!==null&&(Ve.data=Ie)))),(Ie=Vn?Z1(t,s):W1(t,s))&&(Ve=cc(L,"onBeforeInput"),0<Ve.length&&(le=new xi("onBeforeInput","beforeinput",null,s,G),X.push({event:le,listeners:Ve}),le.data=Ie)),FE(X,t,L,s,G)}$y(X,n)})}function oo(t,n,s){return{instance:t,listener:n,currentTarget:s}}function cc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(t,s),h!=null&&l.unshift(oo(t,h,f)),h=Zn(t,n),h!=null&&l.push(oo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function YE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zy(t,n,s,l,h){for(var f=n._reactName,y=[];s!==null&&s!==l;){var E=s,C=E.alternate,L=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||L===null||(C=L,h?(L=Zn(s,f),L!=null&&y.unshift(oo(s,L,C))):h||(L=Zn(s,f),L!=null&&y.push(oo(s,L,C)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var XE=/\r\n?/g,$E=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(XE,`
`).replace($E,"")}function e0(t,n){return n=Wy(n),Wy(t)===n}function st(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,s,l);break;case"style":Nl(t,l,f);break;case"data":if(n!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ha(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ha(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),oa(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=cu.get(s)||s,oa(t,s,l))}}function ud(t,n,s,l,h,f){switch(s){case"style":Nl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Lt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):oa(t,s,l)}}}function $t(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,f,y,s,null)}}h&&st(t,n,"srcSet",s.srcSet,s,null),l&&st(t,n,"src",s.src,s,null);return;case"input":Me("invalid",t);var E=f=y=h=null,C=null,L=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":y=G;break;case"checked":C=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:st(t,n,l,G,s,null)}}lu(t,f,E,C,L,y,h,!1);return;case"select":Me("invalid",t),l=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:st(t,n,h,E,s,null)}n=f,s=y,t.multiple=!!l,n!=null?vs(t,!!l,n,!1):s!=null&&vs(t,!!l,s,!0);return;case"textarea":Me("invalid",t),f=h=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:st(t,n,y,E,s,null)}bs(t,l,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":st(t,n,C,l,s,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<lo.length;l++)Me(lo[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(l=s[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,L,l,s,null)}return;default:if(ca(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&ud(t,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&st(t,n,E,l,s,null))}function JE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,C=null,L=null,G=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(q)||st(t,n,q,null,l,X)}}for(var P in l){var q=l[P];if(X=s[P],l.hasOwnProperty(P)&&(q!=null||X!=null))switch(P){case"type":f=q;break;case"name":h=q;break;case"checked":L=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&st(t,n,P,q,l,X)}}ua(t,y,E,C,L,G,f,h);return;case"select":q=y=E=P=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||st(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&st(t,n,h,f,l,C)}n=E,s=y,l=q,P!=null?vs(t,!!s,P,!1):!!l!=!!s&&(n!=null?vs(t,!!s,n,!0):vs(t,!!s,s?[]:"",!1));return;case"textarea":q=P=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(t,n,E,null,l,h)}for(y in l)if(h=l[y],f=s[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":P=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&st(t,n,y,h,l,f)}ou(t,P,q);return;case"option":for(var ae in s)P=s[ae],s.hasOwnProperty(ae)&&P!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?t.selected=!1:st(t,n,ae,null,l,P));for(C in l)P=l[C],q=s[C],l.hasOwnProperty(C)&&P!==q&&(P!=null||q!=null)&&(C==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":st(t,n,C,P,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)P=s[ve],s.hasOwnProperty(ve)&&P!=null&&!l.hasOwnProperty(ve)&&st(t,n,ve,null,l,P);for(L in l)if(P=l[L],q=s[L],l.hasOwnProperty(L)&&P!==q&&(P!=null||q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:st(t,n,L,P,l,q)}return;default:if(ca(n)){for(var rt in s)P=s[rt],s.hasOwnProperty(rt)&&P!==void 0&&!l.hasOwnProperty(rt)&&ud(t,n,rt,void 0,l,P);for(G in l)P=l[G],q=s[G],!l.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||ud(t,n,G,P,l,q);return}}for(var k in s)P=s[k],s.hasOwnProperty(k)&&P!=null&&!l.hasOwnProperty(k)&&st(t,n,k,null,l,P);for(X in l)P=l[X],q=s[X],!l.hasOwnProperty(X)||P===q||P==null&&q==null||st(t,n,X,P,l,q)}function t0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&t0(y)){for(y=0,E=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],L=C.startTime;if(L>E)break;var G=C.transferSize,X=C.initiatorType;G&&t0(X)&&(C=C.responseEnd,y+=G*(C<E?1:(E-L)/(C-L)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cd=null,hd=null;function hc(t){return t.nodeType===9?t:t.ownerDocument}function n0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function fd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function WE(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(t){return r0.resolve(null).then(t).catch(nT)}:s0;function nT(t){setTimeout(function(){throw t})}function Hs(t){return t==="head"}function a0(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Ga(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")uo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,uo(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&uo(t.ownerDocument.body);s=h}while(s);Ga(n)}function l0(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),la(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function iT(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function sT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Hn(t.nextSibling),t===null))return null;return t}function o0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Hn(t.nextSibling),t===null))return null;return t}function pd(t){return t.data==="$?"||t.data==="$~"}function gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yd=null;function u0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Hn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function c0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function h0(t,n,s){switch(n=hc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function uo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);la(t)}var Fn=new Map,f0=new Set;function fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=se.d;se.d={f:aT,r:lT,D:oT,C:uT,L:cT,m:hT,X:dT,S:fT,M:mT};function aT(){var t=ss.f(),n=ic();return t||n}function lT(t){var n=On(t);n!==null&&n.tag===5&&n.type==="form"?Cg(n):ss.r(t)}var qa=typeof document>"u"?null:document;function d0(t,n,s){var l=qa;if(l&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f0.has(h)||(f0.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$t(n,"link",t),Nt(n),l.head.appendChild(n)))}}function oT(t){ss.D(t),d0("dns-prefetch",t,null)}function uT(t,n){ss.C(t,n),d0("preconnect",t,n)}function cT(t,n,s){ss.L(t,n,s);var l=qa;if(l&&t&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+hn(s.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var f=h;switch(n){case"style":f=Ha(t);break;case"script":f=Fa(t)}Fn.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Fn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(co(f))||n==="script"&&l.querySelector(ho(f))||(n=l.createElement("link"),$t(n,"link",t),Nt(n),l.head.appendChild(n)))}}function hT(t,n){ss.m(t,n);var s=qa;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(t)}if(!Fn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Fn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ho(f)))return}l=s.createElement("link"),$t(l,"link",t),Nt(l),s.head.appendChild(l)}}}function fT(t,n,s){ss.S(t,n,s);var l=qa;if(l&&t){var h=pi(l).hoistableStyles,f=Ha(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(co(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Fn.get(f))&&_d(t,s);var C=y=l.createElement("link");Nt(C),$t(C,"link",t),C._p=new Promise(function(L,G){C.onload=L,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function dT(t,n){ss.X(t,n);var s=qa;if(s&&t){var l=pi(s).hoistableScripts,h=Fa(t),f=l.get(h);f||(f=s.querySelector(ho(h)),f||(t=A({src:t,async:!0},n),(n=Fn.get(h))&&vd(t,n),f=s.createElement("script"),Nt(f),$t(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function mT(t,n){ss.M(t,n);var s=qa;if(s&&t){var l=pi(s).hoistableScripts,h=Fa(t),f=l.get(h);f||(f=s.querySelector(ho(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Fn.get(h))&&vd(t,n),f=s.createElement("script"),Nt(f),$t(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function m0(t,n,s,l){var h=(h=Te.current)?fc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ha(s.href),s=pi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ha(s.href);var f=pi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(co(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Fn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fn.set(t,s),f||pT(h,t,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(s),s=pi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ha(t){return'href="'+hn(t)+'"'}function co(t){return'link[rel="stylesheet"]['+t+"]"}function p0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function pT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$t(n,"link",s),Nt(n),t.head.appendChild(n))}function Fa(t){return'[src="'+hn(t)+'"]'}function ho(t){return"script[async]"+t}function g0(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+hn(s.href)+'"]');if(l)return n.instance=l,Nt(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),$t(l,"style",h),dc(l,s.precedence,t),n.instance=l;case"stylesheet":h=Ha(s.href);var f=t.querySelector(co(h));if(f)return n.state.loading|=4,n.instance=f,Nt(f),f;l=p0(s),(h=Fn.get(h))&&_d(l,h),f=(t.ownerDocument||t).createElement("link"),Nt(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),$t(f,"link",l),n.state.loading|=4,dc(f,s.precedence,t),n.instance=f;case"script":return f=Fa(s.src),(h=t.querySelector(ho(f)))?(n.instance=h,Nt(h),h):(l=s,(h=Fn.get(f))&&(l=A({},s),vd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),$t(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,dc(l,s.precedence,t));return n.instance}function dc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function _d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mc=null;function y0(t,n,s){if(mc===null){var l=new Map,h=mc=new Map;h.set(s,l)}else h=mc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[di]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function _0(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function gT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yT(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ha(l.href),f=n.querySelector(co(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=pc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Nt(f);return}f=n.ownerDocument||n,l=p0(l),(h=Fn.get(h))&&_d(l,h),f=f.createElement("link"),Nt(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),$t(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=pc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function _T(t,n){return t.stylesheets&&t.count===0&&yc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&yc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&bd===0&&(bd=62500*ZE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>bd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gc=null;function yc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gc=new Map,n.forEach(vT,t),gc=null,pc.call(t))}function vT(t,n){if(!(n.state.loading&4)){var s=gc.get(t);if(s)var l=s.get(null);else{s=new Map,gc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,h),s.set(y,h),this.count++,l=pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var fo={$$typeof:ce,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function bT(t,n,s,l,h,f,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function b0(t,n,s,l,h,f,y,E,C,L,G,X){return t=new bT(t,n,s,y,C,L,G,X,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=Zh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},nf(f),t}function E0(t){return t?(t=Ea,t):Ea}function T0(t,n,s,l,h,f){h=E0(h),l.context===null?l.context=h:l.pendingContext=h,l=js(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Os(t,l,n),s!==null&&(yn(s,t,n),Fl(s,t,n))}function x0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ed(t,n){x0(t,n),(t=t.alternate)&&x0(t,n)}function S0(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&yn(n,t,67108864),Ed(t,67108864)}}function A0(t){if(t.tag===13||t.tag===31){var n=Cn();n=br(n);var s=jr(t,n);s!==null&&yn(s,t,n),Ed(t,n)}}var _c=!0;function ET(t,n,s,l){var h=F.T;F.T=null;var f=se.p;try{se.p=2,Td(t,n,s,l)}finally{se.p=f,F.T=h}}function TT(t,n,s,l){var h=F.T;F.T=null;var f=se.p;try{se.p=8,Td(t,n,s,l)}finally{se.p=f,F.T=h}}function Td(t,n,s,l){if(_c){var h=xd(l);if(h===null)od(t,n,l,vc,s),N0(t,l);else if(ST(h,t,n,s,l))l.stopPropagation();else if(N0(t,l),n&4&&-1<xT.indexOf(t)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ui(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-bt(y);E.entanglements[1]|=C,y&=~C}Ri(f),(Xe&6)===0&&(tc=ge()+500,ao(0))}}break;case 31:case 13:E=jr(f,2),E!==null&&yn(E,f,2),ic(),Ed(f,2)}if(f=xd(l),f===null&&od(t,n,l,vc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(t,n,l,null,s)}}function xd(t){return t=Mn(t),Sd(t)}var vc=null;function Sd(t){if(vc=null,t=mi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return vc=t,null}function w0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ht()){case Ft:return 2;case ln:return 8;case cn:case bn:return 32;case sa:return 268435456;default:return 32}default:return 32}}var Ad=!1,Fs=null,Gs=null,Ks=null,mo=new Map,po=new Map,Qs=[],xT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N0(t,n){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function go(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&S0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ST(t,n,s,l,h){switch(n){case"focusin":return Fs=go(Fs,t,n,s,l,h),!0;case"dragenter":return Gs=go(Gs,t,n,s,l,h),!0;case"mouseover":return Ks=go(Ks,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return mo.set(f,go(mo.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,po.set(f,go(po.get(f)||null,t,n,s,l,h)),!0}return!1}function R0(t){var n=mi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Xn(t.priority,function(){A0(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Xn(t.priority,function(){A0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=xd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Rl=l,s.target.dispatchEvent(l),Rl=null}else return n=On(s),n!==null&&S0(n),t.blockedOn=s,!1;n.shift()}return!0}function C0(t,n,s){bc(t)&&s.delete(n)}function AT(){Ad=!1,Fs!==null&&bc(Fs)&&(Fs=null),Gs!==null&&bc(Gs)&&(Gs=null),Ks!==null&&bc(Ks)&&(Ks=null),mo.forEach(C0),po.forEach(C0)}function Ec(t,n){t.blockedOn===n&&(t.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AT)))}var Tc=null;function I0(t){Tc!==t&&(Tc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===t&&(Tc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Sd(l||s)===null)continue;break}var f=On(s);f!==null&&(t.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ga(t){function n(C){return Ec(C,t)}Fs!==null&&Ec(Fs,t),Gs!==null&&Ec(Gs,t),Ks!==null&&Ec(Ks,t),mo.forEach(n),po.forEach(n);for(var s=0;s<Qs.length;s++){var l=Qs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qs.length&&(s=Qs[0],s.blockedOn===null);)R0(s),s.blockedOn===null&&Qs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],y=h[Lt]||null;if(typeof f=="function")y||I0(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Lt]||null)E=y.formAction;else if(Sd(h)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),I0(s)}}}function D0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(t){this._internalRoot=t}xc.prototype.render=wd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Cn();T0(s,l,t,n,null,null)},xc.prototype.unmount=wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;T0(t.current,2,null,t,null,null),ic(),n[fi]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=iu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Qs.length&&n!==0&&n<Qs[s].priority;s++);Qs.splice(s,0,t),s===0&&R0(t)}};var j0=e.version;if(j0!=="19.2.3")throw Error(a(527,j0,"19.2.3"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var wT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Qn=Sc.inject(wT),Gt=Sc}catch{}}return _o.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Lg,f=Pg,y=Bg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=b0(t,1,!1,null,null,s,l,null,h,f,y,D0),t[fi]=n.current,ld(t),new wd(n)},_o.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Lg,y=Pg,E=Bg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=b0(t,1,!0,n,s??null,l,h,C,f,y,E,D0),n.context=E0(null),s=n.current,l=Cn(),l=br(l),h=js(l),h.callback=null,Os(s,h,l),s=l,n.current.lanes=s,_r(n,s),Ri(n),t[fi]=n.current,ld(t),new xc(n)},_o.version="19.2.3",_o}var q0;function zT(){if(q0)return Cd.exports;q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cd.exports=VT(),Cd.exports}var UT=zT();const LT=Sv(UT),PT=()=>{};var H0={};const Av=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},BT=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,x=c>>2,A=(c&3)<<4|g>>4;let O=(g&15)<<2|_>>6,H=_&63;v||(H=64,d||(O=64)),a.push(i[x],i[A],i[O],i[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Av(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):BT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||_==null||A==null)throw new qT;const O=c<<2|g>>4;if(a.push(O),_!==64){const H=g<<4&240|_>>2;if(a.push(H),A!==64){const ee=_<<6&192|A;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HT=function(r){const e=Av(r);return wv.encodeByteArray(e,!0)},qc=function(r){return HT(r).replace(/\./g,"")},Nv=function(r){try{return wv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function FT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GT=()=>FT().__FIREBASE_DEFAULTS__,KT=()=>{if(typeof process>"u"||typeof H0>"u")return;const r=H0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},QT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Nv(r[1]);return e&&JSON.parse(e)},uh=()=>{try{return PT()||GT()||KT()||QT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Rv=r=>uh()?.emulatorHosts?.[r],YT=r=>{const e=Rv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Cv=()=>uh()?.config,Iv=r=>uh()?.[`_${r}`];class XT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function cl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dv(r){return(await fetch(r,{credentials:"include"})).ok}function $T(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const So={};function JT(){const r={prod:[],emulator:[]};for(const e of Object.keys(So))So[e]?r.emulator.push(e):r.prod.push(e);return r}function ZT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let F0=!1;function jv(r,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||So[r]===e||So[r]||F0)return;So[r]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=JT().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,H){O.setAttribute("width","24"),O.setAttribute("id",H),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{F0=!0,d()},O}function x(O,H){O.setAttribute("id",H),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=ZT(a),H=i("text"),ee=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),ue=i("preprendIcon"),ye=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ce=O.element;g(ce),x(J,W);const Be=_();v(ye,ue),ce.append(ye,ee,J,Be),document.body.appendChild(ce)}c?(ee.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function ex(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ix(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sx(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rx(){return!ex()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ax(){try{return typeof indexedDB=="object"}catch{return!1}}function lx(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const ox="FirebaseError";class ms extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=ox,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?ux(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ms(o,g,a)}}function ux(r,e){return r.replace(cx,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const cx=/\{\$([^}]+)}/g;function hx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(G0(c)&&G0(d)){if(!Xr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function G0(r){return r!==null&&typeof r=="object"}function Bo(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function fx(r,e){const i=new dx(r,e);return i.subscribe.bind(i)}class dx{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");mx(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mx(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Od(){}function an(r){return r&&r._delegate?r._delegate:r}class $r{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gr="[DEFAULT]";class px{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new XT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yx(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gx(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gx(r){return r===Gr?void 0:r}function yx(r){return r.instantiationMode==="EAGER"}class _x{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new px(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const vx={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},bx=ze.INFO,Ex={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Tx=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=Ex[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=bx,this._logHandler=Tx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const xx=(r,e)=>e.some(i=>r instanceof i);let K0,Q0;function Sx(){return K0||(K0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ax(){return Q0||(Q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,Qd=new WeakMap,Mv=new WeakMap,Md=new WeakMap,xm=new WeakMap;function wx(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(tr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Ov.set(i,r)}).catch(()=>{}),xm.set(e,r),e}function Nx(r){if(Qd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,e)}let Yd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Mv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Rx(r){Yd=r(Yd)}function Cx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(kd(this),e,...i);return Mv.set(a,e.sort?e.sort():[e]),tr(a)}:Ax().includes(r)?function(...e){return r.apply(kd(this),e),tr(Ov.get(this))}:function(...e){return tr(r.apply(kd(this),e))}}function Ix(r){return typeof r=="function"?Cx(r):(r instanceof IDBTransaction&&Nx(r),xx(r,Sx())?new Proxy(r,Yd):r)}function tr(r){if(r instanceof IDBRequest)return wx(r);if(Md.has(r))return Md.get(r);const e=Ix(r);return e!==r&&(Md.set(r,e),xm.set(e,r)),e}const kd=r=>xm.get(r);function Dx(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=tr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(tr(d.result),v.oldVersion,v.newVersion,tr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const jx=["get","getKey","getAll","getAllKeys","count"],Ox=["put","add","delete","clear"],Vd=new Map;function Y0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Ox.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||jx.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Vd.set(e,c),c}Rx(r=>({...r,get:(e,i,a)=>Y0(e,i)||r.get(e,i,a),has:(e,i)=>!!Y0(e,i)||r.has(e,i)}));class Mx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kx(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function kx(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",X0="0.14.6";const os=new Tm("@firebase/app"),Vx="@firebase/app-compat",zx="@firebase/analytics-compat",Ux="@firebase/analytics",Lx="@firebase/app-check-compat",Px="@firebase/app-check",Bx="@firebase/auth",qx="@firebase/auth-compat",Hx="@firebase/database",Fx="@firebase/data-connect",Gx="@firebase/database-compat",Kx="@firebase/functions",Qx="@firebase/functions-compat",Yx="@firebase/installations",Xx="@firebase/installations-compat",$x="@firebase/messaging",Jx="@firebase/messaging-compat",Zx="@firebase/performance",Wx="@firebase/performance-compat",eS="@firebase/remote-config",tS="@firebase/remote-config-compat",nS="@firebase/storage",iS="@firebase/storage-compat",sS="@firebase/firestore",rS="@firebase/ai",aS="@firebase/firestore-compat",lS="firebase",oS="12.6.0";const $d="[DEFAULT]",uS={[Xd]:"fire-core",[Vx]:"fire-core-compat",[Ux]:"fire-analytics",[zx]:"fire-analytics-compat",[Px]:"fire-app-check",[Lx]:"fire-app-check-compat",[Bx]:"fire-auth",[qx]:"fire-auth-compat",[Hx]:"fire-rtdb",[Fx]:"fire-data-connect",[Gx]:"fire-rtdb-compat",[Kx]:"fire-fn",[Qx]:"fire-fn-compat",[Yx]:"fire-iid",[Xx]:"fire-iid-compat",[$x]:"fire-fcm",[Jx]:"fire-fcm-compat",[Zx]:"fire-perf",[Wx]:"fire-perf-compat",[eS]:"fire-rc",[tS]:"fire-rc-compat",[nS]:"fire-gcs",[iS]:"fire-gcs-compat",[sS]:"fire-fst",[aS]:"fire-fst-compat",[rS]:"fire-vertex","fire-js":"fire-js",[lS]:"fire-js-all"};const Hc=new Map,cS=new Map,Jd=new Map;function $0(r,e){try{r.container.addComponent(e)}catch(i){os.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function nl(r){const e=r.name;if(Jd.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,r);for(const i of Hc.values())$0(i,r);for(const i of cS.values())$0(i,r);return!0}function Sm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r==null?!1:r.settings!==void 0}const hS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new Po("app","Firebase",hS);class fS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const hl=oS;function kv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:$d,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw nr.create("bad-app-name",{appName:String(o)});if(i||(i=Cv()),!i)throw nr.create("no-options");const c=Hc.get(o);if(c){if(Xr(i,c.options)&&Xr(a,c.config))return c;throw nr.create("duplicate-app",{appName:o})}const d=new _x(o);for(const v of Jd.values())d.addComponent(v);const g=new fS(i,a,d);return Hc.set(o,g),g}function Vv(r=$d){const e=Hc.get(r);if(!e&&r===$d&&Cv())return kv();if(!e)throw nr.create("no-app",{appName:r});return e}function ir(r,e,i){let a=uS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}nl(new $r(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const dS="firebase-heartbeat-database",mS=1,Io="firebase-heartbeat-store";let zd=null;function zv(){return zd||(zd=Dx(dS,mS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(r=>{throw nr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function pS(r){try{const i=(await zv()).transaction(Io),a=await i.objectStore(Io).get(Uv(r));return await i.done,a}catch(e){if(e instanceof ms)os.warn(e.message);else{const i=nr.create("idb-get",{originalErrorMessage:e?.message});os.warn(i.message)}}}async function J0(r,e){try{const a=(await zv()).transaction(Io,"readwrite");await a.objectStore(Io).put(e,Uv(r)),await a.done}catch(i){if(i instanceof ms)os.warn(i.message);else{const a=nr.create("idb-set",{originalErrorMessage:i?.message});os.warn(a.message)}}}function Uv(r){return`${r.name}!${r.options.appId}`}const gS=1024,yS=30;class _S{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yS){const o=ES(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Z0(),{heartbeatsToSend:i,unsentEntries:a}=vS(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function vS(r,e=gS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),W0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),W0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ax()?lx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function W0(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function ES(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function TS(r){nl(new $r("platform-logger",e=>new Mx(e),"PRIVATE")),nl(new $r("heartbeat",e=>new _S(e),"PRIVATE")),ir(Xd,X0,r),ir(Xd,X0,"esm2020"),ir("fire-js","")}TS("");var xS="firebase",SS="12.7.0";ir(xS,SS,"app");function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AS=Lv,Pv=new Po("auth","Firebase",Lv());const Fc=new Tm("@firebase/auth");function wS(r,...e){Fc.logLevel<=ze.WARN&&Fc.warn(`Auth (${hl}): ${r}`,...e)}function Dc(r,...e){Fc.logLevel<=ze.ERROR&&Fc.error(`Auth (${hl}): ${r}`,...e)}function us(r,...e){throw Am(r,...e)}function Ii(r,...e){return Am(r,...e)}function Bv(r,e,i){const a={...AS(),[e]:i};return new Po("auth","Firebase",a).create(e,{appName:r.name})}function ls(r){return Bv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Pv.create(r,...e)}function xe(r,e,...i){if(!r)throw Am(e,...i)}function rs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Dc(e),new Error(e)}function cs(r,e){r||rs(e)}function Zd(){return typeof self<"u"&&self.location?.href||""}function NS(){return e_()==="http:"||e_()==="https:"}function e_(){return typeof self<"u"&&self.location?.protocol||null}function RS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NS()||nx()||"connection"in navigator)?navigator.onLine:!0}function CS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class qo{constructor(e,i){this.shortDelay=e,this.longDelay=i,cs(i>e,"Short delay should be less than long delay!"),this.isMobile=WT()||ix()}get(){return RS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(r,e){cs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class qv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jS=new qo(3e4,6e4);function Ho(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function fl(r,e,i,a,o={}){return Hv(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Bo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:v,...c};return tx()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&cl(r.emulatorConfig.host)&&(_.credentials="include"),qv.fetch()(await Fv(r,r.config.apiHost,i,g),_)})}async function Hv(r,e,i){r._canInitEmulator=!1;const a={...IS,...e};try{const o=new OS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ac(r,"user-disabled",d);const x=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Bv(r,x,_);us(r,x)}}catch(o){if(o instanceof ms)throw o;us(r,"network-request-failed",{message:String(o)})}}async function Nm(r,e,i,a,o={}){const c=await fl(r,e,i,a,o);return"mfaPendingCredential"in c&&us(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fv(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?wm(r.config,o):`${r.config.apiScheme}://${o}`;return DS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class OS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ii(this.auth,"network-request-failed")),jS.get())})}}function Ac(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ii(r,e,a);return o.customData._tokenResponse=i,o}async function MS(r,e){return fl(r,"POST","/v1/accounts:delete",e)}async function Gc(r,e){return fl(r,"POST","/v1/accounts:lookup",e)}function Ao(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kS(r,e=!1){const i=an(r),a=await i.getIdToken(e),o=Rm(a);xe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ao(Ud(o.auth_time)),issuedAtTime:Ao(Ud(o.iat)),expirationTime:Ao(Ud(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(r){return Number(r)*1e3}function Rm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Nv(i);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function t_(r){const e=Rm(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Do(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ms&&VS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function VS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const e=r.auth,i=await r.getIdToken(),a=await Do(r,Gc(e,{idToken:i}));xe(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Gv(o.providerUserInfo):[],d=LS(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,_=g?v:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,x)}async function US(r){const e=an(r);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LS(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Gv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function PS(r,e){const i=await Hv(r,{},async()=>{const a=Bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Fv(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&cl(r.emulatorConfig.host)&&(v.credentials="include"),qv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function BS(r,e){return fl(r,"POST","/v2/accounts:revokeToken",Ho(r,e))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const i=t_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await PS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ja;return a&&(xe(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(xe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(xe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Xs(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new zS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Do(this,this.stsTokenManager.getToken(this.auth,e));return xe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return kS(this,e)}reload(){return US(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Do(this,MS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:H,providerData:ee,stsTokenManager:W}=i;xe(A&&W,e,"internal-error");const J=Ja.fromJSON(this.name,W);xe(typeof A=="string",e,"internal-error"),Xs(a,e.name),Xs(o,e.name),xe(typeof O=="boolean",e,"internal-error"),xe(typeof H=="boolean",e,"internal-error"),Xs(c,e.name),Xs(d,e.name),Xs(g,e.name),Xs(v,e.name),Xs(_,e.name),Xs(x,e.name);const ue=new ri({uid:A,auth:e,email:o,emailVerified:O,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:x});return ee&&Array.isArray(ee)&&(ue.providerData=ee.map(ye=>({...ye}))),v&&(ue._redirectEventId=v),ue}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ja;o.updateFromServerResponse(i);const c=new ri({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];xe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Gv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Ja;g.updateFromIdToken(a);const v=new ri({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const n_=new Map;function as(r){cs(r instanceof Function,"Expected a class definition");let e=n_.get(r);return e?(cs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,n_.set(r,e),e)}class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Kv.type="NONE";const i_=Kv;function jc(r,e,i){return`firebase:${r}:${e}:${i}`}class Za{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Gc(this.auth,{idToken:e}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Za(as(i_),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||as(i_);const d=jc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const x=await _._get(d);if(x){let A;if(typeof x=="string"){const O=await Gc(e,{idToken:x}).catch(()=>{});if(!O)break;A=await ri._fromGetAccountInfoResponse(e,O,x)}else A=ri._fromJSON(e,x);_!==c&&(g=A),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Za(c,e,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Za(c,e,a))}}function s_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($v(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Wv(e))return"Webos";if(Yv(e))return"Safari";if((e.includes("chrome/")||Xv(e))&&!e.includes("edge/"))return"Chrome";if(Jv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Qv(r=rn()){return/firefox\//i.test(r)}function Yv(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xv(r=rn()){return/crios\//i.test(r)}function $v(r=rn()){return/iemobile/i.test(r)}function Jv(r=rn()){return/android/i.test(r)}function Zv(r=rn()){return/blackberry/i.test(r)}function Wv(r=rn()){return/webos/i.test(r)}function Cm(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qS(r=rn()){return Cm(r)&&!!window.navigator?.standalone}function HS(){return sx()&&document.documentMode===10}function eb(r=rn()){return Cm(r)||Jv(r)||Wv(r)||Zv(r)||/windows phone/i.test(r)||$v(r)}function tb(r,e=[]){let i;switch(r){case"Browser":i=s_(rn());break;case"Worker":i=`${s_(rn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${hl}/${a}`}class FS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const v=e(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function GS(r,e={}){return fl(r,"GET","/v2/passwordPolicy",Ho(r,e))}const KS=6;class QS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??KS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class YS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new FS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Gc(this,{idToken:e}),a=await ri._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(ls(this));const i=e?an(e):null;return i&&xe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GS(this),i=new QS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await BS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&as(e)||this._popupRedirectResolver;xe(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fo(r){return an(r)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fx(i=>this.observer=i)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XS(r){Im=r}function $S(r){return Im.loadJS(r)}function JS(){return Im.gapiScript}function ZS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function WS(r,e){const i=Sm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Xr(c,e??{}))return o;us(o,"already-initialized")}return i.initialize({options:e})}function eA(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(as);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function tA(r,e,i){const a=Fo(r);xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=nb(e),{host:d,port:g}=nA(e),v=g===null?"":`:${g}`,_={url:`${c}//${d}${v}/`},x=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xe(Xr(_,a.config.emulator)&&Xr(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,cl(d)?(Dv(`${c}//${d}${v}`),jv("Auth",!0)):iA()}function nb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function nA(r){const e=nb(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:a_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:a_(d)}}}function a_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function iA(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ib{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,i){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function Wa(r,e){return Nm(r,"POST","/v1/accounts:signInWithIdp",Ho(r,e))}const sA="http://localhost";class Jr extends ib{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):us("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Jr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Wa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Wa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Wa(e,i)}buildRequest(){const e={requestUri:sA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Bo(i)}return e}}class sb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Go extends sb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $s extends Go{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class Js extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Jr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Zs extends Go{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class Ws extends Go{constructor(){super("twitter.com")}static credential(e,i){return Jr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";async function rA(r,e){return Nm(r,"POST","/v1/accounts:signUp",Ho(r,e))}class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ri._fromIdTokenResponse(e,a,o),d=l_(a);return new hs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=l_(a);return new hs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function l_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function aA(r){if(Gn(r.app))return Promise.reject(ls(r));const e=Fo(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new hs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await rA(e,{returnSecureToken:!0}),a=await hs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Qc extends ms{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Qc(e,i,a,o)}}function rb(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(r,c,e,a):c})}async function lA(r,e,i=!1){const a=await Do(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return hs._forOperation(r,"link",a)}async function oA(r,e,i=!1){const{auth:a}=r;if(Gn(a.app))return Promise.reject(ls(a));const o="reauthenticate";try{const c=await Do(r,rb(a,o,e,r),i);xe(c.idToken,a,"internal-error");const d=Rm(c.idToken);xe(d,a,"internal-error");const{sub:g}=d;return xe(r.uid===g,a,"user-mismatch"),hs._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&us(a,"user-mismatch"),c}}async function uA(r,e,i=!1){if(Gn(r.app))return Promise.reject(ls(r));const a="signIn",o=await rb(r,a,e),c=await hs._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function cA(r,e){return Nm(r,"POST","/v1/accounts:signInWithCustomToken",Ho(r,e))}async function hA(r,e){if(Gn(r.app))return Promise.reject(ls(r));const i=Fo(r),a=await cA(i,{token:e,returnSecureToken:!0}),o=await hs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function fA(r,e,i,a){return an(r).onIdTokenChanged(e,i,a)}function dA(r,e,i){return an(r).beforeAuthStateChanged(e,i)}function mA(r,e,i,a){return an(r).onAuthStateChanged(e,i,a)}const Yc="__sak";class ab{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pA=1e3,gA=10;class lb extends ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);HS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gA):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},pA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}lb.type="LOCAL";const yA=lb;class ob extends ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}ob.type="SESSION";const ub=ob;function _A(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new ch(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),v=await _A(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Dm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class vA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const _=Dm("",20);o.port1.start();const x=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const O=A;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(x),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function bA(r){Di().location.href=r}function cb(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function EA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TA(){return navigator?.serviceWorker?.controller||null}function xA(){return cb()?self:null}const hb="firebaseLocalStorageDb",SA=1,Xc="firebaseLocalStorage",fb="fbase_key";class Ko{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,e){return r.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function AA(){const r=indexedDB.deleteDatabase(hb);return new Ko(r).toPromise()}function em(){const r=indexedDB.open(hb,SA);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:fb})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?e(a):(a.close(),await AA(),e(await em()))})})}async function o_(r,e,i){const a=hh(r,!0).put({[fb]:e,value:i});return new Ko(a).toPromise()}async function wA(r,e){const i=hh(r,!1).get(e),a=await new Ko(i).toPromise();return a===void 0?null:a.value}function u_(r,e){const i=hh(r,!0).delete(e);return new Ko(i).toPromise()}const NA=800,RA=3;class db{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>RA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(xA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EA(),!this.activeServiceWorker)return;this.sender=new vA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await em();return await o_(e,Yc,"1"),await u_(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>o_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>wA(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>u_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=hh(o,!1).getAll();return new Ko(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}db.type="LOCAL";const CA=db;new qo(3e4,6e4);function IA(r,e){return e?as(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class jm extends ib{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Wa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function DA(r){return uA(r.auth,new jm(r),r.bypassAuthState)}function jA(r){const{auth:e,user:i}=r;return xe(i,e,"internal-error"),oA(i,new jm(r),r.bypassAuthState)}async function OA(r){const{auth:e,user:i}=r;return xe(i,e,"internal-error"),lA(i,new jm(r),r.bypassAuthState)}class mb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DA;case"linkViaPopup":case"linkViaRedirect":return OA;case"reauthViaPopup":case"reauthViaRedirect":return jA;default:us(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const MA=new qo(2e3,1e4);class $a extends mb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MA.get())};e()}}$a.currentPopupAction=null;const kA="pendingRedirect",Oc=new Map;class VA extends mb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const a=await zA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zA(r,e){const i=PA(e),a=LA(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function UA(r,e){Oc.set(r._key(),e)}function LA(r){return as(r._redirectPersistence)}function PA(r){return jc(kA,r.config.apiKey,r.name)}async function BA(r,e,i=!1){if(Gn(r.app))return Promise.reject(ls(r));const a=Fo(r),o=IA(a,e),d=await new VA(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const qA=600*1e3;class HA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!pb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qA&&this.cachedEventUids.clear(),this.cachedEventUids.has(c_(e))}saveEventToCache(e){this.cachedEventUids.add(c_(e)),this.lastProcessedEventTime=Date.now()}}function c_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function FA(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pb(r);default:return!1}}async function GA(r,e={}){return fl(r,"GET","/v1/projects",e)}const KA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QA=/^https?/;async function YA(r){if(r.config.emulator)return;const{authorizedDomains:e}=await GA(r);for(const i of e)try{if(XA(i))return}catch{}us(r,"unauthorized-domain")}function XA(r){const e=Zd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!QA.test(i))return!1;if(KA.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const $A=new qo(3e4,6e4);function h_(){const r=Di().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function JA(r){return new Promise((e,i)=>{function a(){h_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h_(),i(Ii(r,"network-request-failed"))},timeout:$A.get()})}if(Di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Di().gapi?.load)a();else{const o=ZS("iframefcb");return Di()[o]=()=>{gapi.load?a():i(Ii(r,"network-request-failed"))},$S(`${JS()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function ZA(r){return Mc=Mc||JA(r),Mc}const WA=new qo(5e3,15e3),ew="__/auth/iframe",tw="emulator/auth/iframe",nw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sw(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?wm(e,tw):`https://${r.config.authDomain}/${ew}`,a={apiKey:e.apiKey,appName:r.name,v:hl},o=iw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bo(a).slice(1)}`}async function rw(r){const e=await ZA(r),i=Di().gapi;return xe(i,r,"internal-error"),e.open({where:document.body,url:sw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),g=Di().setTimeout(()=>{c(d)},WA.get());function v(){Di().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const aw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lw=500,ow=600,uw="_blank",cw="http://localhost";class f_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hw(r,e,i,a=lw,o=ow){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...aw,width:a.toString(),height:o.toString(),top:c,left:d},_=rn().toLowerCase();i&&(g=Xv(_)?uw:i),Qv(_)&&(e=e||cw,v.scrollbars="yes");const x=Object.entries(v).reduce((O,[H,ee])=>`${O}${H}=${ee},`,"");if(qS(_)&&g!=="_self")return fw(e||"",g),new f_(null);const A=window.open(e||"",g,x);xe(A,r,"popup-blocked");try{A.focus()}catch{}return new f_(A)}function fw(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const dw="__/auth/handler",mw="emulator/auth/handler",pw=encodeURIComponent("fac");async function d_(r,e,i,a,o,c){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:hl,eventId:o};if(e instanceof sb){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",hx(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,A]of Object.entries({}))d[x]=A}if(e instanceof Go){const x=e.getScopes().filter(A=>A!=="");x.length>0&&(d.scopes=x.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const x of Object.keys(g))g[x]===void 0&&delete g[x];const v=await r._getAppCheckToken(),_=v?`#${pw}=${encodeURIComponent(v)}`:"";return`${gw(r)}?${Bo(g).slice(1)}${_}`}function gw({config:r}){return r.emulator?wm(r,mw):`https://${r.authDomain}/${dw}`}const Ld="webStorageSupport";class yw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ub,this._completeRedirectFn=BA,this._overrideRedirectResult=UA}async _openPopup(e,i,a,o){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await d_(e,i,a,Zd(),o);return hw(e,c,Dm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await d_(e,i,a,Zd(),o);return bA(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(cs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await rw(e),a=new HA(e);return i.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Ld,{type:Ld},o=>{const c=o?.[0]?.[Ld];c!==void 0&&i(!!c),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=YA(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return eb()||Yv()||Cm()}}const _w=yw;var m_="@firebase/auth",p_="1.12.0";class vw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ew(r){nl(new $r("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tb(r)},_=new YS(a,o,c,v);return eA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),nl(new $r("auth-internal",e=>{const i=Fo(e.getProvider("auth").getImmediate());return(a=>new vw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(m_,p_,bw(r)),ir(m_,p_,"esm2020")}const Tw=300,xw=Iv("authIdTokenMaxAge")||Tw;let g_=null;const Sw=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>xw)return;const o=i?.token;g_!==o&&(g_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Aw(r=Vv()){const e=Sm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=WS(r,{popupRedirectResolver:_w,persistence:[CA,yA,ub]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Sw(c.toString());dA(i,d,()=>d(i.currentUser)),fA(i,g=>d(g))}}const o=Rv("auth");return o&&tA(i,`http://${o}`),i}function ww(){return document.getElementsByTagName("head")?.[0]??document}XS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=Ii("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",ww().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ew("Browser");var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,gb;(function(){var r;function e(w,S){function R(){}R.prototype=S.prototype,w.F=S.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(M,I,V){for(var N=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)N[Ze-2]=arguments[Ze];return S.prototype[I].apply(M,N)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)M[I]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=w.g[0],R=w.g[1],I=w.g[2];let V=w.g[3],N;N=S+(V^R&(I^V))+M[0]+3614090360&4294967295,S=R+(N<<7&4294967295|N>>>25),N=V+(I^S&(R^I))+M[1]+3905402710&4294967295,V=S+(N<<12&4294967295|N>>>20),N=I+(R^V&(S^R))+M[2]+606105819&4294967295,I=V+(N<<17&4294967295|N>>>15),N=R+(S^I&(V^S))+M[3]+3250441966&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(V^R&(I^V))+M[4]+4118548399&4294967295,S=R+(N<<7&4294967295|N>>>25),N=V+(I^S&(R^I))+M[5]+1200080426&4294967295,V=S+(N<<12&4294967295|N>>>20),N=I+(R^V&(S^R))+M[6]+2821735955&4294967295,I=V+(N<<17&4294967295|N>>>15),N=R+(S^I&(V^S))+M[7]+4249261313&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(V^R&(I^V))+M[8]+1770035416&4294967295,S=R+(N<<7&4294967295|N>>>25),N=V+(I^S&(R^I))+M[9]+2336552879&4294967295,V=S+(N<<12&4294967295|N>>>20),N=I+(R^V&(S^R))+M[10]+4294925233&4294967295,I=V+(N<<17&4294967295|N>>>15),N=R+(S^I&(V^S))+M[11]+2304563134&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(V^R&(I^V))+M[12]+1804603682&4294967295,S=R+(N<<7&4294967295|N>>>25),N=V+(I^S&(R^I))+M[13]+4254626195&4294967295,V=S+(N<<12&4294967295|N>>>20),N=I+(R^V&(S^R))+M[14]+2792965006&4294967295,I=V+(N<<17&4294967295|N>>>15),N=R+(S^I&(V^S))+M[15]+1236535329&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(I^V&(R^I))+M[1]+4129170786&4294967295,S=R+(N<<5&4294967295|N>>>27),N=V+(R^I&(S^R))+M[6]+3225465664&4294967295,V=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(V^S))+M[11]+643717713&4294967295,I=V+(N<<14&4294967295|N>>>18),N=R+(V^S&(I^V))+M[0]+3921069994&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(I^V&(R^I))+M[5]+3593408605&4294967295,S=R+(N<<5&4294967295|N>>>27),N=V+(R^I&(S^R))+M[10]+38016083&4294967295,V=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(V^S))+M[15]+3634488961&4294967295,I=V+(N<<14&4294967295|N>>>18),N=R+(V^S&(I^V))+M[4]+3889429448&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(I^V&(R^I))+M[9]+568446438&4294967295,S=R+(N<<5&4294967295|N>>>27),N=V+(R^I&(S^R))+M[14]+3275163606&4294967295,V=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(V^S))+M[3]+4107603335&4294967295,I=V+(N<<14&4294967295|N>>>18),N=R+(V^S&(I^V))+M[8]+1163531501&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(I^V&(R^I))+M[13]+2850285829&4294967295,S=R+(N<<5&4294967295|N>>>27),N=V+(R^I&(S^R))+M[2]+4243563512&4294967295,V=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(V^S))+M[7]+1735328473&4294967295,I=V+(N<<14&4294967295|N>>>18),N=R+(V^S&(I^V))+M[12]+2368359562&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(R^I^V)+M[5]+4294588738&4294967295,S=R+(N<<4&4294967295|N>>>28),N=V+(S^R^I)+M[8]+2272392833&4294967295,V=S+(N<<11&4294967295|N>>>21),N=I+(V^S^R)+M[11]+1839030562&4294967295,I=V+(N<<16&4294967295|N>>>16),N=R+(I^V^S)+M[14]+4259657740&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(R^I^V)+M[1]+2763975236&4294967295,S=R+(N<<4&4294967295|N>>>28),N=V+(S^R^I)+M[4]+1272893353&4294967295,V=S+(N<<11&4294967295|N>>>21),N=I+(V^S^R)+M[7]+4139469664&4294967295,I=V+(N<<16&4294967295|N>>>16),N=R+(I^V^S)+M[10]+3200236656&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(R^I^V)+M[13]+681279174&4294967295,S=R+(N<<4&4294967295|N>>>28),N=V+(S^R^I)+M[0]+3936430074&4294967295,V=S+(N<<11&4294967295|N>>>21),N=I+(V^S^R)+M[3]+3572445317&4294967295,I=V+(N<<16&4294967295|N>>>16),N=R+(I^V^S)+M[6]+76029189&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(R^I^V)+M[9]+3654602809&4294967295,S=R+(N<<4&4294967295|N>>>28),N=V+(S^R^I)+M[12]+3873151461&4294967295,V=S+(N<<11&4294967295|N>>>21),N=I+(V^S^R)+M[15]+530742520&4294967295,I=V+(N<<16&4294967295|N>>>16),N=R+(I^V^S)+M[2]+3299628645&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(I^(R|~V))+M[0]+4096336452&4294967295,S=R+(N<<6&4294967295|N>>>26),N=V+(R^(S|~I))+M[7]+1126891415&4294967295,V=S+(N<<10&4294967295|N>>>22),N=I+(S^(V|~R))+M[14]+2878612391&4294967295,I=V+(N<<15&4294967295|N>>>17),N=R+(V^(I|~S))+M[5]+4237533241&4294967295,R=I+(N<<21&4294967295|N>>>11),N=S+(I^(R|~V))+M[12]+1700485571&4294967295,S=R+(N<<6&4294967295|N>>>26),N=V+(R^(S|~I))+M[3]+2399980690&4294967295,V=S+(N<<10&4294967295|N>>>22),N=I+(S^(V|~R))+M[10]+4293915773&4294967295,I=V+(N<<15&4294967295|N>>>17),N=R+(V^(I|~S))+M[1]+2240044497&4294967295,R=I+(N<<21&4294967295|N>>>11),N=S+(I^(R|~V))+M[8]+1873313359&4294967295,S=R+(N<<6&4294967295|N>>>26),N=V+(R^(S|~I))+M[15]+4264355552&4294967295,V=S+(N<<10&4294967295|N>>>22),N=I+(S^(V|~R))+M[6]+2734768916&4294967295,I=V+(N<<15&4294967295|N>>>17),N=R+(V^(I|~S))+M[13]+1309151649&4294967295,R=I+(N<<21&4294967295|N>>>11),N=S+(I^(R|~V))+M[4]+4149444226&4294967295,S=R+(N<<6&4294967295|N>>>26),N=V+(R^(S|~I))+M[11]+3174756917&4294967295,V=S+(N<<10&4294967295|N>>>22),N=I+(S^(V|~R))+M[2]+718787259&4294967295,I=V+(N<<15&4294967295|N>>>17),N=R+(V^(I|~S))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+V&4294967295}a.prototype.v=function(w,S){S===void 0&&(S=w.length);const R=S-this.blockSize,M=this.C;let I=this.h,V=0;for(;V<S;){if(I==0)for(;V<=R;)o(this,w,V),V+=this.blockSize;if(typeof w=="string"){for(;V<S;)if(M[I++]=w.charCodeAt(V++),I==this.blockSize){o(this,M),I=0;break}}else for(;V<S;)if(M[I++]=w[V++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=S},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)w[S++]=this.g[R]>>>M&255;return w};function c(w,S){var R=g;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=S(w)}function d(w,S){this.h=S;const R=[];let M=!0;for(let I=w.length-1;I>=0;I--){const V=w[I]|0;M&&V==S||(R[I]=V,M=!1)}this.g=R}var g={};function v(w){return-128<=w&&w<128?c(w,function(S){return new d([S|0],S<0?-1:0)}):new d([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return A;if(w<0)return J(_(-w));const S=[];let R=1;for(let M=0;w>=R;M++)S[M]=w/R|0,R*=4294967296;return new d(S,0)}function x(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return J(x(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let M=A;for(let V=0;V<w.length;V+=8){var I=Math.min(8,w.length-V);const N=parseInt(w.substring(V,V+I),S);I<8?(I=_(Math.pow(S,I)),M=M.j(I).add(_(N))):(M=M.j(R),M=M.add(_(N)))}return M}var A=v(0),O=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();let w=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);w+=(M>=0?M:4294967296+M)*S,S*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(ee(this))return"0";if(W(this))return"-"+J(this).toString(w);const S=_(Math.pow(w,6));var R=this;let M="";for(;;){const I=Be(R,S).g;R=ue(R,I.j(S));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=I,ee(R))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function ee(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function W(w){return w.h==-1}r.l=function(w){return w=ue(this,w),W(w)?-1:ee(w)?0:1};function J(w){const S=w.g.length,R=[];for(let M=0;M<S;M++)R[M]=~w.g[M];return new d(R,~w.h).add(O)}r.abs=function(){return W(this)?J(this):this},r.add=function(w){const S=Math.max(this.g.length,w.g.length),R=[];let M=0;for(let I=0;I<=S;I++){let V=M+(this.i(I)&65535)+(w.i(I)&65535),N=(V>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);M=N>>>16,V&=65535,N&=65535,R[I]=N<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ue(w,S){return w.add(J(S))}r.j=function(w){if(ee(this)||ee(w))return A;if(W(this))return W(w)?J(this).j(J(w)):J(J(this).j(w));if(W(w))return J(this.j(J(w)));if(this.l(H)<0&&w.l(H)<0)return _(this.m()*w.m());const S=this.g.length+w.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<w.g.length;I++){const V=this.i(M)>>>16,N=this.i(M)&65535,Ze=w.i(I)>>>16,dt=w.i(I)&65535;R[2*M+2*I]+=N*dt,ye(R,2*M+2*I),R[2*M+2*I+1]+=V*dt,ye(R,2*M+2*I+1),R[2*M+2*I+1]+=N*Ze,ye(R,2*M+2*I+1),R[2*M+2*I+2]+=V*Ze,ye(R,2*M+2*I+2)}for(w=0;w<S;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=S;w<2*S;w++)R[w]=0;return new d(R,0)};function ye(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function ce(w,S){this.g=w,this.h=S}function Be(w,S){if(ee(S))throw Error("division by zero");if(ee(w))return new ce(A,A);if(W(w))return S=Be(J(w),S),new ce(J(S.g),J(S.h));if(W(S))return S=Be(w,J(S)),new ce(J(S.g),S.h);if(w.g.length>30){if(W(w)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var R=O,M=S;M.l(w)<=0;)R=Ee(R),M=Ee(M);var I=he(R,1),V=he(M,1);for(M=he(M,2),R=he(R,2);!ee(M);){var N=V.add(M);N.l(w)<=0&&(I=I.add(R),V=N),M=he(M,1),R=he(R,1)}return S=ue(w,I.j(S)),new ce(I,S)}for(I=A;w.l(S)>=0;){for(R=Math.max(1,Math.floor(w.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=_(R),N=V.j(S);W(N)||N.l(w)>0;)R-=M,V=_(R),N=V.j(S);ee(V)&&(V=O),I=I.add(V),w=ue(w,N)}return new ce(I,w)}r.B=function(w){return Be(this,w).h},r.and=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&w.i(M);return new d(R,this.h&w.h)},r.or=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|w.i(M);return new d(R,this.h|w.h)},r.xor=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^w.i(M);return new d(R,this.h^w.h)};function Ee(w){const S=w.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=w.i(M)<<1|w.i(M-1)>>>31;return new d(R,w.h)}function he(w,S){const R=S>>5;S%=32;const M=w.g.length-R,I=[];for(let V=0;V<M;V++)I[V]=S>0?w.i(V+R)>>>S|w.i(V+R+1)<<32-S:w.i(V+R);return new d(I,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,gb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=x,sr=d}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yb,vo,_b,kc,tm,vb,bb,Eb;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in b))break e;b=b[z]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=v,_.apply(null,arguments)}function x(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,z,B){for(var ie=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ie[Re-2]=arguments[Re];return m.prototype[z].apply(T,ie)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function ee(u,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=u.length||0;const B=z.length||0;u.length=b+B;for(let ie=0;ie<B;ie++)u[b+ie]=z[ie]}else u.push(z)}}class W{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ue(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,b){const T=ce.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new W(()=>new Be,u=>u.reset());class Be{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,he=!1,w=new ye,S=()=>{const u=Promise.resolve(void 0);Ee=()=>{u.then(R)}};function R(){for(var u;u=ue();){try{u.h.call(u.g)}catch(b){J(b)}var m=ce;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}he=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Ze(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Ze,I),Ze.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ze.Z.h.call(this)},Ze.prototype.h=function(){Ze.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(u,m,b,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=z,this.key=++F,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function $e(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function D(u){const m={};for(const b in u)m[b]=u[b];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let b,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(b in T)u[b]=T[b];for(let B=0;B<Q.length;B++)b=Q[B],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function te(u){this.src=u,this.g={},this.h=0}te.prototype.add=function(u,m,b,T,z){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ie=Te(u,m,T,z);return ie>-1?(m=u[ie],b||(m.fa=!1)):(m=new se(m,this.src,B,!!T,z),m.fa=b,u.push(m)),m};function _e(u,m){const b=m.type;if(b in u.g){var T=u.g[b],z=Array.prototype.indexOf.call(T,m,void 0),B;(B=z>=0)&&Array.prototype.splice.call(T,z,1),B&&(fe(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Te(u,m,b,T){for(let z=0;z<u.length;++z){const B=u[z];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==T)return z}return-1}var De="closure_lm_"+(Math.random()*1e6|0),vt={};function lt(u,m,b,T,z){if(Array.isArray(m)){for(let B=0;B<m.length;B++)lt(u,m[B],b,T,z);return null}return b=gr(b),u&&u[dt]?u.J(m,b,g(T)?!!T.capture:!1,z):Ui(u,m,b,!1,T,z)}function Ui(u,m,b,T,z,B){if(!m)throw Error("Invalid event type");const ie=g(z)?!!z.capture:!!z;let Re=Li(u);if(Re||(u[De]=Re=new te(u)),b=Re.add(m,b,T,ie,B),b.proxy)return b;if(T=ps(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)V||(z=ie),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Dn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ps(){function u(b){return m.call(u.src,u.listener,b)}const m=li;return u}function gs(u,m,b,T,z){if(Array.isArray(m))for(var B=0;B<m.length;B++)gs(u,m[B],b,T,z);else T=g(T)?!!T.capture:!!T,b=gr(b),u&&u[dt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],b=Te(m,b,T,z),b>-1&&(fe(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Te(m,b,T,z)),(b=u>-1?m[u]:null)&&ys(b))}function ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[dt])_e(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(Dn(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=Li(m))?(_e(b,u),b.h==0&&(b.src=null,m[De]=null)):fe(u)}}}function Dn(u){return u in vt?vt[u]:vt[u]="on"+u}function li(u,m){if(u.da)u=!0;else{m=new Ze(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&ys(u),u=b.call(T,m)}return u}function Li(u){return u=u[De],u instanceof te?u:null}var pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function gr(u){return typeof u=="function"?u:(u[pr]||(u[pr]=function(m){return u.handleEvent(m)}),u[pr])}function ot(){M.call(this),this.i=new te(this),this.M=this,this.G=null}A(ot,M),ot.prototype[dt]=!0,ot.prototype.removeEventListener=function(u,m,b,T){gs(this,u,m,b,T)};function Y(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var z=m;m=new I(T,u),ne(m,z)}z=!0;let B,ie;if(b)for(ie=b.length-1;ie>=0;ie--)B=m.g=b[ie],z=me(B,T,!0,m)&&z;if(B=m.g=u,z=me(B,T,!0,m)&&z,z=me(B,T,!1,m)&&z,b)for(ie=0;ie<b.length;ie++)B=m.g=b[ie],z=me(B,T,!1,m)&&z}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)fe(b[T]);delete u.g[m],u.h--}}this.G=null},ot.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},ot.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function me(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let B=0;B<m.length;++B){const ie=m[B];if(ie&&!ie.da&&ie.capture==b){const Re=ie.listener,Et=ie.ha||ie.src;ie.fa&&_e(u.i,ie),z=Re.call(Et,T)!==!1&&z}}return z&&!T.defaultPrevented}function je(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ge(u){u.g=je(()=>{u.g=null,u.i&&(u.i=!1,Ge(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ge extends M{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(u){M.call(this),this.h=u,this.g={}}A(Ht,M);var Ft=[];function ln(u){He(u.g,function(m,b){this.g.hasOwnProperty(b)&&ys(m)},u),u.g={}}Ht.prototype.N=function(){Ht.Z.N.call(this),ln(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cn=d.JSON.stringify,bn=d.JSON.parse,sa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zo(){}function Wo(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){I.call(this,"d")}A(Gt,I);function jn(){I.call(this,"c")}A(jn,I);var bt={},eu=null;function ra(){return eu=eu||new ot}bt.Ia="serverreachability";function tu(u){I.call(this,bt.Ia,u)}A(tu,I);function oi(u){const m=ra();Y(m,new tu(m))}bt.STAT_EVENT="statevent";function yr(u,m){I.call(this,bt.STAT_EVENT,u),this.stat=m}A(yr,I);function At(u){const m=ra();Y(m,new yr(m,u))}bt.Ja="timingevent";function ui(u,m){I.call(this,bt.Ja,u),this.size=m}A(ui,I);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Ih(u,m,b,T,z,B){u.info(function(){if(u.g)if(B){var ie="",Re=B.split("&");for(let Ye=0;Ye<Re.length;Ye++){var Et=Re[Ye].split("=");if(Et.length>1){const mt=Et[0];Et=Et[1];const Vn=mt.split("_");ie=Vn.length>=2&&Vn[1]=="type"?ie+(mt+"="+Et+"&"):ie+(mt+"=redacted&")}}}else ie=null;else ie=B;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+b+`
`+ie})}function nu(u,m,b,T,z,B,ie){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+b+`
`+B+" "+ie})}function hi(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,b)+(T?" "+T:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ie=1;ie<T.length;ie++)T[ie]=""}}}}return cn(B)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function br(){}A(br,Zo),br.prototype.g=function(){return new XMLHttpRequest},_l=new br;function Pi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function Xn(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new Ht(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var wt={},Lt={};function fi(u,m,b){u.M=1,u.A=Er(Rt(m)),u.u=b,u.R=!0,aa(u,null)}function aa(u,m){u.F=Date.now(),di(u),u.B=Rt(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ca(b.i,"t",T),u.C=0,b=u.j.L,u.h=new $n,u.g=_u(u.j,b?m:null,!u.u),u.P>0&&(u.O=new ge(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ft[0]=z.toString()),z=Ft);for(let B=0;B<z.length;B++){const ie=lt(b,z[B],T||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Wn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=Wn(this.g),Et=this.g.ya(),Ye=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Re!=4||Et==7||(Et==8||Ye<=0?oi(3):oi(2)),mi(this);var m=this.g.ca();this.X=m;var b=jh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,Re,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var B=T;break t}}B=null}if(u=B)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,At(12),En(this),On(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<b.length;)if(mt=ru(this,b),mt==Lt){Re==4&&(this.m=4,At(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==wt){this.m=4,At(15),hi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,mt,null),pi(this,mt);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,b,"[Invalid Chunked Response]"),En(this),On(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ol(ie),ie.P=!0,At(11))}}else hi(this.i,this.l,b,null),pi(this,b);Re==4&&En(this),this.o&&!this.K&&(Re==4?mu(this.j,this):(this.o=!1,di(this)))}else qi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),En(this),On(this)}}}catch{}};function jh(u){if(!su(u))return u.g.la();const m=Kt(u.g);if(m==="")return"";let b="";const T=m.length,z=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),On(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,b+=u.h.i.decode(m[B],{stream:!(z&&B==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?Lt:(b=Number(m.substring(b,T)),isNaN(b)?wt:(T+=1,T+b>m.length?Lt:(m=m.slice(T,T+b),u.C=T+b,m)))}Xn.prototype.cancel=function(){this.K=!0,En(this)};function di(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(_(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(oi(),At(17)),En(this),this.m=2,On(this)):la(this,this.T-u)};function On(u){u.j.I==0||u.K||mu(u.j,u)}function En(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ln(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||yi(b.h,u))){if(!u.L&&yi(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)pa(b),As(b);else break e;Rr(b),At(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ci(_(b.Va,b),6e3));gi(b.h)<=1&&b.ta&&(b.ta=void 0)}else xi(b,11)}else if((u.L||b.g==u)&&pa(b),!N(m))for(z=b.Ba.g.parse(m),m=0;m<z.length;m++){let Ye=z[m];const mt=Ye[0];if(!(mt<=b.K))if(b.K=mt,Ye=Ye[1],b.I==2)if(Ye[0]=="c"){b.M=Ye[1],b.ba=Ye[2];const Vn=Ye[3];Vn!=null&&(b.ka=Vn,b.j.info("VER="+b.ka));const Si=Ye[4];Si!=null&&(b.za=Si,b.j.info("SVER="+b.za));const ei=Ye[5];ei!=null&&typeof ei=="number"&&ei>0&&(T=1.5*ei,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const ti=u.g;if(ti){const Cr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var B=T.h;B.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(El(B,B.h),B.h=null))}if(T.G){const ga=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,We(T.J,T.G,ga))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ie=u;if(T.na=yu(T,T.L?T.ba:null,T.W),ie.L){Tl(T.h,ie);var Re=ie,Et=T.O;Et&&(Re.H=Et),Re.D&&(mi(Re),di(Re)),T.g=ie}else fu(T);b.i.length>0&&Ti(b)}else Ye[0]!="stop"&&Ye[0]!="close"||xi(b,7);else b.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?xi(b,7):Dl(b):Ye[0]!="noop"&&b.l&&b.l.qa(Ye),b.A=0)}}oi(4)}catch{}}var Nt=class{constructor(u,m){this.g=u,this.map=m}};function vl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function El(u,m){u.g?u.g.add(m):u.h=m}function Tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return H(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let z,B=null;T>=0?(z=u[b].substring(0,T),B=u[b].substring(T+1)):z=u[b],m(z,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,Pt(this,u.j),this.o=u.o,this.g=u.g,_s(this,u.u),this.h=u.h,Sl(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),_s(this,m[4]),this.h=_i(m[5]||"",!0),Sl(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Tr(m,ua,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Tr(m,ua,!0),"@"),u.push(Pi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Tr(b,b.charAt(0)=="/"?Al:lu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Tr(b,ou)),u.join("")},Tn.prototype.resolve=function(u){const m=Rt(this);let b=!!u.j;b?Pt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)_s(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const B=[];for(let ie=0;ie<z.length;){const Re=z[ie++];Re=="."?T&&ie==z.length&&B.push(""):Re==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&ie==z.length&&B.push("")):(B.push(Re),T=!0)}T=B.join("/")}else T=z}return b?m.h=T:b=u.i.toString()!=="",b?Sl(m,cu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Rt(u){return new Tn(u)}function Pt(u,m,b){u.j=b?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function _s(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Sl(u,m,b){m instanceof bs?(u.i=m,ha(u.i,u.l)):(b||(m=Tr(m,vs)),u.i=new bs(m,u.l))}function We(u,m,b){u.i.set(m,b)}function Er(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,lu=/[#\?:]/g,Al=/[#\?]/g,vs=/[#\?@]/g,ou=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}r=bs.prototype,r.add=function(u,m){fn(this),this.i=null,u=Es(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function uu(u,m){fn(u),m=Es(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wl(u,m){return fn(u),m=Es(u,m),u.g.has(m)}r.forEach=function(u,m){fn(this),this.g.forEach(function(b,T){b.forEach(function(z){u.call(m,z,T,this)},this)},this)};function Nl(u,m){fn(u);let b=[];if(typeof m=="string")wl(u,m)&&(b=b.concat(u.g.get(Es(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}r.set=function(u,m){return fn(this),this.i=null,u=Es(this,u),wl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Nl(this,u),u.length>0?String(u[0]):m):m};function ca(u,m,b){uu(u,m),b.length>0&&(u.i=null,u.g.set(Es(u,m),H(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const z=Pi(b);b=Nl(this,b);for(let B=0;B<b.length;B++){let ie=z;b[B]!==""&&(ie+="="+Pi(b[B])),u.push(ie)}}return this.i=u.join("&")};function cu(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Es(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ha(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(b,T){const z=T.toLowerCase();T!=z&&(uu(this,T),ca(this,z,b))},u)),u.j=m}function Jn(u,m){const b=new Yn;if(d.Image){const T=new Image;T.onload=x(Mn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=x(Mn,b,"TestLoadImage: error",!1,m,T),T.onabort=x(Mn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(Mn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const b=new Yn,T=new AbortController,z=setTimeout(()=>{T.abort(),Mn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(z),B.ok?Mn(b,"TestPingServer: ok",!0,m):Mn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Mn(b,"TestPingServer: error",!1,m)})}function Mn(u,m,b,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(b)}catch{}}function Ts(){this.g=new sa}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(vi,Zo),vi.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,m){ot.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(xr,ot),r=xr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?xs(this):Zn(this),this.readyState==3&&fa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,xs(this))},r.Na=function(u){this.g&&(this.response=u,xs(this))},r.ga=function(){this.g&&xs(this)};function xs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return He(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Sr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=kn(b),typeof u=="string"?b!=null&&Pi(b):We(u,m,b))}function nt(u){ot.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(nt,ot);var bi=/^https?$/i,Cl=["POST","PUT"];r=nt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ar(this,B);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)b.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||T||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of b)this.g.setRequestHeader(B,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ar(this,B)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),Bi(u)}function Il(u){u.A||(u.A=!0,Y(u,"complete"),Y(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Y(this,"complete"),Y(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),nt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},r.Xa=function(){wr(this)};function wr(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Y(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=B===0){let ie=String(u.D).match(au)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),T=!bi.test(ie?ie.toLowerCase():"")}b=T}if(b)Y(u,"complete"),Y(u,"success");else{u.o=6;try{var z=Wn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Il(u)}}finally{Bi(u)}}}}function Bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Y(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bn(m)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const m={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(N(u[T]))continue;var b=iu(u[T]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[z]||[];m[z]=B,B.push(b)}$e(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Ss(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(u&&u.concurrentRequestLimit),this.Ba=new Ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ss.prototype,r.ka=8,r.I=1,r.connect=function(u,m,b,T){At(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=yu(this,null,this.W),Ti(this)};function Dl(u){if(da(u),u.I==3){var m=u.V++,b=Rt(u.J);if(We(b,"SID",u.M),We(b,"RID",m),We(b,"TYPE","terminate"),Nr(u,b),m=new Xn(u,u.j,m),m.M=2,m.A=Er(Rt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}gu(u)}function As(u){u.g&&(Ol(u),u.g.cancel(),u.g=null)}function da(u){As(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!bl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ee||S(),he||(Ee(),he=!0),w.add(m,u),u.D=0}}function ma(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(z.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=hu(this,z,m),b=Rt(this.J),We(b,"RID",u),We(b,"CVER",22),this.G&&We(b,"X-HTTP-Session-Id",this.G),Nr(this,b),B&&(this.R?m="headers="+Pi(kn(B))+"&"+m:this.u&&Sr(b,this.u,B)),El(this.h,z),this.Ra&&We(b,"TYPE","init"),this.S?(We(b,"$req",m),We(b,"SID","null"),z.U=!0,fi(z,b,null)):fi(z,b,m),this.I=2}}else this.I==3&&(u?jl(this,u):this.i.length==0||bl(this.h)||jl(this))};function jl(u,m){var b;m?b=m.l:b=u.V++;const T=Rt(u.J);We(T,"SID",u.M),We(T,"RID",b),We(T,"AID",u.K),Nr(u,T),u.u&&u.o&&Sr(T,u.u,u.o),b=new Xn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,b),fi(b,T,m)}function Nr(u,m){u.H&&He(u.H,function(b,T){We(m,T,b)}),u.l&&He({},function(b,T){We(m,T,b)})}function hu(u,m,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var z=u.i;let Re=-1;for(;;){const Et=["count="+b];Re==-1?b>0?(Re=z[0].g,Et.push("ofs="+Re)):Re=0:Et.push("ofs="+Re);let Ye=!0;for(let mt=0;mt<b;mt++){var B=z[mt].g;const Vn=z[mt].map;if(B-=Re,B<0)Re=Math.max(0,z[mt].g-100),Ye=!1;else try{B="req"+B+"_"||"";try{var ie=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Si,ei]of ie){let ti=ei;g(ei)&&(ti=cn(ei)),Et.push(B+Si+"="+encodeURIComponent(ti))}}catch(Si){throw Et.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(Vn)}}if(Ye){ie=Et.join("&");break e}}ie=void 0}return u=u.i.splice(0,b),m.G=u,ie}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ee||S(),he||(Ee(),he=!0),w.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(_(u.Da,u),pu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),As(this),du(this))};function Ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Rt(u.na);We(m,"RID","rpc"),We(m,"SID",u.M),We(m,"AID",u.K),We(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(m,"TO",u.ia),We(m,"TYPE","xmlhttp"),Nr(u,m),u.u&&u.o&&Sr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Er(Rt(m)),b.u=null,b.R=!0,aa(b,u)}r.Va=function(){this.C!=null&&(this.C=null,As(this),Rr(this),At(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var b=null;if(u.g==m){pa(u),Ol(u),u.g=null;var T=2}else if(yi(u.h,m))b=m.G,Tl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;T=ra(),Y(T,new ui(T,b)),Ti(u)}else fu(u);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&ma(u,m)||T==2&&Rr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),z){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function pu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),T=u.Ua;const z=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pt(T,"https"),Er(T),z?Jn(T.toString(),b):Rl(T.toString(),b)}else At(2);u.I=0,u.l&&u.l.pa(m),gu(u),da(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=xl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,b){var T=b instanceof Tn?Rt(b):new Tn(b);if(T.g!="")m&&(T.g=m+"."+T.g),_s(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const B=new Tn(null);T&&Pt(B,T),m&&(B.g=m),z&&_s(B,z),b&&(B.h=b),T=B}return b=u.G,m=u.wa,b&&m&&We(T,b,m),We(T,"VER",u.ka),Nr(u,T),T}function _u(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new vi({ab:b})):new nt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ws(){}ws.prototype.g=function(u,m){return new on(u,m)};function on(u,m){ot.call(this),this.g=new Ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hi(this)}A(on,ot),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Dl(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=cn(u),u=b);m.i.push(new Nt(m.Ya++,u)),m.I==3&&Ti(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,on.Z.N.call(this)};function bu(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(bu,Gt);function Eu(){jn.call(this),this.status=1}A(Eu,jn);function Hi(u){this.g=u}A(Hi,vu),Hi.prototype.ra=function(){Y(this.g,"a")},Hi.prototype.qa=function(u){Y(this.g,new bu(u))},Hi.prototype.pa=function(u){Y(this.g,new Eu)},Hi.prototype.oa=function(){Y(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Eb=function(){return new ws},bb=function(){return ra()},vb=bt,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,kc=vr,yl.COMPLETE="complete",_b=yl,Wo.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,vo=Wo,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,yb=nt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore",v_="4.9.3";let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let dl="12.7.0";const Zr=new Tm("@firebase/firestore");function Ka(){return Zr.logLevel}function re(r,...e){if(Zr.logLevel<=ze.DEBUG){const i=e.map(Om);Zr.debug(`Firestore (${dl}): ${r}`,...i)}}function fs(r,...e){if(Zr.logLevel<=ze.ERROR){const i=e.map(Om);Zr.error(`Firestore (${dl}): ${r}`,...i)}}function il(r,...e){if(Zr.logLevel<=ze.WARN){const i=e.map(Om);Zr.warn(`Firestore (${dl}): ${r}`,...i)}}function Om(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function be(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Tb(r,a,i)}function Tb(r,e,i){let a=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw fs(a),new Error(a)}function Je(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||Tb(e,o,a)}function Ne(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class xb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class Rw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Cw{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new xb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class Iw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Iw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const a=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new b_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ow(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Ow(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Ue(r,e){return r<e?-1:r>e?1:0}function nm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return Pd(o)===Pd(c)?Ue(o,c):Pd(o)?1:-1}return Ue(r.length,e.length)}const Mw=55296,kw=57343;function Pd(r){const e=r.charCodeAt(0);return e>=Mw&&e<=kw}function sl(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}const E_="__name__";class Ci{constructor(e,i,a){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&be(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ci.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ue(e.length,i.length)}static compareSegments(e,i){const a=Ci.isNumericId(e),o=Ci.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(i)):nm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class ht extends Ci{construct(e,i,a){return new ht(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const Vw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ci{construct(e,i,a){return new Zt(e,i,a)}static isValidIdentifier(e){return Vw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E_}static keyField(){return new Zt([E_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(i)}static emptyPath(){return new Zt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ht.fromString(e))}static fromName(e){return new pe(ht.fromString(e).popFirst(5))}static empty(){return new pe(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ht(e.slice()))}}function Sb(r,e,i){if(!i)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zw(r,e,i,a){if(e===!0&&a===!0)throw new oe(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function T_(r){if(!pe.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function x_(r){if(pe.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ab(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function rr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(r);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Mt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Qo(r,e){if(!Ab(r))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new oe(Z.INVALID_ARGUMENT,i);return!0}const S_=-62135596800,A_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*A_);return new ft(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<S_)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qo(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Mt("string",ft._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ft(0,0))}static max(){return new Ae(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jo=-1;function Uw(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(a===1e9?new ft(i+1,0):new ft(i,a));return new lr(o,pe.empty(),e)}function Lw(r){return new lr(r.readTime,r.key,jo)}class lr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(Ae.min(),pe.empty(),jo)}static max(){return new lr(Ae.max(),pe.empty(),jo)}}function Pw(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(r.documentKey,e.documentKey),i!==0?i:Ue(r.largestBatchId,e.largestBatchId))}const Bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ml(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Bw)throw r;re("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const _=v;i(e[_]).next((x=>{d[_]=x,++g,g===c&&a(d)}),(x=>o(x)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Hw(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function pl(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;const Vm=-1;function dh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function Fw(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const wb="";function Gw(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=w_(e)),e=Kw(r.get(i),e);return w_(e)}function Kw(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case wb:i+="";break;default:i+=c}}return i}function w_(r){return r+wb+""}function N_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function dr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Nb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class gt{constructor(e,i){this.comparator=e,this.root=i||Jt.EMPTY}insert(e,i){return new gt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Jt.RED,this.left=o??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Jt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Jt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new R_(this.data.getIterator())}getIteratorFrom(e){return new R_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ut(this.comparator);return i.data=e,i}}class R_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new In([])}unionWith(e){let i=new Ut(Zt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new In(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Rb("Invalid base64 string: "+c):c}})(e);return new Wt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Wt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const Qw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const i=Qw.exec(r);if(Je(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ur(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}const Cb="server_timestamp",Ib="__type__",Db="__previous_value__",jb="__local_write_time__";function zm(r){return(r?.mapValue?.fields||{})[Ib]?.stringValue===Cb}function mh(r){const e=r.mapValue.fields[Db];return zm(e)?mh(e):e}function Oo(r){const e=or(r.mapValue.fields[jb].timestampValue);return new ft(e.seconds,e.nanos)}class Yw{constructor(e,i,a,o,c,d,g,v,_,x){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=x}}const Jc="(default)";class Mo{constructor(e,i){this.projectId=e,this.database=i||Jc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}const Ob="__type__",Xw="__max__",Rc={mapValue:{}},Mb="__vector__",Zc="value";function cr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:Jw(r)?9007199254740991:$w(r)?10:11:be(28295,{value:r})}function Vi(r,e){if(r===e)return!0;const i=cr(r);if(i!==cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Oo(r).isEqual(Oo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=or(o.timestampValue),g=or(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return ur(o.bytesValue).isEqual(ur(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return St(o.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return St(o.integerValue)===St(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=St(o.doubleValue),g=St(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return sl(r.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(N_(d)!==N_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Vi(d[v],g[v])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function ko(r,e){return(r.values||[]).find((i=>Vi(i,e)))!==void 0}function rl(r,e){if(r===e)return 0;const i=cr(r),a=cr(e);if(i!==a)return Ue(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=St(c.integerValue||c.doubleValue),v=St(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,e);case 3:return C_(r.timestampValue,e.timestampValue);case 4:return C_(Oo(r),Oo(e));case 5:return nm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=ur(c),v=ur(d);return g.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const x=Ue(g[_],v[_]);if(x!==0)return x}return Ue(g.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ue(St(c.latitude),St(d.latitude));return g!==0?g:Ue(St(c.longitude),St(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return I_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},_=g[Zc]?.arrayValue,x=v[Zc]?.arrayValue,A=Ue(_?.values?.length||0,x?.values?.length||0);return A!==0?A:I_(_,x)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),_=d.fields||{},x=Object.keys(_);v.sort(),x.sort();for(let A=0;A<v.length&&A<x.length;++A){const O=nm(v[A],x[A]);if(O!==0)return O;const H=rl(g[v[A]],_[x[A]]);if(H!==0)return H}return Ue(v.length,x.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function C_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const i=or(r),a=or(e),o=Ue(i.seconds,a.seconds);return o!==0?o:Ue(i.nanos,a.nanos)}function I_(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=rl(i[o],a[o]);if(c)return c}return Ue(i.length,a.length)}function al(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=or(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ur(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=im(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${im(i.fields[d])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function Vc(r){switch(cr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(r);return e?16+Vc(e):16;case 5:return 2*r.stringValue.length;case 6:return ur(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return dr(a.fields,((c,d)=>{o+=c.length+Vc(d)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function sm(r){return!!r&&"integerValue"in r}function Um(r){return!!r&&"arrayValue"in r}function D_(r){return!!r&&"nullValue"in r}function j_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function $w(r){return(r?.mapValue?.fields||{})[Ob]?.stringValue===Mb}function wo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return dr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=wo(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=wo(r.arrayValue.values[i]);return e}return{...r}}function Jw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Xw}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=wo(i)}setAll(e){let i=Zt.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=wo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){dr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new vn(wo(this.value))}}function kb(r){const e=[];return dr(r.fields,((i,a)=>{const o=new Zt([i]);if(zc(a)){const c=kb(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new In(e)}class sn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new sn(e,0,Ae.min(),Ae.min(),Ae.min(),vn.empty(),0)}static newFoundDocument(e,i,a,o){return new sn(e,1,i,Ae.min(),a,o,0)}static newNoDocument(e,i){return new sn(e,2,i,Ae.min(),Ae.min(),vn.empty(),0)}static newUnknownDocument(e,i){return new sn(e,3,i,Ae.min(),Ae.min(),vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(e,i){this.position=e,this.inclusive=i}}function O_(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=rl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function M_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Vi(r.position[i],e.position[i]))return!1;return!0}class eh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Zw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Vb{}class Vt extends Vb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new e2(e,i,a):i==="array-contains"?new i2(e,a):i==="in"?new s2(e,a):i==="not-in"?new r2(e,a):i==="array-contains-any"?new a2(e,a):new Vt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new t2(e,a):new n2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(rl(i,this.value)):i!==null&&cr(this.value)===cr(i)&&this.matchesComparison(rl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends Vb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new zi(e,i)}matches(e){return zb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zb(r){return r.op==="and"}function Ub(r){return Ww(r)&&zb(r)}function Ww(r){for(const e of r.filters)if(e instanceof zi)return!1;return!0}function rm(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+al(r.value);if(Ub(r))return r.filters.map((e=>rm(e))).join(",");{const e=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${e})`}}function Lb(r,e){return r instanceof Vt?(function(a,o){return o instanceof Vt&&a.op===o.op&&a.field.isEqual(o.field)&&Vi(a.value,o.value)})(r,e):r instanceof zi?(function(a,o){return o instanceof zi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&Lb(d,o.filters[g])),!0):!1})(r,e):void be(19439)}function Pb(r){return r instanceof Vt?(function(i){return`${i.field.canonicalString()} ${i.op} ${al(i.value)}`})(r):r instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Pb).join(" ,")+"}"})(r):"Filter"}class e2 extends Vt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class t2 extends Vt{constructor(e,i){super(e,"in",i),this.keys=Bb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class n2 extends Vt{constructor(e,i){super(e,"not-in",i),this.keys=Bb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Bb(r,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class i2 extends Vt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Um(i)&&ko(i.arrayValue,this.value)}}class s2 extends Vt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ko(this.value.arrayValue,i)}}class r2 extends Vt{constructor(e,i){super(e,"not-in",i)}matches(e){if(ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ko(this.value.arrayValue,i)}}class a2 extends Vt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ko(this.value.arrayValue,a)))}}class l2{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function k_(r,e=null,i=[],a=[],o=null,c=null,d=null){return new l2(r,e,i,a,o,c,d)}function Lm(r){const e=Ne(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>al(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>al(a))).join(",")),e.Te=i}return e.Te}function Pm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Zw(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Lb(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!M_(r.startAt,e.startAt)&&M_(r.endAt,e.endAt)}function am(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ph{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o2(r,e,i,a,o,c,d,g){return new ph(r,e,i,a,o,c,d,g)}function Bm(r){return new ph(r)}function V_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function u2(r){return r.collectionGroup!==null}function No(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ut(Zt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eh(c,a))})),i.has(Zt.keyField().canonicalString())||e.Ie.push(new eh(Zt.keyField(),a))}return e.Ie}function ji(r){const e=Ne(r);return e.Ee||(e.Ee=c2(e,No(r))),e.Ee}function c2(r,e){if(r.limitType==="F")return k_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eh(o.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return k_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function lm(r,e,i){return new ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function gh(r,e){return Pm(ji(r),ji(e))&&r.limitType===e.limitType}function qb(r){return`${Lm(ji(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Pb(o))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>al(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>al(o))).join(",")),`Target(${a})`})(ji(r))}; limitType=${r.limitType})`}function yh(r,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,o){for(const c of No(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const _=O_(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,No(a),o)||a.endAt&&!(function(d,g,v){const _=O_(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,No(a),o))})(r,e)}function h2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Hb(r){return(e,i)=>{let a=!1;for(const o of No(r)){const c=f2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function f2(r,e,i){const a=r.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,g){const v=d.data.field(c),_=g.data.field(c);return v!==null&&_!==null?rl(v,_):be(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:r.dir})}}class na{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){dr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return Nb(this.inner)}size(){return this.innerSize}}const d2=new gt(pe.comparator);function ds(){return d2}const Fb=new gt(pe.comparator);function bo(...r){let e=Fb;for(const i of r)e=e.insert(i.key,i);return e}function Gb(r){let e=Fb;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Kr(){return Ro()}function Kb(){return Ro()}function Ro(){return new na((r=>r.toString()),((r,e)=>r.isEqual(e)))}const m2=new gt(pe.comparator),p2=new Ut(pe.comparator);function Le(...r){let e=p2;for(const i of r)e=e.add(i);return e}const g2=new Ut(Ue);function y2(){return g2}function qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function Qb(r){return{integerValue:""+r}}function _2(r,e){return Fw(e)?Qb(e):qm(r,e)}class _h{constructor(){this._=void 0}}function v2(r,e,i){return r instanceof Vo?(function(o,c){const d={fields:{[Ib]:{stringValue:Cb},[jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&zm(c)&&(c=mh(c)),c&&(d.fields[Db]=c),{mapValue:d}})(i,e):r instanceof zo?Xb(r,e):r instanceof Uo?$b(r,e):(function(o,c){const d=Yb(o,c),g=z_(d)+z_(o.Ae);return sm(d)&&sm(o.Ae)?Qb(g):qm(o.serializer,g)})(r,e)}function b2(r,e,i){return r instanceof zo?Xb(r,e):r instanceof Uo?$b(r,e):i}function Yb(r,e){return r instanceof th?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Vo extends _h{}class zo extends _h{constructor(e){super(),this.elements=e}}function Xb(r,e){const i=Jb(e);for(const a of r.elements)i.some((o=>Vi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Uo extends _h{constructor(e){super(),this.elements=e}}function $b(r,e){let i=Jb(e);for(const a of r.elements)i=i.filter((o=>!Vi(o,a)));return{arrayValue:{values:i}}}class th extends _h{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function z_(r){return St(r.integerValue||r.doubleValue)}function Jb(r){return Um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class E2{constructor(e,i){this.field=e,this.transform=i}}function T2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof zo&&o instanceof zo||a instanceof Uo&&o instanceof Uo?sl(a.elements,o.elements,Vi):a instanceof th&&o instanceof th?Vi(a.Ae,o.Ae):a instanceof Vo&&o instanceof Vo})(r.transform,e.transform)}class x2{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vh{}function Zb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Hm(r.key,ai.none()):new Yo(r.key,r.data,ai.none());{const i=r.data,a=vn.empty();let o=new Ut(Zt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new mr(r.key,a,new In(o.toArray()),ai.none())}}function S2(r,e,i){r instanceof Yo?(function(o,c,d){const g=o.value.clone(),v=L_(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof mr?(function(o,c,d){if(!Uc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=L_(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(Wb(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Co(r,e,i,a){return r instanceof Yo?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const _=c.value.clone(),x=P_(c.fieldTransforms,v,d);return _.setAll(x),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof mr?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const _=P_(c.fieldTransforms,v,d),x=d.data;return x.setAll(Wb(c)),x.setAll(_),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function A2(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=Yb(a.transform,o||null);c!=null&&(i===null&&(i=vn.empty()),i.set(a.field,c))}return i||null}function U_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&sl(a,o,((c,d)=>T2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yo extends vh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mr extends vh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Wb(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function L_(r,e,i){const a=new Map;Je(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,b2(d,g,i[o]))}return a}function P_(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,v2(c,d,e))}return a}class Hm extends vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w2 extends vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class N2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&S2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Co(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Co(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Kb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=Zb(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((i,a)=>U_(i,a)))&&sl(this.baseMutations,e.baseMutations,((i,a)=>U_(i,a)))}}class Fm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return m2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Fm(e,i,a,o)}}class R2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class C2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ot,Fe;function I2(r){switch(r){case Z.OK:return be(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function e1(r){if(r===void 0)return fs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ot.OK:return Z.OK;case Ot.CANCELLED:return Z.CANCELLED;case Ot.UNKNOWN:return Z.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return Z.INTERNAL;case Ot.UNAVAILABLE:return Z.UNAVAILABLE;case Ot.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ot.NOT_FOUND:return Z.NOT_FOUND;case Ot.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ot.ABORTED:return Z.ABORTED;case Ot.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ot.DATA_LOSS:return Z.DATA_LOSS;default:return be(39323,{code:r})}}(Fe=Ot||(Ot={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function D2(){return new TextEncoder}const j2=new sr([4294967295,4294967295],0);function B_(r){const e=D2().encode(r),i=new gb;return i.update(e),new Uint8Array(i.digest())}function q_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new sr([i,a],0),new sr([o,c],0)]}class Gm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=sr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(sr.fromNumber(a)));return o.compare(j2)===1&&(o=new sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=B_(e),[a,o]=q_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=B_(e),[a,o]=q_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Xo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new bh(Ae.min(),o,new gt(Ue),ds(),Le())}}class Xo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xo(a,i,Le(),Le(),Le())}}class Lc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class t1{constructor(e,i){this.targetId=e,this.Ce=i}}class n1{constructor(e,i,a=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class H_{constructor(){this.ve=0,this.Fe=F_(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),i=Le(),a=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:c})}})),new Xo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=F_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class O2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=Cc(),this.He=Cc(),this.Ye=new gt(Ue)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(am(c))if(a===0){const d=new pe(c.path);this.et(i,d,sn.newNoDocument(d,Ae.min()))}else Je(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=ur(a).toUint8Array()}catch(v){if(v instanceof Rb)return il("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Gm(d,o,c)}catch(v){return il(v instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const v=new pe(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,sn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Le();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new bh(e,i,this.Ye,this.je,a);return this.je=ds(),this.Je=Cc(),this.He=Cc(),this.Ye=new gt(Ue),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new H_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ut(Ue),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ut(Ue),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new H_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Cc(){return new gt(pe.comparator)}function F_(){return new gt(pe.comparator)}const M2={asc:"ASCENDING",desc:"DESCENDING"},k2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class z2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function om(r,e){return r.useProto3Json||dh(e)?e:{value:e}}function nh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function U2(r,e){return nh(r,e.toTimestamp())}function Oi(r){return Je(!!r,49232),Ae.fromTimestamp((function(i){const a=or(i);return new ft(a.seconds,a.nanos)})(r))}function Km(r,e){return um(r,e).canonicalString()}function um(r,e){const i=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function s1(r){const e=ht.fromString(r);return Je(u1(e),10190,{key:e.toString()}),e}function cm(r,e){return Km(r.databaseId,e.path)}function Bd(r,e){const i=s1(e);if(i.get(1)!==r.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pe(a1(i))}function r1(r,e){return Km(r.databaseId,e)}function L2(r){const e=s1(r);return e.length===4?ht.emptyPath():a1(e)}function hm(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function a1(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function G_(r,e,i){return{name:cm(r,e),fields:i.value.mapValue.fields}}function P2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:be(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(Je(x===void 0||typeof x=="string",58123),Wt.fromBase64String(x||"")):(Je(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Wt.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const x=_.code===void 0?Z.UNKNOWN:e1(_.code);return new oe(x,_.message||"")})(d);i=new n1(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bd(r,a.document.name),c=Oi(a.document.updateTime),d=a.document.createTime?Oi(a.document.createTime):Ae.min(),g=new vn({mapValue:{fields:a.document.fields}}),v=sn.newFoundDocument(o,c,d,g),_=a.targetIds||[],x=a.removedTargetIds||[];i=new Lc(_,x,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Bd(r,a.document),c=a.readTime?Oi(a.readTime):Ae.min(),d=sn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Lc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Bd(r,a.document),c=a.removedTargetIds||[];i=new Lc([],c,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new C2(o,c),g=a.targetId;i=new t1(g,d)}}return i}function B2(r,e){let i;if(e instanceof Yo)i={update:G_(r,e.key,e.value)};else if(e instanceof Hm)i={delete:cm(r,e.key)};else if(e instanceof mr)i={update:G_(r,e.key,e.data),updateMask:$2(e.fieldMask)};else{if(!(e instanceof w2))return be(16599,{Vt:e.type});i={verify:cm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Vo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof th)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw be(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:U2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(r,e.precondition)),i}function q2(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Oi(o.updateTime):Oi(c);return d.isEqual(Ae.min())&&(d=Oi(c)),new x2(d,o.transformResults||[])})(i,e)))):[]}function H2(r,e){return{documents:[r1(r,e.path)]}}function F2(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=r1(r,o);const c=(function(_){if(_.length!==0)return o1(zi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((x=>(function(O){return{field:Ya(O.field),direction:Q2(O.dir)}})(x)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=om(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function G2(r){let e=L2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Je(a===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(A){const O=l1(A);return O instanceof zi&&Ub(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((O=>(function(ee){return new eh(Xa(ee.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let O;return O=typeof A=="object"?A.value:A,dh(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(A){const O=!!A.before,H=A.values||[];return new Wc(H,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const O=!A.before,H=A.values||[];return new Wc(H,O)})(i.endAt)),o2(e,o,d,c,g,"F",v,_)}function K2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function l1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Xa(i.unaryFilter.field);return Vt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(i.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xa(i.unaryFilter.field);return Vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(i.unaryFilter.field);return Vt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Vt.create(Xa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((a=>l1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(r):be(30097,{filter:r})}function Q2(r){return M2[r]}function Y2(r){return k2[r]}function X2(r){return V2[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Xa(r){return Zt.fromServerFormat(r.fieldPath)}function o1(r){return r instanceof Vt?(function(i){if(i.op==="=="){if(j_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(D_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(j_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(D_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:Y2(i.op),value:i.value}}})(r):r instanceof zi?(function(i){const a=i.getFilters().map((o=>o1(o)));return a.length===1?a[0]:{compositeFilter:{op:X2(i.op),filters:a}}})(r):be(54877,{filter:r})}function $2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function u1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class er{constructor(e,i,a,o,c=Ae.min(),d=Ae.min(),g=Wt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J2{constructor(e){this.yt=e}}function Z2(r){const e=G2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(e,e.limit,"L"):e}class W2{constructor(){this.Cn=new eN}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(lr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class eN{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ut(ht.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ut(ht.comparator)).toArray()}}const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c1=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(c1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ll(0)}static cr(){return new ll(-1)}}const Q_="LruGarbageCollector",tN=1048576;function Y_([r,e],[i,a]){const o=Ue(r,i);return o===0?Ue(e,a):o}class nN{constructor(e){this.Ir=e,this.buffer=new Ut(Y_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iN{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(Q_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){pl(i)?re(Q_,"Ignoring IndexedDB error during garbage collection: ",i):await ml(i)}await this.Vr(3e5)}))}}class sN{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(fh.ce);const a=new nN(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(K_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,v,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),Ka()<=ze.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-x}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function rN(r,e){return new sN(r,e)}class aN{constructor(){this.changes=new na((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class oN{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Co(a.mutation,o,In.empty(),ft.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Le()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Le()){const o=Kr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=bo();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Kr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Le())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=ds();const d=Ro(),g=(function(){return Ro()})();return i.forEach(((v,_)=>{const x=a.get(_.key);o.has(_.key)&&(x===void 0||x.mutation instanceof mr)?c=c.insert(_.key,_):x!==void 0?(d.set(_.key,x.mutation.getFieldMask()),Co(x.mutation,_,x.mutation.getFieldMask(),ft.now())):d.set(_.key,In.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,x)=>d.set(_,x))),i.forEach(((_,x)=>g.set(_,new lN(x,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Ro();let o=new gt(((d,g)=>d-g)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let x=a.get(v)||In.empty();x=g.applyToLocalView(_,x),a.set(v,x);const A=(o.get(g.batchId)||Le()).add(v);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,x=v.value,A=Kb();x.forEach((O=>{if(!c.has(O)){const H=Zb(i.get(O),a.get(O));H!==null&&A.set(O,H),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):u2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(Kr());let g=jo,v=c;return d.next((_=>$.forEach(_,((x,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(x)?$.resolve():this.remoteDocumentCache.getEntry(e,x).next((O=>{v=v.insert(x,O)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Le()))).next((x=>({batchId:g,changes:Gb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=bo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=bo();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(v=>{const _=(function(A,O){return new ph(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((x=>{x.forEach(((A,O)=>{d=d.insert(A,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((v,_)=>{const x=_.getKey();d.get(x)===null&&(d=d.insert(x,sn.newInvalidDocument(x)))}));let g=bo();return d.forEach(((v,_)=>{const x=c.get(v);x!==void 0&&Co(x.mutation,_,In.empty(),ft.now()),yh(i,_)&&(g=g.insert(v,_))})),g}))}}class uN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Z2(o.bundledQuery),readTime:Oi(o.readTime)}})(i)),$.resolve()}}class cN{constructor(){this.overlays=new gt(pe.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Kr();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=Kr(),c=i.length+1,d=new pe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new gt(((_,x)=>_-x));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let x=c.get(_.largestBatchId);x===null&&(x=Kr(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const g=Kr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,x)=>g.set(_,x))),!(g.size()>=o)););return $.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new R2(i,a));let c=this.qr.get(i);c===void 0&&(c=Le(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class hN{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Qm{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new qt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new qt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pe(new ht([])),a=new qt(i,e),o=new qt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new ht([])),a=new qt(i,e),o=new qt(i,e+1);let c=Le();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new qt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class qt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||Ue(e.Yr,i.Yr)}static Kr(e,i){return Ue(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class fN{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new N2(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new qt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Vm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new qt(i,0),o=new qt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ut(Ue);return i.forEach((o=>{const c=new qt(o,0),d=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new qt(new pe(c),0);let g=new Ut(Ue);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new qt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new qt(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dN{constructor(e){this.ri=e,this.docs=(function(){return new gt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(e,i){let a=ds();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():sn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ds();const d=i.path,g=new pe(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:x}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Pw(Lw(x),a)<=0||(o.has(x.key)||yh(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){be(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new mN(this)}getSize(e){return $.resolve(this.size)}}class mN extends aN{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class pN{constructor(e){this.persistence=e,this.si=new na((i=>Lm(i)),Pm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=ll.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ll(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class h1{constructor(e,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new hN,this.referenceDelegate=e(this),this.Pi=new pN(this),this.indexManager=new W2,this.remoteDocumentCache=(function(o){return new dN(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new J2(i),this.Ii=new uN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new fN(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){re("MemoryPersistence","Starting transaction:",e);const o=new gN(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class gN extends qw{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Ym(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=pe.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ih{constructor(e,i){this.persistence=e,this.pi=new na((a=>Gw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=rN(this,i)}static mi(e,i){return new ih(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Vc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Le(),o=Le();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Xm(e,i.fromCache,a,o)}}class yN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _N{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rx()?8:Hw(rn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yN;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ka()<=ze.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ka()<=ze.DEBUG&&re("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ka()<=ze.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(i))):$.resolve())}ys(e,i){if(V_(i))return $.resolve(null);let a=ji(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=lm(i,null,"F"),a=ji(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Le(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,lm(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,o){return V_(i)||o.isEqual(Ae.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(Ka()<=ze.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(i)),this.vs(e,d,i,Uw(o,jo)).next((g=>g)))}))}Ds(e,i){let a=new Ut(Hb(e));return i.forEach(((o,c)=>{yh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ka()<=ze.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(e,i,lr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",vN=3e8;class bN{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new gt(Ue),this.xs=new na((c=>Lm(c)),Pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function EN(r,e,i,a){return new bN(r,e,i,a)}async function f1(r,e){const i=Ne(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Le();for(const _ of o){d.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}for(const _ of c){g.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function TN(r,e){const i=Ne(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,x){const A=_.batch,O=A.keys();let H=$.resolve();return O.forEach((ee=>{H=H.next((()=>x.getEntry(v,ee))).next((W=>{const J=_.docVersions.get(ee);Je(J!==null,48541),W.version.compareTo(J)<0&&(A.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),x.addEntry(W)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(v,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Le();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function d1(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function xN(r,e){const i=Ne(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((x,A)=>{const O=o.get(A);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,A))));let H=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(Wt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):x.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(x.resumeToken,a)),o=o.insert(A,H),(function(W,J,ue){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=vN?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(O,H,x)&&g.push(i.Pi.updateTargetData(c,H))}));let v=ds(),_=Le();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),g.push(SN(c,d,e.documentUpdates).next((x=>{v=x.ks,_=x.qs}))),!a.isEqual(Ae.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(x)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function SN(r,e,i){let a=Le(),o=Le();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=ds();return i.forEach(((g,v)=>{const _=c.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Ae.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):re($m,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function AN(r,e){const i=Ne(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function wN(r,e){const i=Ne(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new er(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function fm(r,e,i){const a=Ne(r),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!pl(d))throw d;re($m,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function X_(r,e,i){const a=Ne(r);let o=Ae.min(),c=Le();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,x){const A=Ne(v),O=A.xs.get(x);return O!==void 0?$.resolve(A.Ms.get(O)):A.Pi.getTargetData(_,x)})(a,d,ji(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Ae.min(),i?c:Le()))).next((g=>(NN(a,h2(e),g),{documents:g,Qs:c})))))}function NN(r,e,i){let a=r.Os.get(e)||Ae.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class $_{constructor(){this.activeTargetIds=y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RN{constructor(){this.Mo=new $_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CN{Oo(e){}shutdown(){}}const J_="ConnectivityMonitor";class Z_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(J_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(J_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function dm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const qd="RestConnection",IN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=dm(),g=this.zo(e,i.toUriEncodedString());re(qd,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:_}=new URL(g),x=cl(_);return this.Jo(e,g,v,a,x).then((A=>(re(qd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw il(qd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=IN[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class jN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class ON extends DN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=dm();return new Promise(((g,v)=>{const _=new yb;_.setWithCredentials(!0),_.listenOnce(_b.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case kc.NO_ERROR:const A=_.getResponseJson();re(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case kc.TIMEOUT:re(tn,`RPC '${e}' ${d} timed out`),v(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const O=_.getStatus();if(re(tn,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const ee=H?.error;if(ee&&ee.status&&ee.message){const W=(function(ue){const ye=ue.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ye)>=0?ye:Z.UNKNOWN})(ee.status);v(new oe(W,ee.message))}else v(new oe(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{re(tn,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);re(tn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",x,a,15)}))}T_(e,i,a){const o=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Eb(),g=bb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const x=c.join("");re(tn,`Creating RPC '${e}' stream ${o}: ${x}`,v);const A=d.createWebChannel(x,v);this.I_(A);let O=!1,H=!1;const ee=new jN({Yo:J=>{H?re(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(O||(re(tn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),O=!0),re(tn,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),W=(J,ue,ye)=>{J.listen(ue,(ce=>{try{ye(ce)}catch(Be){setTimeout((()=>{throw Be}),0)}}))};return W(A,vo.EventType.OPEN,(()=>{H||(re(tn,`RPC '${e}' stream ${o} transport opened.`),ee.o_())})),W(A,vo.EventType.CLOSE,(()=>{H||(H=!0,re(tn,`RPC '${e}' stream ${o} transport closed`),ee.a_(),this.E_(A))})),W(A,vo.EventType.ERROR,(J=>{H||(H=!0,il(tn,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),ee.a_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),W(A,vo.EventType.MESSAGE,(J=>{if(!H){const ue=J.data[0];Je(!!ue,16349);const ye=ue,ce=ye?.error||ye[0]?.error;if(ce){re(tn,`RPC '${e}' stream ${o} received error:`,ce);const Be=ce.status;let Ee=(function(S){const R=Ot[S];if(R!==void 0)return e1(R)})(Be),he=ce.message;Ee===void 0&&(Ee=Z.INTERNAL,he="Unknown error status: "+Be+" with message "+ce.message),H=!0,ee.a_(new oe(Ee,he)),A.close()}else re(tn,`RPC '${e}' stream ${o} received:`,ue),ee.u_(ue)}})),W(g,vb.STAT_EVENT,(J=>{J.stat===tm.PROXY?re(tn,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===tm.NOPROXY&&re(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Hd(){return typeof document<"u"?document:null}function Eh(r){return new z2(r,!0)}class m1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W_="PersistentStream";class p1{constructor(e,i,a,o,c,d,g,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(W_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(re(W_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MN extends p1{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=P2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Oi(d.readTime):Ae.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=am(v)?{documents:H2(c,v)}:{query:F2(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=i1(c,d.resumeToken);const _=om(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ae.min())>0){g.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=om(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=K2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=hm(this.serializer),i.removeTarget=e,this.q_(i)}}class kN extends p1{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=q2(e.writeResults,e.commitTime),a=Oi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>B2(this.serializer,a)))};this.q_(i)}}class VN{}class zN extends VN{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,um(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,um(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UN{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wr="RemoteStore";class LN{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ia(this)&&(re(Wr,"Restarting streams for network reachability change."),await(async function(v){const _=Ne(v);_.Ea.add(4),await $o(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Th(_)})(this))}))})),this.Ra=new UN(a,o)}}async function Th(r){if(ia(r))for(const e of r.da)await e(!0)}async function $o(r){for(const e of r.da)await e(!1)}function g1(r,e){const i=Ne(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ep(i)?Wm(i):gl(i).O_()&&Zm(i,e))}function Jm(r,e){const i=Ne(r),a=gl(i);i.Ia.delete(e),a.O_()&&y1(i,e),i.Ia.size===0&&(a.O_()?a.L_():ia(i)&&i.Ra.set("Unknown"))}function Zm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}gl(r).Y_(e)}function y1(r,e){r.Va.Ue(e),gl(r).Z_(e)}function Wm(r){r.Va=new O2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),gl(r).start(),r.Ra.ua()}function ep(r){return ia(r)&&!gl(r).x_()&&r.Ia.size>0}function ia(r){return Ne(r).Ea.size===0}function _1(r){r.Va=void 0}async function PN(r){r.Ra.set("Online")}async function BN(r){r.Ia.forEach(((e,i)=>{Zm(r,e)}))}async function qN(r,e){_1(r),ep(r)?(r.Ra.ha(e),Wm(r)):r.Ra.set("Unknown")}async function HN(r,e,i){if(r.Ra.set("Online"),e instanceof n1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){re(Wr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await sh(r,a)}else if(e instanceof Lc?r.Va.Ze(e):e instanceof t1?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ae.min()))try{const a=await d1(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const x=c.Ia.get(v);if(!x)return;c.Ia.set(v,x.withResumeToken(Wt.EMPTY_BYTE_STRING,x.snapshotVersion)),y1(c,v);const A=new er(x.target,v,_,x.sequenceNumber);Zm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){re(Wr,"Failed to raise snapshot:",a),await sh(r,a)}}async function sh(r,e,i){if(!pl(e))throw e;r.Ea.add(1),await $o(r),r.Ra.set("Offline"),i||(i=()=>d1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{re(Wr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function v1(r,e){return e().catch((i=>sh(r,i,e)))}async function xh(r){const e=Ne(r),i=hr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vm;for(;FN(e);)try{const o=await AN(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,GN(e,o)}catch(o){await sh(e,o)}b1(e)&&E1(e)}function FN(r){return ia(r)&&r.Ta.length<10}function GN(r,e){r.Ta.push(e);const i=hr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function b1(r){return ia(r)&&!hr(r).x_()&&r.Ta.length>0}function E1(r){hr(r).start()}async function KN(r){hr(r).ra()}async function QN(r){const e=hr(r);for(const i of r.Ta)e.ea(i.mutations)}async function YN(r,e,i){const a=r.Ta.shift(),o=Fm.from(a,e,i);await v1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await xh(r)}async function XN(r,e){e&&hr(r).X_&&await(async function(a,o){if((function(d){return I2(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();hr(a).B_(),await v1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xh(a)}})(r,e),b1(r)&&E1(r)}async function ev(r,e){const i=Ne(r);i.asyncQueue.verifyOperationInProgress(),re(Wr,"RemoteStore received new credentials");const a=ia(i);i.Ea.add(3),await $o(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Th(i)}async function $N(r,e){const i=Ne(r);e?(i.Ea.delete(2),await Th(i)):e||(i.Ea.add(2),await $o(i),i.Ra.set("Unknown"))}function gl(r){return r.ma||(r.ma=(function(i,a,o){const c=Ne(i);return c.sa(),new MN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:PN.bind(null,r),t_:BN.bind(null,r),r_:qN.bind(null,r),H_:HN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ep(r)?Wm(r):r.Ra.set("Unknown")):(await r.ma.stop(),_1(r))}))),r.ma}function hr(r){return r.fa||(r.fa=(function(i,a,o){const c=Ne(i);return c.sa(),new kN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KN.bind(null,r),r_:XN.bind(null,r),ta:QN.bind(null,r),na:YN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(re(Wr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new tp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,e){if(fs("AsyncQueue",`${e}: ${r}`),pl(r))return new oe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=bo(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new el;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class tv{constructor(){this.ga=new gt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class ol{constructor(e,i,a,o,c,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ol(e,i,el.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class JN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZN{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ne(i),c=o.queries;o.queries=nv(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function nv(){return new na((r=>qb(r)),gh)}async function WN(r,e){const i=Ne(r);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new JN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=np(d,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ip(i)}async function eR(r,e){const i=Ne(r),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function tR(r,e){const i=Ne(r);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&ip(i)}function nR(r,e,i){const a=Ne(r),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function ip(r){r.Ca.forEach((e=>{e.next()}))}var mm,iv;(iv=mm||(mm={})).Ma="default",iv.Cache="cache";class iR{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ol(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}class T1{constructor(e){this.key=e}}class x1{constructor(e){this.key=e}}class sR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=Hb(e),this.tu=new el(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new tv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,A)=>{const O=o.get(x),H=yh(this.query,A)?A:null,ee=!!O&&this.mutatedKeys.has(O.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;O&&H?O.data.isEqual(H.data)?ee!==W&&(a.track({type:3,doc:H}),J=!0):this.su(O,H)||(a.track({type:2,doc:H}),J=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(g=!0)):!O&&H?(a.track({type:0,doc:H}),J=!0):O&&!H&&(a.track({type:1,doc:O}),J=!0,(v||_)&&(g=!0)),J&&(H?(d=d.add(H),c=W?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),a.track({type:1,doc:x})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,A)=>(function(H,ee){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:J})}};return W(H)-W(ee)})(x.type,A.type)||this.eu(x.doc,A.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new ol(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new x1(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new T1(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Le();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class rR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class aR{constructor(e){this.key=e,this.hu=!1}}class lR{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((g=>qb(g)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new gt(pe.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oR(r,e,i=!0){const a=C1(r);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await S1(a,e,i,!0),o}async function uR(r,e){const i=C1(r);await S1(i,e,!0,!1)}async function S1(r,e,i,a){const o=await wN(r.localStore,ji(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await cR(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&g1(r.remoteStore,o),g}async function cR(r,e,i,a,o){r.pu=(A,O,H)=>(async function(W,J,ue,ye){let ce=J.view.ru(ue);ce.Cs&&(ce=await X_(W.localStore,J.query,!1).then((({documents:w})=>J.view.ru(w,ce))));const Be=ye&&ye.targetChanges.get(J.targetId),Ee=ye&&ye.targetMismatches.get(J.targetId)!=null,he=J.view.applyChanges(ce,W.isPrimaryClient,Be,Ee);return rv(W,J.targetId,he.au),he.snapshot})(r,A,O,H);const c=await X_(r.localStore,e,!0),d=new sR(e,c.Qs),g=d.ru(c.documents),v=Xo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,v);rv(r,i,_.au);const x=new rR(e,i,d);return r.Tu.set(e,x),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function hR(r,e,i){const a=Ne(r),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!gh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Jm(a.remoteStore,o.targetId),pm(a,o.targetId)})).catch(ml)):(pm(a,o.targetId),await fm(a.localStore,o.targetId,!0))}async function fR(r,e){const i=Ne(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function dR(r,e,i){const a=bR(r);try{const o=await(function(d,g){const v=Ne(d),_=ft.now(),x=g.reduce(((H,ee)=>H.add(ee.key)),Le());let A,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let ee=ds(),W=Le();return v.Ns.getEntries(H,x).next((J=>{ee=J,ee.forEach(((ue,ye)=>{ye.isValidDocument()||(W=W.add(ue))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,ee))).next((J=>{A=J;const ue=[];for(const ye of g){const ce=A2(ye,A.get(ye.key).overlayedDocument);ce!=null&&ue.push(new mr(ye.key,ce,kb(ce.value.mapValue),ai.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,ue,g)})).next((J=>{O=J;const ue=J.applyToLocalDocumentSet(A,W);return v.documentOverlayCache.saveOverlays(H,J.batchId,ue)}))})).then((()=>({batchId:O.batchId,changes:Gb(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new gt(Ue)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await Jo(a,o.changes),await xh(a.remoteStore)}catch(o){const c=np(o,"Failed to persist write");i.reject(c)}}async function A1(r,e){const i=Ne(r);try{const a=await xN(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Je(d.hu,14607):o.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await Jo(i,a,e)}catch(a){await ml(a)}}function sv(r,e,i){const a=Ne(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Ne(d);v.onlineState=g;let _=!1;v.queries.forEach(((x,A)=>{for(const O of A.Sa)O.va(g)&&(_=!0)})),_&&ip(v)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mR(r,e,i){const a=Ne(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new gt(pe.comparator);d=d.insert(c,sn.newNoDocument(c,Ae.min()));const g=Le().add(c),v=new bh(Ae.min(),new Map,new gt(Ue),d,g);await A1(a,v),a.du=a.du.remove(c),a.Au.delete(e),rp(a)}else await fm(a.localStore,e,!1).then((()=>pm(a,e,i))).catch(ml)}async function pR(r,e){const i=Ne(r),a=e.batch.batchId;try{const o=await TN(i.localStore,e);N1(i,a,null),w1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jo(i,o)}catch(o){await ml(o)}}async function gR(r,e,i){const a=Ne(r);try{const o=await(function(d,g){const v=Ne(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return v.mutationQueue.lookupMutationBatch(_,g).next((A=>(Je(A!==null,37113),x=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,x,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>v.localDocuments.getDocuments(_,x)))}))})(a.localStore,e);N1(a,e,i),w1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jo(a,o)}catch(o){await ml(o)}}function w1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function N1(r,e,i){const a=Ne(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function pm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||R1(r,a)}))}function R1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Jm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),rp(r))}function rv(r,e,i){for(const a of i)a instanceof T1?(r.Ru.addReference(a.key,e),yR(r,a)):a instanceof x1?(re(sp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||R1(r,a.key)):be(19791,{wu:a})}function yR(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(re(sp,"New document in limbo: "+i),r.Eu.add(a),rp(r))}function rp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pe(ht.fromString(e)),a=r.fu.next();r.Au.set(a,new aR(i)),r.du=r.du.insert(i,a),g1(r.remoteStore,new er(ji(Bm(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Jo(r,e,i){const a=Ne(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const x=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(_){o.push(_);const x=Xm.As(v.targetId,_);c.push(x)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,_){const x=Ne(v);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(O=>$.forEach(O.Es,(H=>x.persistence.referenceDelegate.addReference(A,O.targetId,H))).next((()=>$.forEach(O.ds,(H=>x.persistence.referenceDelegate.removeReference(A,O.targetId,H)))))))))}catch(A){if(!pl(A))throw A;re($m,"Failed to update sequence numbers: "+A)}for(const A of _){const O=A.targetId;if(!A.fromCache){const H=x.Ms.get(O),ee=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(ee);x.Ms=x.Ms.insert(O,W)}}})(a.localStore,c))}async function _R(r,e){const i=Ne(r);if(!i.currentUser.isEqual(e)){re(sp,"User change. New user:",e.toKey());const a=await f1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new oe(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jo(i,a.Ls)}}function vR(r,e){const i=Ne(r),a=i.Au.get(e);if(a&&a.hu)return Le().add(a.key);{let o=Le();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function C1(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=A1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mR.bind(null,e),e.Pu.H_=tR.bind(null,e.eventManager),e.Pu.yu=nR.bind(null,e.eventManager),e}function bR(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gR.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return EN(this.persistence,new _N,e.initialUser,this.serializer)}Cu(e){return new h1(Ym.mi,this.serializer)}Du(e){return new RN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class ER extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iN(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new h1((a=>ih.mi(a,i)),this.serializer)}}class gm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_R.bind(null,this.syncEngine),await $N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZN})()}createDatastore(e){const i=Eh(e.databaseInfo.databaseId),a=(function(c){return new ON(c)})(e.databaseInfo);return(function(c,d,g,v){return new zN(c,d,g,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new LN(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return Z_.v()?new Z_:new CN})())}createSyncEngine(e,i){return(function(o,c,d,g,v,_,x){const A=new lR(o,c,d,g,v,_);return x&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);re(Wr,"RemoteStore shutting down."),a.Ea.add(5),await $o(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class TR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const fr="FirestoreClient";class xR{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{re(fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(re(fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Fd(r,e){r.asyncQueue.verifyOperationInProgress(),re(fr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await f1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function av(r,e){r.asyncQueue.verifyOperationInProgress();const i=await SR(r);re(fr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>ev(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>ev(e.remoteStore,o))),r._onlineComponents=e}async function SR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){re(fr,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;il("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new rh)}}else re(fr,"Using default OfflineComponentProvider"),await Fd(r,new ER(void 0));return r._offlineComponents}async function I1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(re(fr,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(re(fr,"Using default OnlineComponentProvider"),await av(r,new gm))),r._onlineComponents}function AR(r){return I1(r).then((e=>e.syncEngine))}async function lv(r){const e=await I1(r),i=e.eventManager;return i.onListen=oR.bind(null,e.syncEngine),i.onUnlisten=hR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=uR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fR.bind(null,e.syncEngine),i}function D1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const ov=new Map;const j1="firestore.googleapis.com",uv=!0;class cv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j1,this.ssl=uv}else this.host=e.host,this.ssl=e.ssl??uv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tN)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Nw;switch(a.type){case"firstParty":return new Dw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ov.get(i);a&&(re("ComponentProvider","Removing Datastore"),ov.delete(i),a.terminate())})(this),Promise.resolve()}}function wR(r,e,i,a={}){r=rr(r,Sh);const o=cl(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(Dv(`https://${g}`),jv("Firestore",!0)),c.host!==j1&&c.host!==g&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!Xr(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,x;if(typeof a.mockUserToken=="string")_=a.mockUserToken,x=nn.MOCK_USER;else{_=$T(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new nn(A)}r._authCredentials=new Rw(new xb(_,x))}}class Ah{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ah(this.firestore,e,this._query)}}class zt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Qo(i,zt._jsonSchema))return new zt(e,a||null,new pe(ht.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Mt("string",zt._jsonSchemaVersion),referencePath:Mt("string")};class ar extends Ah{constructor(e,i,a){super(e,i,Bm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new pe(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function Pc(r,e,...i){if(r=an(r),Sb("collection","path",e),r instanceof Sh){const a=ht.fromString(e,...i);return x_(a),new ar(r,null,a)}{if(!(r instanceof zt||r instanceof ar))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...i));return x_(a),new ar(r.firestore,null,a)}}function To(r,e,...i){if(r=an(r),arguments.length===1&&(e=Mm.newId()),Sb("doc","path",e),r instanceof Sh){const a=ht.fromString(e,...i);return T_(a),new zt(r,null,new pe(a))}{if(!(r instanceof zt||r instanceof ar))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ht.fromString(e,...i));return T_(a),new zt(r.firestore,r instanceof ar?r.converter:null,new pe(a))}}const hv="AsyncQueue";class fv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m1(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&re(hv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;re(hv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",dv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=tp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:dv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function dv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function mv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ul extends Sh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new fv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fv(e),this._firestoreClient=void 0,await e}}}function NR(r,e){const i=typeof r=="object"?r:Vv(),a=typeof r=="string"?r:Jc,o=Sm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=YT("firestore");c&&wR(o,...c)}return o}function O1(r){if(r._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RR(r),r._firestoreClient}function RR(r){const e=r._freezeSettings(),i=(function(o,c,d,g){return new Yw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,D1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Wt.fromBase64String(e))}catch(i){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Kn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qo(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Mt("string",Kn._jsonSchemaVersion),bytes:Mt("string")};class wh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nh{constructor(e){this._methodName=e}}class Mi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(Qo(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Mt("string",Mi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class ki{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qo(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ki(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Mt("string",ki._jsonSchemaVersion),vectorValues:Mt("object")};const CR=/^__.*__$/;class IR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yo(e,this.data,i,this.fieldTransforms)}}class M1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function k1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class ap{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(k1(this.Ac)&&CR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(e)}Cc(e,i,a,o=!1){return new ap({Ac:e,methodName:i,Dc:a,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V1(r){const e=r._freezeSettings(),i=Eh(r._databaseId);return new DR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function jR(r,e,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);op("Data must be an object, but it was:",d,a);const g=z1(a,d);let v,_;if(c.merge)v=new In(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const A of c.mergeFields){const O=ym(e,A,i);if(!d.contains(O))throw new oe(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);L1(x,O)||x.push(O)}v=new In(x),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new IR(new vn(g),v,_)}class Rh extends Nh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}class lp extends Nh{_toFieldTransform(e){return new E2(e.path,new Vo)}isEqual(e){return e instanceof lp}}function OR(r,e,i,a){const o=r.Cc(1,e,i);op("Data must be an object, but it was:",o,a);const c=[],d=vn.empty();dr(a,((v,_)=>{const x=up(e,v,i);_=an(_);const A=o.yc(x);if(_ instanceof Rh)c.push(x);else{const O=Ch(_,A);O!=null&&(c.push(x),d.set(x,O))}}));const g=new In(c);return new M1(d,g,o.fieldTransforms)}function MR(r,e,i,a,o,c){const d=r.Cc(1,e,i),g=[ym(e,a,i)],v=[o];if(c.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(ym(e,c[O])),v.push(c[O+1]);const _=[],x=vn.empty();for(let O=g.length-1;O>=0;--O)if(!L1(_,g[O])){const H=g[O];let ee=v[O];ee=an(ee);const W=d.yc(H);if(ee instanceof Rh)_.push(H);else{const J=Ch(ee,W);J!=null&&(_.push(H),x.set(H,J))}}const A=new In(_);return new M1(x,A,d.fieldTransforms)}function Ch(r,e){if(U1(r=an(r)))return op("Unsupported field value:",e,r),z1(r,e);if(r instanceof Nh)return(function(a,o){if(!k1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=Ch(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,o){if((a=an(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ft.fromDate(a);return{timestampValue:nh(o.serializer,c)}}if(a instanceof ft){const c=new ft(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(o.serializer,c)}}if(a instanceof Mi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:i1(o.serializer,a._byteString)};if(a instanceof zt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ki)return(function(d,g){return{mapValue:{fields:{[Ob]:{stringValue:Mb},[Zc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return qm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${km(a)}`)})(r,e)}function z1(r,e){const i={};return Nb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dr(r,((a,o)=>{const c=Ch(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function U1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ft||r instanceof Mi||r instanceof Kn||r instanceof zt||r instanceof Nh||r instanceof ki)}function op(r,e,i){if(!U1(i)||!Ab(i)){const a=km(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function ym(r,e,i){if((e=an(e))instanceof wh)return e._internalPath;if(typeof e=="string")return up(r,e);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const kR=new RegExp("[~\\*/\\[\\]]");function up(r,e,i){if(e.search(kR)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new wh(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new oe(Z.INVALID_ARGUMENT,g+r+v)}function L1(r,e){return r.some((i=>i.isEqual(e)))}class P1{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(B1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VR extends P1{data(){return super.data()}}function B1(r,e){return typeof e=="string"?up(r,e):e instanceof wh?e._internalPath:e._delegate._internalPath}function zR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UR{convertValue(e,i="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return dr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Zc].arrayValue?.values?.map((a=>St(a.doubleValue)));return new ki(i)}convertGeoPoint(e){return new Mi(St(e.latitude),St(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=mh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}convertTimestamp(e){const i=or(e);return new ft(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ht.fromString(e);Je(u1(a),9688,{name:e});const o=new Mo(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||fs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function LR(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class xo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends P1{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(B1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Mt("string",Yr._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Bc extends Yr{data(e={}){return super.data(e)}}class tl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new xo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new xo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,x=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),x=d.indexOf(g.doc.key)),{type:PR(g.type),doc:v,oldIndex:_,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=tl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}tl._jsonSchemaVersion="firestore/querySnapshot/1.0",tl._jsonSchema={type:Mt("string",tl._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class q1 extends UR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function pv(r,e,i,...a){r=rr(r,zt);const o=rr(r.firestore,ul),c=V1(o);let d;return d=typeof(e=an(e))=="string"||e instanceof wh?MR(c,"updateDoc",r._key,e,i,a):OR(c,"updateDoc",r._key,e),cp(o,[d.toMutation(r._key,ai.exists(!0))])}function gv(r){return cp(rr(r.firestore,ul),[new Hm(r._key,ai.none())])}function H1(r,e){const i=rr(r.firestore,ul),a=To(r),o=LR(r.converter,e);return cp(i,[jR(V1(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,ai.exists(!1))]).then((()=>a))}function yv(r,...e){r=an(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||mv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(mv(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,d,g;if(r instanceof zt)d=rr(r.firestore,ul),g=Bm(r._key.path),c={next:v=>{e[a]&&e[a](BR(d,r,v))},error:e[a+1],complete:e[a+2]};else{const v=rr(r,Ah);d=rr(v.firestore,ul),g=v._query;const _=new q1(d);c={next:x=>{e[a]&&e[a](new tl(d,_,v,x))},error:e[a+1],complete:e[a+2]},zR(r._query)}return(function(_,x,A,O){const H=new TR(O),ee=new iR(x,H,A);return _.asyncQueue.enqueueAndForget((async()=>WN(await lv(_),ee))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>eR(await lv(_),ee)))}})(O1(d),g,o,c)}function cp(r,e){return(function(a,o){const c=new Qr;return a.asyncQueue.enqueueAndForget((async()=>dR(await AR(a),o,c))),c.promise})(O1(r),e)}function BR(r,e,i){const a=i.docs.get(e._key),o=new q1(r);return new Yr(r,o,e._key,a,new xo(i.hasPendingWrites,i.fromCache),e.converter)}function _m(){return new lp("serverTimestamp")}(function(e,i=!0){(function(o){dl=o})(hl),nl(new $r("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ul(new Cw(a.getProvider("auth-internal")),new jw(d,a.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(_.options.projectId,x)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ir(__,v_,e),ir(__,v_,"esm2020")})();const qR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),_v=r=>{const e=HR(r);return e.charAt(0).toUpperCase()+e.slice(1)},F1=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),FR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var GR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KR=Se.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>Se.createElement("svg",{ref:v,...GR,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:F1("lucide",o),...!c&&!FR(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,x])=>Se.createElement(_,x)),...Array.isArray(c)?c:[c]]));const Pe=(r,e)=>{const i=Se.forwardRef(({className:a,...o},c)=>Se.createElement(KR,{ref:c,iconNode:e,className:F1(`lucide-${qR(_v(r))}`,`lucide-${r}`,a),...o}));return i.displayName=_v(r),i};const QR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hp=Pe("arrow-right",QR);const YR=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],XR=Pe("award",YR);const $R=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],JR=Pe("bed",$R);const ZR=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ea=Pe("briefcase",ZR);const WR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gd=Pe("calendar",WR);const eC=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],tC=Pe("chef-hat",eC);const nC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ta=Pe("circle-check-big",nC);const iC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vm=Pe("clock",iC);const sC=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],rC=Pe("coffee",sC);const aC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lC=Pe("download",aC);const oC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uC=Pe("eye",oC);const cC=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],hC=Pe("facebook",cC);const fC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],G1=Pe("file-text",fC);const dC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vv=Pe("house",dC);const mC=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],pC=Pe("instagram",mC);const gC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],yC=Pe("layout-dashboard",gC);const _C=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],vC=Pe("linkedin",_C);const bC=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],K1=Pe("loader",bC);const EC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],TC=Pe("lock",EC);const xC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],SC=Pe("log-in",xC);const AC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bm=Pe("log-out",AC);const wC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fp=Pe("mail",wC);const NC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],RC=Pe("map-pin",NC);const CC=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Q1=Pe("menu",CC);const IC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Y1=Pe("phone",IC);const DC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bv=Pe("search",DC);const jC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],OC=Pe("send",jC);const MC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],lh=Pe("shield-alert",MC);const kC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],VC=Pe("shield",kC);const zC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ev=Pe("trash-2",zC);const UC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],LC=Pe("trending-up",UC);const PC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],BC=Pe("upload",PC);const qC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],HC=Pe("user-plus",qC);const FC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oh=Pe("user",FC);const GC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lo=Pe("users",GC);const KC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X1=Pe("x",KC),QC=({setPage:r,currentPage:e,currentUser:i,setCurrentUser:a})=>{const[o,c]=Se.useState(!1),[d,g]=Se.useState(!1),v=()=>{localStorage.removeItem("current_user"),a(null),r("home")};Se.useEffect(()=>{const A=()=>{window.scrollY>20?g(!0):g(!1)};return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[]);const x=`fixed w-full z-50 transition-all duration-300 ${d||!(e==="home")?"bg-slate-900/95 backdrop-blur-md shadow-lg py-2":"bg-transparent py-4"}`;return p.jsxs("nav",{className:x,children:[p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsxs("div",{className:"flex items-center cursor-pointer gap-3 group",onClick:()=>r("home"),children:[p.jsx("div",{className:"bg-amber-500 p-2 rounded-xl shadow-lg shadow-amber-500/20 group-hover:shadow-amber-500/40 transition-all duration-300",children:p.jsx(Lo,{className:"h-6 w-6 text-slate-900"})}),p.jsxs("div",{children:[p.jsx("span",{className:"font-bold text-xl tracking-wider block text-white group-hover:text-amber-400 transition-colors",children:"GET TROOPS"}),p.jsx("span",{className:"hidden sm:block text-[10px] text-amber-500 tracking-[0.2em] uppercase font-semibold",children:"Staffing Agency"})]})]}),p.jsx("div",{className:"hidden md:block",children:p.jsxs("div",{className:"ml-10 flex items-center space-x-6",children:[p.jsxs("button",{onClick:()=>r("home"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${e==="home"?"text-amber-400 bg-slate-800/50":"text-gray-300 hover:text-white hover:bg-slate-800/30"}`,children:[p.jsx(vv,{size:16})," Poetna"]}),p.jsxs("button",{onClick:()=>r("apply"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${e==="apply"?"text-amber-400 bg-slate-800/50":"text-gray-300 hover:text-white hover:bg-slate-800/30"}`,children:[p.jsx(ea,{size:16})," Prijava za posao"]}),i?p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>r(i.role==="candidate"?"dashboard":"admin"),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${e==="dashboard"?"text-amber-400 bg-slate-800/50":"text-gray-300 hover:text-white hover:bg-slate-800/30"}`,children:[p.jsx(oh,{size:16})," ",i.name]}),p.jsx("button",{onClick:v,className:"text-slate-400 hover:text-white px-3 py-2 rounded-lg transition-colors",title:"Odjavi se",children:p.jsx(bm,{size:18})})]}):p.jsx("button",{onClick:()=>r("auth"),className:"flex items-center gap-2 px-4 py-2 bg-amber-500 text-slate-900 rounded-lg font-bold hover:bg-amber-400 transition-colors shadow-lg shadow-amber-500/20",children:"Registracija / Prijava"}),i&&(i.role==="staff"||i.role==="master")&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"h-6 w-px bg-slate-700/50 mx-2"}),p.jsxs("button",{onClick:()=>r("admin"),className:"bg-amber-600/90 hover:bg-amber-600 text-white px-5 py-2.5 rounded-full text-sm font-semibold transition-all shadow-lg hover:shadow-amber-600/20 hover:-translate-y-0.5 flex items-center gap-2",children:[p.jsx(lh,{size:16})," Admin Panel"]})]})]})}),p.jsx("div",{className:"flex md:hidden",children:p.jsx("button",{onClick:()=>c(!o),className:"bg-slate-800/80 p-2 rounded-lg text-amber-500 hover:text-white hover:bg-slate-700 transition-colors",children:o?p.jsx(X1,{className:"h-6 w-6"}):p.jsx(Q1,{className:"h-6 w-6"})})})]})}),p.jsx("div",{className:`md:hidden fixed inset-0 z-40 bg-slate-900/95 backdrop-blur-xl transition-transform duration-300 ease-in-out ${o?"translate-x-0":"translate-x-full"}`,style:{top:"64px"},children:p.jsxs("div",{className:"px-4 pt-8 pb-3 space-y-4",children:[p.jsxs("button",{onClick:()=>{r("home"),c(!1)},className:`flex items-center gap-3 w-full px-4 py-4 rounded-xl text-lg font-medium transition-all ${e==="home"?"bg-amber-500/10 text-amber-500":"text-gray-300 hover:bg-slate-800"}`,children:[p.jsx(vv,{size:20})," Poetna"]}),p.jsxs("button",{onClick:()=>{r("apply"),c(!1)},className:`flex items-center gap-3 w-full px-4 py-4 rounded-xl text-lg font-medium transition-all ${e==="apply"?"bg-amber-500/10 text-amber-500":"text-gray-300 hover:bg-slate-800"}`,children:[p.jsx(ea,{size:20})," Prijava za posao"]}),p.jsx("div",{className:"border-t border-slate-800 my-4"}),p.jsx("button",{onClick:()=>{i&&(i.role==="staff"||i.role==="master")?r("admin"):r(i?"dashboard":"auth"),c(!1)},className:"flex items-center justify-center gap-2 w-full px-4 py-4 rounded-xl text-lg font-bold bg-amber-600 text-white shadow-lg active:scale-95 transition-all",children:i&&(i.role==="staff"||i.role==="master")?p.jsxs(p.Fragment,{children:[p.jsx(lh,{size:20})," Admin Panel"]}):i?p.jsxs(p.Fragment,{children:[p.jsx(oh,{size:20})," Moj Dashboard"]}):p.jsxs(p.Fragment,{children:[p.jsx(SC,{size:20})," Registracija / Prijava"]})}),i&&p.jsxs("button",{onClick:v,className:"flex items-center justify-center gap-2 w-full px-4 py-4 rounded-xl text-lg font-medium text-slate-400 hover:bg-slate-800 transition-all mt-2",children:[p.jsx(bm,{size:20})," Odjavi se"]})]})})]})},YC=({setPage:r})=>p.jsxs("div",{className:"relative h-screen min-h-[600px] w-full bg-slate-900 overflow-hidden flex items-center justify-center pt-32",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("img",{className:"w-full h-full object-cover opacity-40 scale-105 animate-[pulse_10s_ease-in-out_infinite]",style:{animationDuration:"30s"},src:"https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",alt:"Luxury Hotel Staff"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/80 to-transparent"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/90 to-slate-900/40"})]}),p.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full text-center",children:p.jsxs("div",{className:"animate-[fadeInUp_1s_ease-out]",children:[p.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-amber-500/10 border border-amber-500/30 text-amber-500 text-sm font-bold tracking-widest uppercase mb-6 backdrop-blur-sm",children:"Sezona 2025 je poela"}),p.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight mb-8 drop-shadow-2xl",children:["Vaa karijera u ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-amber-600",children:"Premium Turizmu"})]}),p.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed mb-10 font-light",children:"Povezujemo vrhunske hotele i restorane sa talentima poput vas. Siguran posao, odlian smjetaj i najbolja zarada na Jadranu."}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[p.jsxs("button",{onClick:()=>r("apply"),className:"group w-full sm:w-auto flex items-center justify-center px-8 py-4 bg-amber-500 hover:bg-amber-400 text-slate-900 text-lg font-bold rounded-full transition-all duration-300 shadow-[0_0_20px_rgba(245,158,11,0.3)] hover:shadow-[0_0_30px_rgba(245,158,11,0.5)] hover:-translate-y-1",children:[p.jsx(ea,{className:"mr-2 h-5 w-5"}),"Prijavi se za Posao",p.jsx(hp,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),p.jsx("button",{onClick:()=>{document.getElementById("services")?.scrollIntoView({behavior:"smooth"})},className:"w-full sm:w-auto flex items-center justify-center px-8 py-4 bg-white/5 hover:bg-white/10 text-white border border-white/10 hover:border-white/30 text-lg font-medium rounded-full transition-all backdrop-blur-sm",children:"Saznaj vie"})]}),p.jsxs("div",{className:"mt-16 pt-8 border-t border-white/10 flex justify-center gap-8 md:gap-16",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"block text-3xl font-bold text-white",children:"50+"}),p.jsx("span",{className:"text-sm text-gray-400 uppercase tracking-wider",children:"Hotela"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"block text-3xl font-bold text-white",children:"1k+"}),p.jsx("span",{className:"text-sm text-gray-400 uppercase tracking-wider",children:"Zaposlenih"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("span",{className:"block text-3xl font-bold text-white",children:"24/7"}),p.jsx("span",{className:"text-sm text-gray-400 uppercase tracking-wider",children:"Podrka"})]})]})]})})]}),XC=({icon:r,title:e,description:i,delay:a})=>p.jsxs("div",{className:"relative group bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-100 hover:border-amber-200 hover:-translate-y-1",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(r,{className:"w-24 h-24 text-amber-500 transform rotate-12"})}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("div",{className:"inline-flex p-3 rounded-lg bg-slate-50 text-amber-600 mb-5 group-hover:bg-amber-500 group-hover:text-white transition-colors",children:p.jsx(r,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3 group-hover:text-amber-600 transition-colors",children:e}),p.jsx("p",{className:"text-slate-600 leading-relaxed",children:i})]})]}),$C=()=>{const r=[{icon:ea,title:"Veliki izbor poslova",description:"Suraujemo sa preko 50 elitnih hotela i restorana na Jadranu. Nudimo irok spektar pozicija prilagoenih vaem iskustvu."},{icon:VC,title:"Provjereni poslodavci",description:"Svaki poslodavac je verificiran. Garantujemo sigurnost, adekvatan smjetaj, plaene obroke i redovna primanja."},{icon:Lo,title:"24/7 Podrka",description:"Na tim agenata je uz vas od trenutka prijave do kraja sezone. Rjeavamo sve administrativne i logistike izazove."},{icon:XR,title:"Karijerni Napredak",description:"Povezujemo vas sa mentorima i omoguavamo treninge koji vam pomau da napredujete od poetnika do menadera."},{icon:vm,title:"Brzi Proces",description:"Od prijave do posla u rekordnom roku. Na efikasan sistem selekcije tedi vae vrijeme."},{icon:ta,title:"Bez Skrivenih Trokova",description:"Nae usluge posredovanja su potpuno besplatne za kandidate. Transparentnost je na prioritet."}];return p.jsxs("div",{id:"services",className:"py-24 bg-slate-50 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 p-4 opacity-30",children:p.jsx("div",{className:"grid grid-cols-5 gap-2",children:[...Array(20)].map((e,i)=>p.jsx("div",{className:"w-1 h-1 bg-amber-500 rounded-full"},i))})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[p.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[p.jsx("span",{className:"text-amber-600 font-bold uppercase tracking-widest text-sm mb-2 block",children:"Zato odabrati nas"}),p.jsx("h2",{className:"text-4xl font-extrabold text-slate-900 mb-4",children:"Vie od obine agencije"}),p.jsx("p",{className:"text-lg text-slate-600",children:"Get Troops nije samo posrednik - mi smo va partner u izgradnji uspjene karijere u turizmu. Pruamo kompletnu podrku kako biste se vi mogli fokusirati na ono to najbolje radite."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((e,i)=>p.jsx(XC,{...e,delay:i},i))})]})]})},JC=()=>p.jsx("footer",{className:"bg-slate-900 text-gray-300 border-t border-slate-800",children:p.jsxs("div",{className:"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-bold text-2xl text-white tracking-wider",children:"GET TROOPS"}),p.jsx("div",{className:"h-1 w-12 bg-amber-500 mt-2"})]}),p.jsx("p",{className:"text-sm leading-relaxed text-slate-400",children:"Vodea regionalna agencija za posredovanje pri zapoljavanju u turizmu i ugostiteljstvu. Gradimo mostove izmeu talenta i prilika."}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("a",{href:"#",className:"text-slate-400 hover:text-amber-500 transition-colors",children:p.jsx(hC,{size:20})}),p.jsx("a",{href:"#",className:"text-slate-400 hover:text-amber-500 transition-colors",children:p.jsx(pC,{size:20})}),p.jsx("a",{href:"#",className:"text-slate-400 hover:text-amber-500 transition-colors",children:p.jsx(vC,{size:20})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white text-lg font-bold mb-6",children:"Navigacija"}),p.jsxs("ul",{className:"space-y-3 text-sm",children:[p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-amber-500 transition-colors block",children:"Poetna"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-amber-500 transition-colors block",children:"O Nama"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-amber-500 transition-colors block",children:"Ponuda Poslova"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-amber-500 transition-colors block",children:"Za Poslodavce"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-amber-500 transition-colors block",children:"Kontakt"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white text-lg font-bold mb-6",children:"Kontakt"}),p.jsxs("ul",{className:"space-y-4 text-sm",children:[p.jsxs("li",{className:"flex items-start gap-3",children:[p.jsx(RC,{size:20,className:"text-amber-500 shrink-0 mt-1"}),p.jsxs("span",{children:["Sarajevo, Bosna i Hercegovina",p.jsx("br",{}),"Splitska ulica bb"]})]}),p.jsxs("li",{className:"flex items-center gap-3",children:[p.jsx(Y1,{size:20,className:"text-amber-500 shrink-0"}),p.jsx("span",{children:"+387 61 000 000"})]}),p.jsxs("li",{className:"flex items-center gap-3",children:[p.jsx(fp,{size:20,className:"text-amber-500 shrink-0"}),p.jsx("span",{children:"info@gettroops.com"})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-white text-lg font-bold mb-6",children:"Radno Vrijeme"}),p.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[p.jsxs("li",{className:"flex justify-between border-b border-slate-800 pb-2",children:[p.jsx("span",{children:"Ponedjeljak - Petak"}),p.jsx("span",{className:"text-white font-medium",children:"09:00 - 17:00"})]}),p.jsxs("li",{className:"flex justify-between border-b border-slate-800 pb-2",children:[p.jsx("span",{children:"Subota"}),p.jsx("span",{className:"text-white font-medium",children:"10:00 - 14:00"})]}),p.jsxs("li",{className:"flex justify-between pb-2",children:[p.jsx("span",{children:"Nedjelja"}),p.jsx("span",{className:"text-amber-500 font-medium",children:"Zatvoreno"})]})]})]})]}),p.jsxs("div",{className:"border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-slate-500 gap-4",children:[p.jsx("p",{children:" 2025 Get Troops Agency. Sva prava zadrana."}),p.jsxs("div",{className:"flex gap-6",children:[p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Politika Privatnosti"}),p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Uvjeti Koritenja"})]})]})]})}),ZC=({user:r,currentUser:e,db:i,appId:a,setPage:o,isDemo:c})=>{const[d,g]=Se.useState({firstName:"",lastName:"",email:"",phone:"",position:"Konobar",experience:"",about:"",cvFile:null,cvName:""});useEffect(()=>{if(e){const Ee=e.name.split(" "),he=Ee[0],w=Ee.slice(1).join(" ");g(S=>({...S,firstName:he||"",lastName:w||"",email:e.email||""}))}},[e]);const[v,_]=Se.useState(!1),[x,A]=Se.useState(!1),[O,H]=Se.useState(""),[ee,W]=Se.useState(!1),J=Se.useRef(null),ue=[{id:"Konobar",label:"Konobar",icon:rC,desc:"Posluivanje hrane i pia"},{id:"Kuhar",label:"Kuhar",icon:tC,desc:"Priprema jela"},{id:"Sobarica",label:"Sobarica",icon:JR,desc:"Odravanje istoe"},{id:"Recepcioner",label:"Recepcioner",icon:Lo,desc:"Prijem gostiju"},{id:"Ostalo",label:"Ostalo",icon:ea,desc:"Druge pozicije"}],ye=Ee=>{const{name:he,value:w}=Ee.target;g(S=>({...S,[he]:w}))},ce=Ee=>{const he=Ee.target.files[0];if(he&&he.size>5e5){alert("Molimo priloite manji fajl (max 500KB) ili PDF."),J.current&&(J.current.value="");return}const w=new FileReader;w.onloadend=()=>{g(S=>({...S,cvFile:w.result,cvName:he.name}))},he&&w.readAsDataURL(he)},Be=async Ee=>{if(Ee.preventDefault(),H(""),!r&&!c){H("Niste povezani na sistem. Provjerite internet konekciju.");return}_(!0);try{if(c){await new Promise(S=>setTimeout(S,1500));const he={id:`demo-app-${Date.now()}`,...d,status:"new",createdAt:{seconds:Date.now()/1e3},userId:e?e.id:"demo-user"},w=JSON.parse(localStorage.getItem("demo_apps")||"[]");localStorage.setItem("demo_apps",JSON.stringify([he,...w])),console.log("Demo Mode: Application saved to local storage",he)}else await H1(Pc(i,"artifacts",a,"public","data","applications"),{...d,status:"new",createdAt:_m(),userId:r.uid});A(!0),g({firstName:"",lastName:"",email:"",phone:"",position:"Konobar",experience:"",about:"",cvFile:null,cvName:""}),J.current&&(J.current.value=""),setTimeout(()=>{o("home")},4e3)}catch(he){console.error("Error submitting:",he),H("Dolo je do greke: "+(he.message||"Nepoznata greka"))}finally{_(!1)}};return x?p.jsx("div",{className:"min-h-[600px] bg-slate-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full text-center space-y-6 animate-fadeIn",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-green-100 mb-6",children:p.jsx(ta,{className:"h-12 w-12 text-green-600 animate-bounce"})}),p.jsx("h2",{className:"text-3xl font-extrabold text-slate-900",children:"Prijava Uspjena!"}),p.jsx("p",{className:"text-lg text-slate-500",children:"Hvala vam na interesu. Vaa prijava je sigurno pohranjena u naoj bazi. Na HR tim e vas kontaktirati uskoro."}),p.jsx("div",{className:"pt-6",children:p.jsx("button",{onClick:()=>o("home"),className:"text-amber-600 hover:text-amber-700 font-bold hover:underline",children:"Povratak na poetnu "})})]})}):p.jsxs("div",{id:"apply",className:"min-h-screen bg-slate-50 pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-base text-amber-600 font-semibold tracking-wide uppercase",children:"Karijera"}),p.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 sm:text-4xl",children:"Prijavite se za sezonski posao"}),p.jsx("p",{className:"mt-4 max-w-2xl text-xl text-slate-500 mx-auto",children:"Popunite formu ispod i postanite dio naeg tima. Proces je jednostavan i brz."})]}),p.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-100",children:[p.jsx("div",{className:"bg-slate-900 px-8 py-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-amber-500 rounded-lg",children:p.jsx(G1,{className:"text-slate-900 h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Aplikacijska Forma"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Podaci su zatieni i povjerljivi"})]})]})}),p.jsxs("form",{onSubmit:Be,className:"p-6 sm:p-10 space-y-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-medium text-slate-900 mb-4 border-b pb-2",children:"Osobni Podaci"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Ime ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"text",name:"firstName",required:!0,value:d.firstName,onChange:ye,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 p-3 bg-slate-50",placeholder:"Vae ime"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Prezime ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"text",name:"lastName",required:!0,value:d.lastName,onChange:ye,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 p-3 bg-slate-50",placeholder:"Vae prezime"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Email ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"email",name:"email",required:!0,value:d.email,onChange:ye,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 p-3 bg-slate-50",placeholder:"email@primjer.com"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Telefon (Viber/WA) ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"tel",name:"phone",required:!0,value:d.phone,onChange:ye,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 p-3 bg-slate-50",placeholder:"+387 61 ..."})]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-medium text-slate-900 mb-4 border-b pb-2",children:"Pozicija i Iskustvo"}),p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Odaberite eljenu poziciju"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:ue.map(Ee=>{const he=Ee.icon,w=d.position===Ee.id;return p.jsxs("div",{onClick:()=>g(S=>({...S,position:Ee.id})),className:`cursor-pointer rounded-xl p-4 border-2 transition-all duration-200 flex flex-col items-center text-center ${w?"border-amber-500 bg-amber-50 shadow-md transform scale-[1.02]":"border-slate-100 bg-white hover:border-amber-200 hover:bg-slate-50"}`,children:[p.jsx(he,{className:`h-8 w-8 mb-2 ${w?"text-amber-600":"text-slate-400"}`}),p.jsx("span",{className:`font-bold ${w?"text-amber-900":"text-slate-700"}`,children:Ee.label}),p.jsx("span",{className:"text-xs text-slate-500 mt-1",children:Ee.desc})]},Ee.id)})})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Koliko imate iskustva?"}),p.jsxs("select",{name:"experience",value:d.experience,onChange:ye,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 p-3 bg-white",children:[p.jsx("option",{value:"",children:"Odaberite..."}),p.jsx("option",{value:"Bez iskustva",children:"Bez iskustva (Poetnik)"}),p.jsx("option",{value:"1-2 godine",children:"1-2 godine"}),p.jsx("option",{value:"3-5 godina",children:"3-5 godina"}),p.jsx("option",{value:"5+ godina",children:"5+ godina (Senior)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"O sebi (Kratka biografija)"}),p.jsx("textarea",{name:"about",rows:4,value:d.about,onChange:ye,className:"w-full rounded-lg border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 p-3 bg-slate-50",placeholder:"Navedite gdje ste prije radili, strane jezike koje govorite..."})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-medium text-slate-900 mb-4 border-b pb-2",children:"Dokumenti"}),p.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl transition-colors ${d.cvName?"border-green-400 bg-green-50":"border-slate-300 hover:border-amber-500 bg-slate-50"}`,children:p.jsx("div",{className:"space-y-2 text-center",children:d.cvName?p.jsxs(p.Fragment,{children:[p.jsx(ta,{className:"mx-auto h-12 w-12 text-green-500"}),p.jsxs("div",{className:"text-sm text-green-700 font-semibold",children:["Spremno za slanje: ",p.jsx("br",{}),p.jsx("span",{className:"font-bold underline",children:d.cvName})]}),p.jsx("button",{type:"button",onClick:()=>g(Ee=>({...Ee,cvFile:null,cvName:""})),className:"text-xs text-red-500 hover:underline",children:"Ukloni fajl"})]}):p.jsxs(p.Fragment,{children:[p.jsx(BC,{className:"mx-auto h-12 w-12 text-slate-400"}),p.jsx("div",{className:"flex text-sm text-slate-600 justify-center",children:p.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-amber-600 hover:text-amber-500 px-2 py-1 shadow-sm border border-slate-200",children:[p.jsx("span",{children:"Uitaj fajl"}),p.jsx("input",{ref:J,type:"file",className:"sr-only",accept:"image/*,.pdf,.doc,.docx",onChange:ce})]})}),p.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPG, PDF do 500KB"})]})})})]}),p.jsxs("div",{className:"pt-6",children:[p.jsx("button",{type:"submit",disabled:v,className:`w-full flex justify-center items-center py-4 px-4 border border-transparent rounded-xl shadow-lg text-lg font-bold text-slate-900 transition-all duration-300 ${v?"bg-amber-300 cursor-wait":"bg-amber-500 hover:bg-amber-400 hover:shadow-amber-500/25 hover:-translate-y-1"}`,children:v?p.jsxs(p.Fragment,{children:[p.jsx(K1,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Procesiranje..."]}):"Poalji Prijavu"}),O&&p.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-200 text-red-700 rounded-lg text-center font-medium animate-fadeIn",children:O}),p.jsxs("p",{className:"mt-4 text-center text-xs text-slate-400",children:["Klikom na dugme slaete se sa naim"," ",p.jsx("button",{type:"button",onClick:()=>W(!0),className:"underline hover:text-amber-600",children:"uvjetima koritenja i politikom privatnosti."})]})]})]})]})]}),ee&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:p.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full shadow-2xl max-h-[80vh] overflow-y-auto relative",children:[p.jsxs("button",{onClick:()=>W(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 bg-slate-100 p-2 rounded-full",children:[p.jsx(hp,{size:20,className:"rotate-180"})," "]}),p.jsxs("div",{className:"prose prose-slate lg:prose-lg max-w-none",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Politika Privatnosti i Uvjeti Koritenja"}),p.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-4",children:"1. Prikupljanje Podataka"}),p.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Get Troops prikuplja osobne podatke (ime, prezime, email, telefon, CV) iskljuivo u svrhu posredovanja pri zapoljavanju u turistikom sektoru. Vai podaci se uvaju u sigurnoj bazi podataka."}),p.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-4",children:"2. Dijeljenje Podataka"}),p.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Vai podaci mogu biti podijeljeni iskljuivo sa naim partnerskim hotelima i restoranima koji trae zaposlenike vaeg profila. Ne prodajemo i ne dijelimo podatke treim stranama za marketing."}),p.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-4",children:"3. Sigurnost"}),p.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Poduzimamo sve razumne tehnike mjere zatite kako bismo sprijeili neovlateni pristup ili gubitak vaih podataka."}),p.jsx("h3",{className:"text-lg font-bold text-slate-800 mt-4",children:"4. Vaa Prava"}),p.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"U svakom trenutku imate pravo zatraiti uvid, ispravak ili brisanje svojih podataka iz nae baze slanjem zahtjeva na info@gettroops.com."})]}),p.jsx("div",{className:"mt-8 pt-4 border-t border-slate-100 text-right",children:p.jsx("button",{onClick:()=>W(!1),className:"px-6 py-2 bg-amber-500 text-slate-900 font-bold rounded-lg hover:bg-amber-400 transition-colors",children:"Razumijem"})})]})})]})},WC=({user:r,setPage:e,setAdminUser:i,adminUser:a,db:o,appId:c,isDemo:d})=>{const[g,v]=Se.useState([]),[_,x]=Se.useState([]),[A,O]=Se.useState(!0),[H,ee]=Se.useState("all"),[W,J]=Se.useState("applications"),[ue,ye]=Se.useState(!0),[ce,Be]=Se.useState(null),[Ee,he]=Se.useState(""),[w,S]=Se.useState(""),[R,M]=Se.useState(""),[I,V]=Se.useState(""),[N,Ze]=Se.useState([]),[dt,F]=Se.useState({total:0,year:0,month:0,week:0}),[se,fe]=Se.useState({}),[He,$e]=Se.useState(null),[D,Q]=Se.useState(""),[ne,te]=Se.useState(null),[_e,Te]=Se.useState(null);Se.useEffect(()=>{if(ne){const Y=setTimeout(()=>te(null),3e3);return()=>clearTimeout(Y)}},[ne]),Se.useEffect(()=>{if(!r)return;if(d){const me=JSON.parse(localStorage.getItem("demo_apps")||"null");if(me)v(me),De(me),O(!1);else{const je=[{id:"1",firstName:"Marko",lastName:"Markovi",email:"marko@example.com",position:"Konobar",status:"new",experience:"3-5 godina",phone:"061/111-222",createdAt:{seconds:Date.now()/1e3-8e3}},{id:"2",firstName:"Ivan",lastName:"Horvat",email:"ivan@example.com",position:"Kuhar",status:"reviewed",experience:"5+ godina",phone:"062/333-444",createdAt:{seconds:Date.now()/1e3-86400}},{id:"3",firstName:"Ana",lastName:"Ani",email:"ana@example.com",position:"Recepcioner",status:"hired",experience:"1-2 godine",phone:"063/555-666",placementFee:500,placementLocation:"Hotel Grand",hiredBy:"Redzep",hiredAt:{seconds:Date.now()/1e3-1e5},createdAt:{seconds:Date.now()/1e3-2e5}},{id:"4",firstName:"Petra",lastName:"Peri",email:"petra@example.com",position:"Sobarica",status:"new",experience:"Bez iskustva",phone:"064/777-888",createdAt:{seconds:Date.now()/1e3-3600}},{id:"5",firstName:"Luka",lastName:"Luki",email:"luka@example.com",position:"Konobar",status:"new",experience:"1-2 godine",phone:"065/999-000",createdAt:{seconds:Date.now()/1e3-5e4}}];v(je),De(je),localStorage.setItem("demo_apps",JSON.stringify(je)),O(!1)}}else{const me=Pc(o,"artifacts",c,"public","data","applications"),je=yv(me,Ge=>{const ge=Ge.docs.map(Ht=>({id:Ht.id,...Ht.data()}));ge.sort((Ht,Ft)=>(Ft.createdAt?.seconds||0)-(Ht.createdAt?.seconds||0)),v(ge),De(ge),O(!1)},Ge=>console.error("Firestore read error:",Ge));return()=>je()}if(a.role==="master"&&d){const me=JSON.parse(localStorage.getItem("demo_users")||"[]");x(me)}let Y=()=>{};if(a.role==="master")if(d){const me=JSON.parse(localStorage.getItem("demo_admins")||"[]");Ze(me)}else{const me=Pc(o,"artifacts",c,"public","data","admins");Y=yv(me,je=>{const Ge=je.docs.map(ge=>({id:ge.id,...ge.data()}));Ze(Ge)})}return()=>{Y()}},[r,a]);const De=Y=>{const me=new Date;let je=0,Ge=0,ge=0,Ht=0;const Ft={};Y.forEach(ln=>{if(ln.status==="hired"&&ln.placementFee){const cn=parseFloat(ln.placementFee)||0;if(je+=cn,ln.hiredAt&&ln.hiredAt.seconds){const bn=new Date(ln.hiredAt.seconds*1e3);if(bn.getFullYear()===me.getFullYear()){Ge+=cn,bn.getMonth()===me.getMonth()&&(ge+=cn);const sa=1440*60*1e3;Math.round(Math.abs((me-bn)/sa))<=7&&(Ht+=cn)}}if(ln.hiredBy){const bn=ln.hiredBy;Ft[bn]||(Ft[bn]={count:0,revenue:0,jobs:[]}),Ft[bn].count++,Ft[bn].revenue+=cn,Ft[bn].jobs.push(ln)}}}),F({total:je,year:Ge,month:ge,week:Ht}),fe(Ft)},vt=async(Y,me)=>{try{d?(v(je=>{const Ge=je.map(ge=>ge.id===Y?{...ge,status:me}:ge);return localStorage.setItem("demo_apps",JSON.stringify(Ge)),Ge}),te({message:`Status auriran: ${me}`,type:"success"})):await pv(To(o,"artifacts",c,"public","data","applications",Y),{status:me})}catch(je){console.error("Update failed",je)}},lt=async Y=>{if(Y.preventDefault(),!(!ce||!Ee||!w))try{d?(v(me=>{const je=me.map(Ge=>Ge.id===ce.id?{...Ge,status:"hired",placementLocation:Ee,placementFee:parseFloat(w),hiredAt:{seconds:Date.now()/1e3},hiredBy:a.name}:Ge);return localStorage.setItem("demo_apps",JSON.stringify(je)),De(je),je}),Be(null),he(""),S(""),te({message:"Kandidat uspjeno angaovan! (Demo)",type:"success"})):(await pv(To(o,"artifacts",c,"public","data","applications",ce.id),{status:"hired",placementLocation:Ee,placementFee:parseFloat(w),hiredAt:_m(),hiredBy:a.name}),Be(null),he(""),S(""),te({message:"Kandidat uspjeno angaovan!",type:"success"}))}catch{te({message:"Greka pri snimanju podataka.",type:"error"})}},Ui=async Y=>{Y.preventDefault();const me=R.trim().toLowerCase(),je=me==="redzep",Ge=N.some(ge=>ge.name.trim().toLowerCase()===me);if(je||Ge){alert("Administrator sa ovim imenom ve postoji!");return}try{if(d){const ge={id:`demo-${Date.now()}`,name:R,code:I,role:"standard",createdBy:a.name,createdAt:{seconds:Date.now()/1e3}};Ze(Ht=>{const Ft=[...Ht,ge];return localStorage.setItem("demo_admins",JSON.stringify(Ft)),Ft}),M(""),V(""),te({message:"Kolega uspjeno dodan! (Demo)",type:"success"})}else await H1(Pc(o,"artifacts",c,"public","data","admins"),{name:R,code:I,createdBy:a.name,createdAt:_m()}),M(""),V(""),te({message:"Kolega uspjeno dodan!",type:"success"})}catch{te({message:"Greka pri dodavanju",type:"error"})}},ps=Y=>{Te({title:"Obrisati administratora?",message:"Ova akcija e trajno ukloniti pristup ovom korisniku.",onConfirm:()=>gs(Y)})},gs=async Y=>{Te(null);try{d?(Ze(me=>{const je=me.filter(Ge=>Ge.id!==Y);return localStorage.setItem("demo_admins",JSON.stringify(je)),je}),te({message:"Administrator obrisan (Demo)",type:"success"})):(await gv(To(o,"artifacts",c,"public","data","admins",Y)),te({message:"Administrator obrisan",type:"success"}))}catch{te({message:"Greka pri brisanju",type:"error"})}},ys=Y=>{Te({title:"Obrisati prijavu?",message:"Da li ste sigurni da elite trajno obrisati ovu aplikaciju?",onConfirm:()=>Dn(Y)})},Dn=async Y=>{Te(null);try{d?(v(me=>{const je=me.filter(Ge=>Ge.id!==Y);return localStorage.setItem("demo_apps",JSON.stringify(je)),je}),te({message:"Prijava obrisana (Demo)",type:"success"})):(await gv(To(o,"artifacts",c,"public","data","applications",Y)),te({message:"Prijava obrisana",type:"success"}))}catch{te({message:"Greka pri brisanju",type:"error"})}},li=g.filter(Y=>{const me=H==="all"||Y.status===H,je=(Y.firstName+" "+Y.lastName).toLowerCase().includes(D.toLowerCase())||Y.email.toLowerCase().includes(D.toLowerCase())||Y.position.toLowerCase().includes(D.toLowerCase());return me&&je}),Li=()=>{if(li.length===0){te({message:"Nema podataka za export",type:"error"});return}const me=[["Ime","Prezime","Email","Telefon","Pozicija","Iskustvo","Status","Datum Prijave"].join(","),...li.map(ge=>[ge.firstName,ge.lastName,ge.email,ge.phone,ge.position,ge.experience,ge.status,ge.createdAt?.seconds?new Date(ge.createdAt.seconds*1e3).toLocaleDateString():"N/A"].join(","))].join(`
`),je=new Blob([me],{type:"text/csv;charset=utf-8;"}),Ge=document.createElement("a");Ge.href=URL.createObjectURL(je),Ge.download=`prijave_export_${new Date().toISOString().slice(0,10)}.csv`,Ge.click(),te({message:"Export uspjean!",type:"success"})},pr=()=>{i(null),e("home")},gr=[{id:"redzep-master",name:"Redzep",role:"master",code:"26f04"},...N],ot=({id:Y,icon:me,label:je})=>p.jsxs("button",{onClick:()=>J(Y),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${W===Y?"bg-amber-500 text-slate-900 font-bold shadow-lg shadow-amber-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(me,{size:20}),ue&&p.jsx("span",{children:je})]});return p.jsxs("div",{className:"min-h-screen bg-slate-900 flex font-sans text-slate-200",children:[p.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[p.jsx("div",{className:"absolute top-[20%] right-[10%] w-[30%] h-[30%] bg-amber-500/5 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-[40%] h-[40%] bg-blue-500/5 rounded-full blur-3xl"})]}),p.jsxs("aside",{className:`${ue?"w-64":"w-20"} bg-slate-900/90 backdrop-blur-xl border-r border-white/5 transition-all duration-300 flex flex-col fixed h-full z-30`,children:[p.jsxs("div",{className:"h-20 flex items-center justify-between px-6 border-b border-white/5",children:[ue?p.jsxs("span",{className:"font-bold text-xl tracking-wider text-white",children:["GET ",p.jsx("span",{className:"text-amber-500",children:"TROOPS"})]}):p.jsx(lh,{className:"text-amber-500 mx-auto"}),p.jsx("button",{onClick:()=>ye(!ue),className:"text-slate-500 hover:text-white transition-colors",children:p.jsx(Q1,{size:20})})]}),p.jsxs("div",{className:"flex-1 py-8 px-3 space-y-2",children:[p.jsx(ot,{id:"applications",icon:ea,label:"Prijave"}),p.jsx(ot,{id:"dashboard",icon:yC,label:"Statistika"}),a.role==="master"&&p.jsxs(p.Fragment,{children:[p.jsx(ot,{id:"team",icon:Lo,label:"Tim"}),p.jsx(ot,{id:"users",icon:oh,label:"Korisnici"})]})]}),p.jsx("div",{className:"p-4 border-t border-white/5",children:p.jsxs("button",{onClick:pr,className:"w-full flex items-center gap-3 px-4 py-3 text-slate-400 hover:text-white hover:bg-white/5 rounded-xl transition-colors",children:[p.jsx(bm,{size:20}),ue&&p.jsx("span",{children:"Odjava"})]})})]}),p.jsxs("main",{className:`flex-1 transition-all duration-300 ${ue?"ml-64":"ml-20"} relative z-10`,children:[p.jsxs("header",{className:"bg-slate-900/80 backdrop-blur-md border-b border-white/5 h-20 flex items-center justify-between px-8 sticky top-0 z-20",children:[p.jsxs("h2",{className:"text-2xl font-bold text-white tracking-tight",children:[W==="applications"&&"Upravljanje Prijavama",W==="dashboard"&&"Pregled Statistike",W==="team"&&"Upravljanje Timom",W==="users"&&"Registrovani Korisnici"]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"text-right hidden sm:block",children:[p.jsx("p",{className:"text-sm font-bold text-white",children:a.name}),p.jsx("p",{className:"text-[10px] text-amber-500 uppercase font-semibold tracking-wider",children:a.role==="master"?"Master Admin":"Staff Member"})]}),p.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-amber-400 to-amber-600 rounded-full flex items-center justify-center text-slate-900 font-bold shadow-lg shadow-amber-500/20",children:a.name[0]})]})]}),p.jsxs("div",{className:"p-8",children:[W==="dashboard"&&p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-fadeIn",children:[{label:"Ukupno Prihod",val:dt.total,icon:LC,color:"amber"},{label:"Ova Godina",val:dt.year,icon:Gd,color:"blue"},{label:"Ovaj Mjesec",val:dt.month,icon:Gd,color:"indigo"},{label:"Zadnjih 7 dana",val:dt.week,icon:Gd,color:"green"}].map((Y,me)=>p.jsx("div",{className:"bg-white/5 backdrop-blur-md p-6 rounded-2xl border border-white/10 hover:border-amber-500/30 transition-all group",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider mb-2",children:Y.label}),p.jsxs("h3",{className:"text-3xl font-bold text-white group-hover:text-amber-400 transition-colors",children:[Y.val.toLocaleString()," "]})]}),p.jsx("div",{className:`p-3 rounded-xl bg-slate-800 text-${Y.color}-400 group-hover:bg-amber-500 group-hover:text-slate-900 transition-all shadow-lg`,children:p.jsx(Y.icon,{size:24})})]})},me))}),W==="users"&&p.jsx("div",{className:"animate-fadeIn",children:p.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-white text-lg",children:"Svi Registrovani Korisnici"}),p.jsxs("p",{className:"text-slate-400 text-sm",children:["Ukupno: ",_.length]})]}),p.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1",children:p.jsx("div",{className:"bg-slate-700/50 rounded flex items-center justify-center p-2 text-slate-300",children:p.jsx(Lo,{size:18})})})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-white/5 text-slate-400 uppercase text-xs font-bold tracking-wider",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4",children:"Korisnik"}),p.jsx("th",{className:"px-6 py-4",children:"Email"}),p.jsx("th",{className:"px-6 py-4",children:"Status"}),p.jsx("th",{className:"px-6 py-4",children:"Datum Registracije"}),p.jsx("th",{className:"px-6 py-4",children:"Aktivne Prijave"})]})}),p.jsx("tbody",{className:"divide-y divide-white/5",children:_.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-slate-500",children:"Nema registrovanih korisnika."})}):_.map((Y,me)=>{const Ge=g.filter(ge=>ge.userId&&ge.userId===Y.id||ge.email&&ge.email.toLowerCase()===Y.email.toLowerCase()).filter(ge=>ge.status==="new"||ge.status==="reviewed").length;return p.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center font-bold text-slate-400 group-hover:border-amber-500/50 transition-colors",children:Y.name?Y.name[0].toUpperCase():"?"}),p.jsx("span",{className:"font-bold text-white",children:Y.name||"Nepoznato"})]})}),p.jsx("td",{className:"px-6 py-4 text-slate-300 font-mono text-sm",children:Y.email}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider ${Y.role==="candidate"?"bg-blue-500/10 text-blue-400 border border-blue-500/20":Y.role==="staff"?"bg-amber-500/10 text-amber-500 border border-amber-500/20":"bg-slate-700 text-slate-400"}`,children:Y.role||"candidate"})}),p.jsx("td",{className:"px-6 py-4 text-slate-400 text-sm",children:Y.createdAt?new Date(Y.createdAt).toLocaleDateString():"N/A"}),p.jsx("td",{className:"px-6 py-4",children:Ge>0?p.jsxs("span",{className:"text-amber-500 font-bold",children:[Ge," Aktivnih"]}):p.jsx("span",{className:"text-slate-600",children:"Nema aktivnih"})})]},me)})})]})})]})}),W==="team"&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-fadeIn",children:[p.jsxs("div",{className:"lg:col-span-1 bg-white/5 backdrop-blur-md p-6 rounded-2xl border border-white/10 h-fit",children:[p.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[p.jsx(HC,{size:20,className:"text-amber-500"})," Dodaj Kolegu"]}),p.jsxs("form",{onSubmit:Ui,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Ime"}),p.jsx("input",{className:"w-full bg-slate-800/50 border border-slate-700 text-white rounded-xl p-3 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all",value:R,onChange:Y=>M(Y.target.value),required:!0,placeholder:"npr. Marko"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Kod (Lozinka)"}),p.jsx("input",{className:"w-full bg-slate-800/50 border border-slate-700 text-white rounded-xl p-3 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all",value:I,onChange:Y=>V(Y.target.value),required:!0,placeholder:"npr. 1234"})]}),p.jsx("button",{type:"submit",className:"w-full bg-amber-500 hover:bg-amber-400 text-slate-900 py-3 rounded-xl font-bold transition-all shadow-lg shadow-amber-500/20",children:"Dodaj Administratora"})]})]}),p.jsx("div",{className:"lg:col-span-2 space-y-4",children:gr.map(Y=>{const me=se[Y.name]||{count:0,revenue:0};return p.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-6 rounded-2xl border border-white/10 flex flex-col sm:flex-row justify-between items-center gap-6 hover:bg-white/10 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-12 w-12 bg-slate-800 rounded-full flex items-center justify-center font-bold text-slate-400 text-xl border border-slate-700",children:Y.name[0]}),p.jsxs("div",{children:[p.jsxs("h4",{className:"font-bold text-lg text-white flex items-center gap-2",children:[Y.name,Y.role==="master"&&p.jsx("span",{className:"bg-amber-500/20 text-amber-400 text-[10px] px-2 py-0.5 rounded-full border border-amber-500/30",children:"MASTER"})]}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1 font-mono",children:["Kod: ",Y.code]})]})]}),p.jsxs("div",{className:"flex gap-8 text-center",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:"Angamani"}),p.jsx("p",{className:"text-xl font-bold text-white",children:me.count})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:"Prihod"}),p.jsxs("p",{className:"text-xl font-bold text-amber-500",children:[me.revenue," "]})]})]}),p.jsx("div",{className:"flex gap-2",children:Y.role!=="master"&&p.jsx("button",{onClick:()=>ps(Y.id),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Obrii korisnika",children:p.jsx(Ev,{size:20})})})]},Y.id)})})]}),W==="applications"&&p.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-8",children:[p.jsxs("div",{className:"relative w-full md:w-96",children:[p.jsx(bv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),p.jsx("input",{type:"text",placeholder:"Pretrai kandidate...",value:D,onChange:Y=>Q(Y.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all placeholder:text-slate-600"})]}),p.jsxs("button",{onClick:Li,className:"flex items-center gap-2 bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-3 rounded-xl transition-all border border-slate-700",children:[p.jsx(lC,{size:18})," Export CSV"]})]}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{id:"all",label:"Sve Prijave"},{id:"new",label:"Nove"},{id:"reviewed",label:"U Obradi"},{id:"hired",label:"Zavrene"}].map(Y=>p.jsxs("button",{onClick:()=>ee(Y.id),className:`p-4 rounded-xl border transition-all text-left group ${H===Y.id?"border-amber-500 bg-amber-500/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[p.jsx("p",{className:`text-xs uppercase font-bold mb-1 ${H===Y.id?"text-amber-500":"text-slate-500 group-hover:text-slate-400"}`,children:Y.label}),p.jsx("div",{className:`h-1 w-full rounded-full mt-2 ${H===Y.id?"bg-amber-500":"bg-slate-800"}`})]},Y.id))}),p.jsx("div",{className:"space-y-3 mt-6",children:li.length===0?p.jsxs("div",{className:"text-center py-20 bg-white/5 rounded-3xl border border-white/5",children:[p.jsx("div",{className:"h-20 w-20 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-600",children:p.jsx(bv,{size:32})}),p.jsx("h3",{className:"text-xl font-bold text-white",children:"Nema pronaenih prijava"}),p.jsx("p",{className:"text-slate-500",children:"Pokuajte promijeniti filtere ili pretragu."})]}):li.map(Y=>p.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 hover:border-amber-500/30 transition-all flex flex-col md:flex-row gap-6 md:items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsxs("div",{className:"h-16 w-16 bg-slate-800 rounded-2xl flex items-center justify-center text-2xl font-bold text-slate-500 border border-slate-700",children:[Y.firstName[0],Y.lastName[0]]})}),p.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{children:[p.jsxs("h4",{className:"font-bold text-white text-lg",children:[Y.firstName," ",Y.lastName]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-1",children:[p.jsx(fp,{size:14})," ",Y.email]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-1",children:[p.jsx(Y1,{size:14})," ",Y.phone]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-1",children:"Pozicija"}),p.jsxs("p",{className:"text-white font-medium flex items-center gap-2",children:[p.jsx(ea,{size:14,className:"text-amber-500"})," ",Y.position]}),p.jsx("p",{className:"text-sm text-slate-400 mt-1",children:Y.experience})]}),p.jsxs("div",{className:"hidden lg:block",children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-1",children:"Datum"}),p.jsx("p",{className:"text-sm text-slate-300",children:Y.createdAt?.seconds?new Date(Y.createdAt.seconds*1e3).toLocaleDateString():"N/A"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-2",children:"Status"}),p.jsxs("div",{className:"flex items-center gap-2",children:[Y.status==="new"&&p.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-700 text-white text-xs font-bold border border-slate-600",children:"Novo"}),Y.status==="reviewed"&&p.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-500/20 text-blue-400 text-xs font-bold border border-blue-500/30",children:"U Obradi"}),Y.status==="hired"&&p.jsx("span",{className:"px-3 py-1 rounded-full bg-green-500/20 text-green-400 text-xs font-bold border border-green-500/30",children:"Zavreno"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 border-t md:border-t-0 md:border-l border-white/10 pt-4 md:pt-0 md:pl-6 justify-end",children:[Y.status==="new"&&p.jsx("button",{onClick:()=>vt(Y.id,"reviewed"),className:"p-2 bg-blue-500/10 text-blue-400 hover:bg-blue-500 hover:text-white rounded-lg transition-all",title:"Oznai kao pregledano",children:p.jsx(uC,{size:20})}),Y.status!=="hired"&&p.jsx("button",{onClick:()=>Be(Y),className:"p-2 bg-green-500/10 text-green-400 hover:bg-green-500 hover:text-white rounded-lg transition-all",title:"Angauj kandidata",children:p.jsx(ta,{size:20})}),p.jsx("button",{onClick:()=>ys(Y.id),className:"p-2 bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white rounded-lg transition-all",title:"Obrii prijavu",children:p.jsx(Ev,{size:20})})]})]},Y.id))})]})]})]}),ne&&p.jsxs("div",{className:`fixed bottom-8 right-8 px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 animate-slideUp z-50 ${ne.type==="success"?"bg-amber-500 text-slate-900":"bg-red-500 text-white"}`,children:[ne.type==="success"?p.jsx(ta,{size:20}):p.jsx(lh,{size:20}),p.jsx("span",{className:"font-bold",children:ne.message})]}),_e&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-slate-800 border border-white/10 rounded-2xl p-8 max-w-sm w-full shadow-2xl animate-scaleIn",children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:_e.title}),p.jsx("p",{className:"text-slate-400 mb-6",children:_e.message}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{onClick:()=>Te(null),className:"flex-1 px-4 py-2 rounded-xl text-slate-400 font-bold hover:bg-white/5 transition-colors",children:"Odustani"}),p.jsx("button",{onClick:_e.onConfirm,className:"flex-1 px-4 py-2 rounded-xl bg-red-500 hover:bg-red-600 text-white font-bold transition-colors",children:"Potvrdi"})]})]})}),ce&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-slate-800 border border-white/10 rounded-2xl p-8 max-w-md w-full shadow-2xl animate-scaleIn",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Angaovanje Kandidata"}),p.jsx("button",{onClick:()=>Be(null),className:"text-slate-500 hover:text-white",children:p.jsx(X1,{size:24})})]}),p.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-xl border border-white/10",children:[p.jsx("p",{className:"text-sm text-slate-400",children:"Kandidat"}),p.jsxs("h4",{className:"font-bold text-white text-lg",children:[ce.firstName," ",ce.lastName]}),p.jsx("p",{className:"text-amber-500 text-sm font-bold",children:ce.position})]}),p.jsxs("form",{onSubmit:lt,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-1",children:"Lokacija / Hotel"}),p.jsx("input",{required:!0,value:Ee,onChange:Y=>he(Y.target.value),className:"w-full bg-slate-900/50 border border-slate-700 text-white rounded-xl p-3 focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"npr. Hotel Split"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-400 mb-1",children:"Iznos Provizije ()"}),p.jsx("input",{required:!0,type:"number",value:w,onChange:Y=>S(Y.target.value),className:"w-full bg-slate-900/50 border border-slate-700 text-white rounded-xl p-3 focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"npr. 500"})]}),p.jsx("button",{type:"submit",className:"w-full bg-amber-500 hover:bg-amber-400 text-slate-900 font-bold py-3 rounded-xl mt-4 transition-all",children:"Potvrdi Angaman"})]})]})})]})},eI=({setCurrentUser:r,setPage:e,isDemo:i})=>{const[a,o]=Se.useState(!0),[c,d]=Se.useState({name:"",email:"",password:""}),[g,v]=Se.useState(!1),[_,x]=Se.useState(""),A=H=>{d({...c,[H.target.name]:H.target.value})},O=async H=>{H.preventDefault(),v(!0),x("");try{if(i){await new Promise(W=>setTimeout(W,1e3));const ee=JSON.parse(localStorage.getItem("demo_users")||"[]");if(a){if(c.email.toLowerCase()==="rsbredzo@gmail.com"&&c.password==="26f04"){const J={id:"master-admin",name:"Redzep",email:"rsbredzo@gmail.com",role:"master",code:"26f04"};localStorage.setItem("current_user",JSON.stringify(J)),r(J),e("admin");return}const W=ee.find(J=>J.email.toLowerCase()===c.email.toLowerCase()&&J.password===c.password);if(W){const J={...W,isLoggedIn:!0};localStorage.setItem("current_user",JSON.stringify(J)),r(J),e(J.role==="staff"||J.role==="master"?"admin":"dashboard")}else x("Pogrean email ili lozinka.")}else if(ee.some(W=>W.email===c.email))x("Korisnik sa ovim emailom ve postoji.");else{const W={id:`user-${Date.now()}`,name:c.name,email:c.email,password:c.password,role:"candidate",createdAt:new Date().toISOString()},J=[...ee,W];localStorage.setItem("demo_users",JSON.stringify(J)),localStorage.setItem("current_user",JSON.stringify(W)),r(W),e("dashboard")}}else alert("Firebase Auth nije konfigurisan za ovaj demo.")}catch{x("Dolo je do greke.")}finally{v(!1)}};return p.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center px-4 relative overflow-hidden",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-[20%] left-[10%] w-[40%] h-[40%] bg-amber-500/10 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-[20%] right-[10%] w-[30%] h-[30%] bg-blue-500/5 rounded-full blur-3xl"})]}),p.jsxs("div",{className:"max-w-md w-full bg-white/5 backdrop-blur-xl border border-white/10 p-8 rounded-3xl shadow-2xl relative z-10 animate-scaleIn",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:a?"Dobrodoli nazad":"Kreirajte raun"}),p.jsx("p",{className:"text-slate-400",children:a?"Prijavite se da pratite status prijave":"Registrujte se za poetak karijere"})]}),p.jsxs("form",{onSubmit:O,className:"space-y-4",children:[!a&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-300 text-sm font-bold mb-2",children:"Ime i Prezime"}),p.jsxs("div",{className:"relative",children:[p.jsx(oh,{className:"absolute left-3 top-3 text-slate-500",size:20}),p.jsx("input",{type:"text",name:"name",required:!0,value:c.name,onChange:A,className:"w-full bg-slate-800/50 border border-slate-700 text-white rounded-xl py-3 pl-10 pr-4 focus:ring-2 focus:ring-amber-500 outline-none transition-all",placeholder:"Vae ime"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-300 text-sm font-bold mb-2",children:"Email Adresa"}),p.jsxs("div",{className:"relative",children:[p.jsx(fp,{className:"absolute left-3 top-3 text-slate-500",size:20}),p.jsx("input",{type:"email",name:"email",required:!0,value:c.email,onChange:A,className:"w-full bg-slate-800/50 border border-slate-700 text-white rounded-xl py-3 pl-10 pr-4 focus:ring-2 focus:ring-amber-500 outline-none transition-all",placeholder:"primjer@email.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-slate-300 text-sm font-bold mb-2",children:"Lozinka"}),p.jsxs("div",{className:"relative",children:[p.jsx(TC,{className:"absolute left-3 top-3 text-slate-500",size:20}),p.jsx("input",{type:"password",name:"password",required:!0,value:c.password,onChange:A,className:"w-full bg-slate-800/50 border border-slate-700 text-white rounded-xl py-3 pl-10 pr-4 focus:ring-2 focus:ring-amber-500 outline-none transition-all",placeholder:""})]})]}),_&&p.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm text-center",children:_}),p.jsx("button",{type:"submit",disabled:g,className:"w-full bg-amber-500 hover:bg-amber-400 text-slate-900 font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 mt-6",children:g?p.jsx(K1,{className:"animate-spin"}):a?"Prijavi se":"Registruj se"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:()=>o(!a),className:"text-slate-400 hover:text-white text-sm transition-colors",children:a?"Nemate raun? Registrujte se":"Ve imate raun? Prijavite se"})}),p.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700/50 text-center",children:p.jsx("button",{onClick:()=>e("home"),className:"text-slate-500 hover:text-white text-xs transition-colors flex items-center justify-center gap-1 mx-auto",children:"Nazad na poetnu"})})]})]})},tI=({user:r,setPage:e,isDemo:i})=>{const[a,o]=Se.useState([]);Se.useEffect(()=>{if(i&&r){const v=JSON.parse(localStorage.getItem("demo_apps")||"[]").filter(_=>_.userId&&_.userId===r.id||_.email&&_.email.toLowerCase()===r.email.toLowerCase());o(v)}},[r,i]);const c=g=>{switch(g){case"hired":return 3;case"reviewed":return 2;case"new":return 1;default:return 0}},d=[{id:1,label:"Poslato",icon:OC},{id:2,label:"U obradi",icon:vm},{id:3,label:"Zavreno",icon:ta}];return p.jsxs("div",{className:"min-h-screen bg-slate-900 pt-24 pb-12 px-4 relative overflow-hidden",children:[p.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-[20%] right-[10%] w-[30%] h-[30%] bg-amber-500/5 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-[40%] h-[40%] bg-blue-500/5 rounded-full blur-3xl"})]}),p.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[p.jsxs("div",{className:"flex justify-between items-center mb-10",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white tracking-tight",children:["Moj ",p.jsx("span",{className:"text-amber-500",children:"Dashboard"})]}),p.jsx("p",{className:"text-slate-400 mt-2",children:"Pratite status vaih prijava u realnom vremenu"})]}),p.jsxs("div",{className:"flex items-center gap-4 bg-white/5 backdrop-blur-md p-2 pr-4 rounded-full border border-white/10",children:[p.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-amber-400 to-amber-600 rounded-full flex items-center justify-center text-slate-900 font-bold shadow-lg",children:r?.name?.[0].toUpperCase()}),p.jsxs("div",{className:"hidden sm:block text-right",children:[p.jsx("p",{className:"font-bold text-white text-sm leading-tight",children:r?.name}),p.jsx("p",{className:"text-[10px] text-amber-400 uppercase tracking-wider font-semibold",children:r?.role==="candidate"?"Kandidat":"Osoblje"})]})]})]}),a.length===0?p.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-12 text-center shadow-2xl",children:[p.jsx("div",{className:"h-20 w-20 bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-6 border border-slate-700",children:p.jsx(G1,{className:"text-slate-500",size:32})}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Nemate aktivnih prijava"}),p.jsx("p",{className:"text-slate-400 mb-8 max-w-md mx-auto",children:"Trenutno niste aplicirali ni za jednu poziciju. Ispunite formu za prijavu kako biste zapoeli svoju karijeru sa nama."}),p.jsxs("button",{onClick:()=>e("apply"),className:"inline-flex items-center gap-2 bg-gradient-to-r from-amber-500 to-amber-600 text-slate-900 px-8 py-4 rounded-xl font-bold hover:shadow-lg hover:shadow-amber-500/20 hover:scale-105 transition-all",children:["Apliciraj Sada ",p.jsx(hp,{size:18})]})]}):p.jsxs("div",{className:"space-y-6",children:[a.map(g=>{const v=c(g.status);return p.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-8 shadow-xl hover:border-amber-500/30 transition-all group",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-10",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:g.position}),p.jsxs("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-bold border ${g.status==="hired"?"bg-green-500/20 text-green-400 border-green-500/30":g.status==="reviewed"?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-slate-700/50 text-slate-400 border-slate-600"}`,children:["#",g.id.slice(-4)]})]}),p.jsxs("p",{className:"text-slate-500 text-sm flex items-center gap-2",children:[p.jsx(vm,{size:12})," Prijavljeno:"," ",g.createdAt?.seconds?new Date(g.createdAt.seconds*1e3).toLocaleDateString():"Nedavno"]})]}),p.jsx("div",{className:"self-start sm:self-center",children:p.jsx("button",{className:"text-xs font-medium text-slate-400 hover:text-white transition-colors border border-slate-700 hover:border-slate-500 rounded-lg px-3 py-1.5 bg-slate-800/50",children:"Detalji prijave"})})]}),p.jsxs("div",{className:"relative px-2",children:[p.jsx("div",{className:"absolute top-5 left-0 w-full h-1 bg-slate-800 rounded-full",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-amber-600 to-amber-400 rounded-full transition-all duration-1000 ease-out shadow-[0_0_10px_rgba(245,158,11,0.5)]",style:{width:`${(v-1)/2*100}%`}})}),p.jsx("div",{className:"relative flex justify-between",children:d.map(_=>{const x=v>=_.id,A=v===_.id,O=_.icon;return p.jsxs("div",{className:"flex flex-col items-center group/step",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center z-10 transition-all duration-500 border-4 ${x||A?"bg-amber-500 text-slate-900 border-slate-900 shadow-[0_0_15px_rgba(245,158,11,0.6)]":"bg-slate-800 text-slate-600 border-slate-900"}`,children:p.jsx(O,{size:16,strokeWidth:3})}),p.jsx("p",{className:`mt-4 text-xs font-bold uppercase tracking-wider transition-colors duration-300 ${x||A?"text-amber-500":"text-slate-600"}`,children:_.label})]},_.id)})})]}),g.status==="hired"&&p.jsxs("div",{className:"mt-10 bg-gradient-to-r from-green-500/10 to-transparent border-l-4 border-green-500 p-4 rounded-r-xl flex gap-4 items-start animate-fadeIn",children:[p.jsx("div",{className:"bg-green-500/20 p-2 rounded-full",children:p.jsx(ta,{className:"text-green-400",size:24})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-white text-lg",children:"estitamo! Angaovani ste."}),p.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Va proces prijave je uspjeno zavren. Na tim e vas kontaktirati uskoro sa detaljima o vaem novom angamanu u"," ",p.jsx("strong",{children:g.placementLocation||"naem partner hotelu"}),"."]})]})]})]},g.id)}),p.jsx("div",{className:"text-center mt-12",children:p.jsxs("button",{onClick:()=>e("apply"),className:"text-slate-400 hover:text-amber-500 font-medium text-sm flex items-center justify-center gap-2 mx-auto transition-colors",children:[p.jsx("div",{className:"h-8 w-8 rounded-full border border-current flex items-center justify-center border-dashed",children:"+"}),"Nova prijava za drugu poziciju"]})})]})]})]})},nI={apiKey:"your-api-key",authDomain:"your-project.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"00000000000",appId:"1:00000000000:web:00000000000000"},$1=typeof __firebase_config<"u"?JSON.parse(__firebase_config):nI,J1=kv($1),Kd=Aw(J1),Tv=NR(J1),xv=typeof __app_id<"u"?__app_id:"default-app-id";function iI(){const[r,e]=Se.useState("home"),[i,a]=Se.useState(null),[o,c]=Se.useState(null),d=$1.apiKey==="your-api-key";return Se.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await hA(Kd,__initial_auth_token):await aA(Kd))();const v=mA(Kd,_=>{a(_)});if(d){const _=JSON.parse(localStorage.getItem("current_user")||"null");_&&c(_)}return()=>v()},[]),p.jsxs("div",{className:"font-sans text-gray-900 bg-slate-50 min-h-screen flex flex-col",children:[r!=="login"&&r!=="admin"&&r!=="auth"&&p.jsx(QC,{setPage:e,currentPage:r,currentUser:o,setCurrentUser:c}),p.jsxs("div",{className:"flex-grow",children:[r==="home"&&p.jsxs(p.Fragment,{children:[p.jsx(YC,{setPage:e}),p.jsx($C,{})]}),r==="apply"&&p.jsx(ZC,{user:i,currentUser:o,db:Tv,appId:xv,setPage:e,isDemo:d}),r==="admin"&&o&&(o.role==="master"||o.role==="staff")&&p.jsx(WC,{user:i,setPage:e,adminUser:o,setAdminUser:c,db:Tv,appId:xv,isDemo:d}),r==="auth"&&p.jsx(eI,{setCurrentUser:g=>{c(g)},setPage:e,isDemo:d}),r==="dashboard"&&o&&p.jsx(tI,{user:o,setPage:e,isDemo:d})]}),r!=="admin"&&r!=="login"&&r!=="auth"&&p.jsx(JC,{})]})}LT.createRoot(document.getElementById("root")).render(p.jsx(DT.StrictMode,{children:p.jsx(iI,{})}));
